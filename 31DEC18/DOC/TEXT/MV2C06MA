@@
Map data files      MAdsss01


A. Overview

Function: Map data files contain the binary pixel values for the n-
dimensional "map" array ("image").

Details: Each map file holds only one image.  The header which
describes that image is stored in the catalog file for the disk on
which it resides.  (See CA file description in this chapter.)

Names:  Map file physical names are MAdsss01, where d is the disk
number and sss is the sequential position of the header in the catalog
file for that disk.  The logical names for map files, used by users,
have no relationship to this physical name.


B. Record formats


     The pixel values are stored in binary form in map files, normally
as scaled one-word integers.  The image array data are ordered in the
standard Fortran order in which the first axis counter varies fastest.
Each "row" of the array (one full cycle of this first counter) must
begin on a sector boundary and occupy one or more consecutive sectors
as required.  Thus, depending on row length and the number of bytes per
sector on the local machine, some disk space may be wasted.  This waste
is tolerated in order to obtain improved IO performance on (the normal)
row reads and writes.  Thus, each row requires
          NSROW = CEIL ( (BYTPIX * NAXIS1) / NBPS )
sectors.  The full map occupies
          NGPMAP = CEIL ( (NSROW * NAXIS2 * NAXIS3 ...) / NSPG )
granules, where NBPS and NSPG are in the common /DCHCOM/ described in
Chapter III.


C. Usage notes


     Map files are always read with the fast IO routines MINIT, MDISK,
ZMIO, ZWAIT, et al..  The scaling of the pixel values is described in
some detail in Chapter VI (portion on CA files).


D. Routines and commons for reading and writing map files


     These routines and commons are described in Chapter III.
