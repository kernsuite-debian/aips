        This file is used to record changes made to the version
 of AIPS that was most recently released to the community. It is
 intended to record the most serious bugs discovered since the
 release was sent out. Outside users can then use AIPSSERV to
 obtain the corrected routines.

Instructions for Installing Fixed Software
------------ --- ---------- ----- -------

   Before installing fixed versions of the AIPS software the fixed
routines must be placed in the appropriate directories.  The directories
are refered to in AIPS by their logical names.  To set the logical
or environment variables issue one of the following:

AIPS_PROC:LOGIN.PRG         (VMS)
$CDTST, $CDNEW or $CDOLD    (UNIX any shell)

   Then move the corrected version of the routine to the appropriate
directory.  To recompile subroutine logical:file issue one of the
following commands outside of program AIPS:
COMRPL logical:file         (VMS)
COMRPL $logical/file        (UNIX)

   To compile and link a task logical:task issue one of the following:
COMLNK logical:file         (VMS)
COMLNK $logical/file        (UNIX)

Description of changes:
----------- -- --------

   line 1:  Date    Program name     Programmer name
   line 2:  What was done
   Line 3:  A list of file names changes giving logical directories.
   Line 4:  A list of files to recompile and/or link.
   line 5:  Where has this change been moved (e.g. NEW, TST)
   line 6:  Blank

	CHANGES to the 15OCT89 version of AIPS as OLD

 ***********************************************************************
 ***********************************************************************


 0001.  November 22, 1989                 SPLIT              Phil
        SPLIT was messing up the writing of compressed data in that
        the scaling factor in the output records was set incorrectly
        and the resultant visibilites were therefore incorrect.
        A variable KLOCWT was used to describe the random parameter
        offset in the output data, this was set to the number of
        random parameters - 1 if compressed data was being rewritten.
        However this same variable was also used to define the offset
        in the input data, so the input data was messed up. Redefined
        KLOCWT to LLOCWT.
        Outside users should get APGNOT:SPLIT.FOR and then
        COMLNK APGNOT:SPLIT
        Moved from 15APR90 this date.

 0002.  November 13, 1989              BPASS                Phil
        When initializing BP tables I was not checking the number of
        polarizations being written. This was the result of a change
        put in just before the release. The result was that if only
        one polarization existed in the datbase an array was
        overflowing and the task would blow up.
        Outside users should get QPGNOT:BPASS.FOR and then
        COMLNK QPGNOT:BPASS
        Moved from 15APR90 this date.

 0003.  November 14, 1989              UVFLG                  Phil
        Would not work under the circumstance that no source name was
        specified. If there were none, an essential variable was left
        at 0 and since that was the loop index in the flagging do loop
        it didn't leave a lot for the task to do. The result was that
        the task claimed to end succesfully but no flagging information
        was written into the FG table.
        Outside users should get APGNOT:UVFLG.FOR and then
        COMLNK APGNOT:UVFLG
        Moved from 15APR90 this date.

 0004.  November 14, 1989        ALGSUB in MX, UVSUB          P. Leahy/Glen
        In GRIDDED execution of MX and UVSUB, for the last several months,
        a series of horizontal stripes were added to output images,
        because at U=0 ALGSUB was performing a complex conjugation
        when it should have been performing AP I/O.
        Removed all complex conjugation near U=0 from ALGSUB.  Gridded
        and DFT MX using ALGSUB now agree to 1 part in 10 million for
        the test image of a 4 Jy calibrator with 256*256 pixels.
        Outside users should get QNOT:ALGSUB.FOR and then
        COMRPL QNOT:ALGSUB
        COMLNK QYPGNOT:MX
        COMLNK QPGNOT:UVSUB
        Moved from 15APR90 this date, further correction added about 7 Dec 89.

 0005.  November 21, 1989      APLNOT:BPASET.FOR          Bill J.
        This routine didn't trap the case when both polarizations were
        flagged for a particular antenna.  On normalization of the table,
        divide by zeros were demanded.  The tasks blew up.
        Outside users should get APLNOT:BPASET.FOR, then
        COMRPL APLNOT:BPASET
        Then COMLNK the following tasks: QPGNOT:BLCAL, QPGNOT:BPASS,
        QPGNOT:CALIB, QPGNOT:CVEL, QPGNOT:HORUS, QPGNOT:PCAL,
        YPGNOT:TVFLG, APGNOT:CLCAL, APGNOT:LISTR, APGNOT:POSSM,
        APGNOT:PRTSD, APGNOT:SDCAL, APGNOT:SPLIT, APGNOT:UVFIT,
        APGNOT:UVIMG, APGNOT:UVPLT, APGNOT:SELSD.
        Moved from 15APR90 this date.

 0006.  November 22, 1989       BLREFM                        Phil
        The opcode in the call to TABBL was wrong when reformatting the
        tables. The task died in a very obvious manner.
        Outside users should get APLNOT:BLREFM.FOR, then
        COMRPL APLNOT:BLREFM
        Then COMLNK the following tasks: QPGNOT:BLCAL, QPGNOT:BPASS,
        QPGNOT:CALIB, QPGNOT:CVEL, QPGNOT:HORUS, QPGNOT:PCAL,
        YPGNOT:TVFLG, APGNOT:CLCAL, APGNOT:LISTR, APGNOT:POSSM,
        APGNOT:PRTSD, APGNOT:SDCAL, APGNOT:SPLIT, APGNOT:UVFIT,
        APGNOT:UVIMG, APGNOT:UVPLT, APGNOT:SELSD.
        Moved from 15APR90 this date.

 0007.  December 7, 1989         CGASET                        Bill C.
        Fixed an indexing problem for computing baseline dependent
        corrections for fringe rate errors.  This would cause problems
        for MKIII VLBI data only.  All tasks using the calibration
        routines should be relinked.
        Outside users should get APLNOT:CGASET.FOR, then
        COMRPL APLNOT:CGASET
        Then COMLNK the following tasks: QPGNOT:BLCAL, QPGNOT:BPASS,
        QPGNOT:CALIB, QPGNOT:CVEL, QPGNOT:HORUS, QPGNOT:PCAL,
        YPGNOT:TVFLG, APGNOT:CLCAL, APGNOT:LISTR, APGNOT:POSSM,
        APGNOT:SPLIT, APGNOT:UVFIT, APGNOT:UVIMG, APGNOT:UVPLT
        Moved nowhere.

 0008.  December 7, 1989        TVFLG Subroutines            Eric
        Corrected bugs in APLNOT:TVFOAD that caused the load by
        baseline length to fail.  When TVFOAD was rewritten for
        vectorization, the array indices for the second and third
        summing arrays were not modified for the baseline length,
        only the first was.  Corrected TVFOAD to initialize the
        image catalog when it zeros the memory.  Corrected
        APLNOT:GRIDTB to compute the subarray number correctly;
        machine accuracy of 1 part in 10**8 or so was assumed.  The
        data for subarrays > 1 were not gridded correctly.  NOTE: this
        error is probably common throughout AIPS.  Corrected GRIDTB
        to set IRET error code on errors from GTBWRT; such errors
        went undetected by higher-level routines previously.
        Corrected GRIDTB: when it was converted for vectorization, I
        suspect, the option to put the data in both as Ant1-Ant2 and
        as Ant2-Ant1 was subverted with no data going in the latter.
        Outside users should get APLNOT:TVFOAD.FOR and
        APLNOT:GRIDTB.FOR and then
        COMRPL APLNOT:TVFOAD
        COMRPL APLNOT:GRIDTB
        Moved from 15JAN90 this date.

 0009.  December 7, 1989             TV routines                  Eric
        Changed YSUB: subroutines IMANOT, IAXIS1, and IENHNS to use
        YSLECT rather than YGRAPH to turn on/off graphics planes.  The
        former uses YGRAPH but also sets the common variable TVLIMG
        which is used in TVFLG among other places.
        Outside users should get YSUB:IMANOT.FOR, YSUB:IAXIS1.FOR, and
        YSUB:IENHNS.FOR and then
        COMRPL YSUB:IMANOT
        COMRPL YSUB:IAXIS1
        COMRPL YSUB:IENHNS
        Moved from 15JAN90 this date.

 0010.  December 7, 1989        TVFLG               Eric
        (1) Corrected bugs related to having fewer than 4 graphics
        overlay planes.  It was possible for the menu to be erased
        without the menu routine being told about it.  The correction
        to IMANOT, made earlier, fixes a bug in which the graphics plane
        was not always turned on when needed.
        (2) Corrected handling of interactive window setting --- made it
        accept ``error'' returns for cursor off the image as at the
        outermost pixel of the current image.  I thought I had done this
        a year ago.
        (3) Added a dummy read of the cursor position to force the TV
        buffers to be flushed to the device.  Otherwise, graphics planes
        were left on when the program did things like prompt for
        terminal input.
        (4) Changed an initialization so that the current menu selection
        gets highlighted again when the user returns to the menu mode.
        (5) Changed to handle format errors reading terminal input
        using the new error codes of INQINT et al.  This provides new
        exit methods from a couple of places.
        (6) Changed TVFLG to display the subarray number in the
        CURVALU-like display while flagging, to use a faster alogorithm
        to convert from length number to baseline number, and to display
        current selection of length vs baseline order with an asterisk if
        the next load will switch that selection.
        (7) Corrected writing of history and flag files:
          (a) Corrected overhaul bugs in the handling of strings giving
              the ``REASON'' for the flag and history files.
          (b) Corrected missing arguments to WRITE for some history
              cards and added a test on NPOINT greater than zero.  The
             latter made a confusing message on restarts.
        Users should get YPGNOT:TVFLG.FOR, then do the two previous
        entries (IMANOT, GRIDTB, TVFOAD at least), and then
        COMLNK YPGNOT:TVFLG
        Moved from 15JAN90 this date.

 0011.  December 12, 1989               DBCON                  Phil
        Minor fix in DBCON. Under some circumstances it could blow up
        when attempting to determine the source number for single source
        compressed data if the array element it was looking in was a Nan.
        Changed so it only determines source numbers if it has to.
        This would only have affected compressed data occasionally.
        Outside users should get APGNOT:DBCON.FOR then
        COMLNK APGNOT:DBCON
        Moved nowhere.

 0012.  December 14, 1989             SPLIT                      Phil
        When copying the FQ table to the output file the offset for
        IF's was not being adjusted correctly, except for the 1st IF.
        This was causing problems later since the u,v,w's for IF's >
        1 would then be calculated wrongly.
        For some inexplicable reason SPLIT was not using the freq.
        offset from the SU table when writing the output file header
        and rescaling the u,v,w's. The frequency is now updated correctly
        for each source in SPLCOP.
        Outside users should get APGNOT:SPLIT.FOR then
        COMLNK APGNOT:SPLIT
        Moved nowhere.

 0013.  December 14, 1989           UVPLT                    Eric
        Corrected bug positioning the time-date string on the plot.
        It was one character too high.  Users should get
        APGNOT:UVPLT.FOR and COMLNK it.
        Moved to 15JAN90 and 15OCT89 this date.

 0014.  December
