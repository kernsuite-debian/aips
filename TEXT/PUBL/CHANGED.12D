;-----------------------------------------------------------------------
;  Copyright (C) 2011-2013
;  Associated Universities, Inc. Washington DC, USA.
;
;  This program is free software; you can redistribute it and/or
;  modify it under the terms of the GNU General Public License as
;  published by the Free Software Foundation; either version 2 of
;  the License, or (at your option) any later version.
;
;  This program is distributed in the hope that it will be useful,
;  but WITHOUT ANY WARRANTY; without even the implied warranty of
;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;  GNU General Public License for more details.
;
;  You should have received a copy of the GNU General Public
;  License along with this program; if not, write to the Free
;  Software Foundation, Inc., 675 Massachusetts Ave, Cambridge,
;  MA 02139, USA.
;
;  Correspondence concerning AIPS should be addressed as follows:
;         Internet email: aipsmail@nrao.edu.
;         Postal address: AIPS Project Office
;                         National Radio Astronomy Observatory
;                         520 Edgemont Road
;                         Charlottesville, VA 22903-2475 USA
-----------------------------------------------------------------------
     This file must be used to record any changes made to the Master
version of AIPS kept in SOCORRO.  An entry is:

   line 1:   Date Program name Your name
   line 2:   What was done (may span multiple lines)
   line n-1: Where has this change been moved (e.g. 15JUL94, nowhere)
   line n:   Blank

 The details of line 1 are important since programs are used to find
 specified strings and do conversions on them.  It MUST be typed as
 follows: 1 blank, 4 digits, a period, two blanks, then the Month,
 day, comma, year, some space, a title, some more space, your name.


***********************************************************************
***********************************************************************

                 Changes while 31DEC12 is TST

***********************************************************************
***********************************************************************

13719.  December 12, 2011         code rollover           Eric
        ZPBUFSZ   small buffers 3 times larger, large ones 6 times
                  larger
        PMAD      buffers 4 times larger
        Change release date in GETRLS, INSTEP1, install.pl, update.pl,
        ZXHLP2.PL LaCook.PL, UPDXCONTROL, AIPSPATH.CSH. AIPSPATH.SH.
        Moved nowhere.

13720.  December 12, 2011       help files                Eric
        UVFIT: correct limits on visibilities and parameters, fix some
               bad grammar
        REWAY: correct minor typos and things easily mis-read
        SNIFS  needed details for SNIFS rather than SNPLT in the
               summary sections.
        Moved to 31DEC11 this date.

13721.  December 12, 2011         TV issue                Eric
        Some plots try to finish on the TV when they never opened in
        the first place.  Changed ZDCHIN to set TVBROK = -1, TVOPEN to
        set TVBROK = max (0, TVBROK), and TVCLOS to set to -1 if 0.
        The tasks would hang on IO to the TV trying to remove any HOLD
        condition - now the Z routine that does the IO will not
        attempt it if the TV is not open.
        Moved nowhere.

13722.  December 14, 2011           APCAL                Eric
        APCAL did not check if the TY antenna record had SUBARRAY <= 0
        which is supposed to mean "any".  The FQ tests were also in
        error on a similar point.
        Moved to 31DEC11 this date.

13723.  December 14, 2011           FARS                 Eric
        Changed HI writing to explain all 9 of the APARM parameters.
        Changed handling of some as well - there were cases that would
        escape the code.
        Moved to 31DEC11 this date.

13724.  December 14, 2011          REWAY                   Eric
        Added BADDISK
        Moved to 31DEC11 this date.

13725.  December 16, 2011        CLIP                 Eric
        The history file using a generalized CALHIS recorded only the
        last source considered.  It was prepared to do otherwise but
        did not.  Took advantage of the preparation to prepare the
        source names and numbers for the history routine.
        Moved to 31DEC11 this date.

13726.  December 19, 2011       SPLIT, SPLAT            Eric
        Changed code to supress messages on UVGET CLOSe calls but to
        do the close calls even when no data were found.  The FG table
        was opened and left open although other files were not open -
        a close is needed but it is best to avoid the file not open in
        FTAB messages.  Also moved the RNXCLS to make sure that an NX
        table is closed even on error.  Blocked continuing on the next
        source.
        Moved to 31DEC11 this date.

13727.  December 20, 2011  FRING, KRING, UVFLG Olaf Wucknitz/Eric
        Using LOFAR data, some limits have been found that are
        incorrect.  Changed the history writing in FRING and KRING to
        handle ANTWT is a general fashion.  Changed the baseline
        limits in UVFLG to MXBASE (= 90*91/2.) rather than 500.
        Moved to 31DEC11 this date..

13728.  December 20, 2011            SLICE                Eric
        Added X, Y, Z physical coordinates to the output text file.
        Allow multiple outputs to go to the same text file and added a
        header line at the start.
        Moved to 31DEC11 this date.

13729.  December 20, 2011             SQASH               Eric
        Changed to allow it to sum even axis 2, producing a 1-row
        image if summing all axes >= 2 or an image with 1 point on the
        2nd axis otherwise.  A trivial TRANS may be needed on the
        latter to make it more visible.
        Moved to 31DEC11 this date.

13730.  December 21, 2011   DATCAL, DSMEAR, FXSEG          Amy
        For VLBA data UVGET (through DATCAL) attempts to apply
        decorrelation corrections caused by averaging in the correlator.
        The info needed to compute this correction is in the CQ table.
        FXSEG, the subroutine that determined the segmetation loss
        factor only worked for FFT sizes of 2048 and smaller and the
        warning messages from DATCAL and DSMEAR about the FXSEG failure
        were incorrect and confusing.
        Changed:
        FXSEG   Fixed so that will work for any FFT size with UNIFORM
                taper.  Still a problem with HANNING taper.
        DSMEAR  When FXSEG returns an error code prints a message that
                segmetation loss factor cannot be calulated.  Also
                added an error message if there is some other problem
                CQ table.
        DATCAL  Clarified warning message, it now says there is a problem
                with the CQ table (rather than there is no CQ table) and
                therefor no decorrelation corrections will be applied.
        Moved nowhere.

13731.  December 23, 2011          LISTR                  Eric
        Changed to do SY tables (Psys and Pgain) in the GAIN listing
        routines (2 formats).  Required correcting the handling of new
        scans.  Added 0.1s of seconds to the times as well.
        Moved nowhere.

13732.  December 27, 2011         SLICE                 Eric
        Made a bad array reference - the subscript got set to 0 by the
        coordinate call - so the text file outputs had zero for slice
        value.
        MOved to 31DEC11 this date.

13733.  December 27, 2011         IM2CC                 Eric
        Changed to $APGNOT so that TABSRT can be called to sort the CC
        tables into descending order by flux.
        Moved nowhere.

13734.  December 30, 2011         AFARS                 Leonia/Eric
        A small problem has existed near BLC, TRC. It has been fixed.
        The fitting of parabola to determine position of maximum
        (with beter accuracy) is not carried out now if maximum is too
        close to the edges of data.  Changed coordinate computation to
        use header parameters rather than make assumptions about the
        coordinates.
        Moved to 31DEC11 on Jan 2.

13735.  December 31, 2011         ANFIND                 Eric
        Added ARRAY 'NORH' for Nobeyama Radioheliograph.  In time
        31DEC12 tasks will recognize this.
        Moved nowhere.

13736.  December 31, 2011       EVLA.ant.2011           Eric
        Moved 2011 EVLA antenna location corrections to $AIPSTARS.
        Set up analysts for 2012.
        Moved nowhere.

13737.  December 31, 2011          SPCOR                Eric
        NEW TASK: does PBCOR operation plus spectral index correction
        to data cubes.  This may be needed especially for inputs to
        FARS.
        Moved nowhere.

13738.  January 2, 2012           UNIXSERVERS              Eric
        Removed debug message inadvertently left in
        Moved to 31DEC11 this date.

13739.  January 2, 2012            IM2CC                   Eric
        Changed it to center each piece of the input image in an
        output image that is a power of 2 pixels on a side.
        Moved to 31DEC11 this date.

13740.  January 3, 2012              FARS               Eric
        FARS had the meaning of APARM(4) backwards for the HI file.
        It also did wierd things (nothing???) when APARM(4) > 1.5 - a
        holdover from when FARS had an AFARS kind of output.
        Moved to 31DEC11 this date.

13741.  January 3, 2012        Imaging                 Eric
        Changed GRDAT, GRDSET, SETGRD to insist on powers of 2,
        rounding up as needed.  The first allowed images up to and
        including 8192 to be doublesd in gridded subtraction, while
        the second limited them to 4096 and the third to 2048.  Fixed
        the latter two to allow 8192 doubling.
        Changed SETDO3 to understand DO3D false imaging - it forbad
        multiple facets in 3D false.  Also have it set FLDSZ which
        needs defaulting sooner than later.  OOSUB was failing badly.
        Moved to patch January 16.

13742.  January 4, 2012            OOCAL                  Eric
        New RUN file and procedure to do OOSUB to apply
        channel-dependent primary beam and spectral index options
        followed by CALIB self-cal with a TACOP to return the SN table
        to the original input file.  Changed POPSDAT and NEWPARMS to
        create a new adverb DOKEEP.
        Moved nowhere.

13743.  January 4, 2012       FARS                        Leonia
        FARS has had several mistakes near conversion RE,IM to AMP/PHASE
        especially when RESIDUAL sent to the output
        Moved to patch January 16.

13744.  January 4, 2012         Imaging                   Eric
        Added progress messages to VISDFT, ALGMEM, ALGSTB.
        Moved to patch January 16.

13745.  January 5, 2012       FARS                        Leonia
        Add shifting residual phase to the initial lambda^2 set.
        Moved to patch January 16.

13746.  January 5, 2012       FARS                        Leonia
        Misprint at the previous installation
        Moved to patch January 16.

13747.  January 6, 2012        Miscellaneous             Eric
        DOFARS    Procedure set default OUTCLASSes ignoring the
                  amplitude/phase versus Real/Imaginary option.
                  Fixed to be FARSam/FARSph or FARSre/FARSim
                  and TRANam/TRANph or TRANre/TRANim depending on
                  APARM(5).
        AFARS     Help file: Added sentence about axis order - the
                  input images are from FARS (which it already said)
                  not the tranposed images from the DOFARS procedure.
        FITLD     Help file: amplified the statements about FITS IDI
                  only adverbs and re-ordered them so that all adverbs
                  after some point are IDI only
        FITLD     Fortran: reordered the adverbs expected to match the
                  help file change.  TGET will be a mess.
        Moved nowhere, the FARS ones maybe should go to patch.

13748.  January 6, 2012          FITAB                  Eric
        Did not write the TNULL keyword for compressed uv data.  It is
        -32767 rather than the obvious -32768 so it is important.
        Moved to patch January 16.

13749.  January 6, 2012           SQASH                 Eric
        A WRITE statement for a history line had too many arguments
        for its format.  Dropped the unwanted argument.
        Moved to patch January 16.

13750.  January 7, 2012           UVFIT                 Eric
        Add option to have a comment string following the parameters
        in the INLIST file.  This comment appears at the end of the
        line in the FITOUT file.
        Moved to patch January 16.

13751.  January 9, 2012          Lustre issues          Eric
        Lustre file systems lie about file sizes - not just saying 0
        but syaing real sizes that are wrong.  Added code to ZMI2 and
        ZFI2 so that, when a request exceeds the stated file size, the
        routine issues a message, delays 1 second, asks the system
        again about the file size.  If that also fails, then it does
        the whole message/delay/ask over again.  If it still fails,a
        fatal task error is generated and the task dies.
        Moved nowhere.

13752.  January 9, 2012             AFARS                Eric
        Found several errors in the code: (1) If the quadratic maximum
        fit failed or was too close to the edge, the BLC(1) correction
        was not added.  (2) If the fit was once too close to the
        edge, it no longer did the quadratic fit at all (IRET never
        reset to 0).  (3) If the input row was all zero or blank, the
        task used a pixel value that was not properly tested.  Now it
        will use the blanking value.
        Moved to patch January 16.

13753.  January 9, 2012            UVFIT                Eric
        Found lots of places still dimensioned 4 rather than XMXCMP
        (20) so the commputation of lots of things should have gone
        into the weeds and did when there were > 4 model components.
        Adde a couple of spaces to the output file format and changed
        how time is handled so the actual minimum and maximum times
        used are what is reported.
        Moved to patch January 16.

13754.  January 16, 2012            CLCOR                Eric
        The GMRT uses a backwards phase convention to the rest of us.
        Changed a few places - esp the place that moves antenna and
        source positions - to reverse sign for GMRT.
        Moved to patch this date.

13755.  January 16, 2012          CLCOR                Eric
        Tediously removed all of the horribly non-standard illegal
        Fortran from the code.  Corrected bug put in previously today.
        Moved to patch this date.

13756.  January 19, 2012          UVFIT                Eric
        Changed it to allow up to 60 components in a fit.  A user with
        that many had better have really good data.
        Moved nowhere.

13757.  January 20, 2012          TARS                 Leonia
        The new task is to test the Faraday rotation synthesis task FARS.
        The input file includes 3 columns: frequencies, Q, and U.
        The result is sent to the output file. The options are described
        by the same inputs used by FARS.
        Moved nowhere.

13758.  February 21, 2012      Double precision AP            Eric
        When INTEGERs count, they overflow at 2^31-1.  When REALs
        count they cease to increment after 8 million counts or so.
        Our data can exceed this now.  Computational inaccuracy also
        leads to errors, especially for example in the corners of
        FFTed images where the gridding function correction is large.
        It is important to get right answers not overflowed or
        undercounted ones and it is nice to have more accurate answers
        as well.  So we are switching to double precision in the
        pseudo AP and making other corrections.  Changed
        DAPC.INC   Changed REAL to DOUBLE PRECISION and INTEGER to
                   INTEGER*8.  Our 32-bit systems (LINUX, SUL) handle
                   this correctly although it is not legal.
        Q1GRD      Local variables INTEGER = APCORI(..) to call
                   another Q routine
        QGRD2      Changed INTEGER to LONGINT for numerous pointers!
                   Also REAL -> DOUBLE
        QINIT      Convert PSAPOF to a double precision index - ask
                   for twice as many words
        QMAXV      Corrected answer to remove offset to dynamic
                   memory.  Subscript was not used I guess.
        QMINV      Corrected answer to remove offset to dynamic
                   memory.  Subscript was not used I guess.
        QNGRD      Use local INTEGER = APCORI(..) variables to call
                   another Q routine, REAL -> DOUBLE
        QUVIN      use local INTEGER = APCORI(..) variables to call
                   another Q routine, REAL -> DOUBLE
        QXFOUR     Data to FFT changes from REAL to DOUBLE
        UVTBUW     Fix call to QGET to ask for integer when integer is
                   needed.
        UVWAIT     REAL -> DOUBLE, drop integer count
        AUC        Verb SETMAXAP - set KAPWRD to half as much per
                   Mbyte.
        SETMAXAP   Help file - add info about using 8 bytes per word
        ARRAY      New read/write images to double array
        APUTIL     For images, use new ARDRED and ARDWRI routines.
                   For UV data read/write to local variables and
                   then copy to/from AP.
        QCLEAN     Direct uses of APCORE: changed CC one to read flux
                   into local variable and then scale to APCORE.
                   Changed the other to use ARDRED and ARDWRI.
        DEFLG      Uses APCORE - changed to a loop to load the AP
                   memory and some doubles to compute on it
        SDIMG      Convert to DFILL with 0.0D0.
        UVCON      Convert to double precision in local QXXPTS
        CXCLN      Correct QGET call to ask for integer - equivalence
                   tricks are not allowed!  Changed it to disk I/O to
                   a local variable and then use QPUT and to use QGET
                   to a local variable and then disk I/O from there.
                   Direct reading to the AP is not allowed.
        Simple changes of variables from REAL to DOUBLE:
        Q1FIN    QBOXSU   QCGAUS   QCLNSU   QCSQTR   QCVEXP   QCVMMA
        QCVMUL   QCVSDI   QCVSMA   QCVSMS   QDFT     QFINGR   QGADIV
        QGASUB   QGRD1    QGRD3    QGRD4    QGRD5    QGRD6    QGRD7
        QGRD8    QGRDMI   QGRIDA   QHIST    QINTG    QINTP    QLVGT
        QMAKMS   QMAXMI   QPHSRO   QPOLAR   QPRJM    QPTADC   QPTDIV
        QRECT1   QRECT    QRFFT    QRFT     QSPDIV   QSPSUB   QSVE
        QSVESQ   QTAPER   QUCONJ   QVCLIP   QVCLR    QVFILL   QVFIX
        QVFLT    QVIDIV   QVRVRS   QVSADD   QVSMA    QVSMAF   QVSMSA
        QVSMUL   QVSWAP   QVTRAN   QVTSMU   QWTCNT   QWTGRD   QWTSUM
        QXXPTS
        Change of comments - they had real errors in QPUT, QSORT.
        Also changes in typing
        QCRVMU   QGET     QGETIN   QMULCL   QPUT     QPUTIN   QSORT
        Moved nowhere.

13759.  February 21, 2012               ZMEMRY                 Eric
        Changed the NWORDS argument to KWORDS - number of kilowords
        (kilobytes = 4 * KWORDS) in ZMEMRY.  Changed calls to ZMEMRY:
        BPASET   CALADJ   POLSET     TABSRT   INTERPLATE   TVUTIL
        QINIT    QCLEAN   QEDIUTIL
        ACFIT   ACLIP   BPSMO   CLIP    CORER   CUBIT   EVASN
        FGDIF   FLGIT   GETJY   HGEOM   LGEOM   MSORT   OTFUV
        PGEOM   REFLG   REWAY   RLDIF   SNFLG   SPLAT   STFUN
        TRUEP   UVAVG   UVHIM   UVLIN   UVMLN   UVMTH   UVRFI
        VBGLU   XTRAN   BLAPP   CCEDT   CCRES   FILIT   FIXWT
        FXPOL   SABOX   RFARS   SDMOD   SPCOR   SQASH   TRANS
        BLCAL   BLCHN   BPASS   CALIB   CVEL    DEFLG   FRING
        KRING   PCAL    RLDLY   BLING   BSAVG   IMAGR   OMFIT
        SCIMG   WFCLN   EVAUV   BSCLN   IMEAN   RSPEC   ANBPL
        DELZN   ELINT   IBLED   OBPLT   RFLAG   SNIFS   VPLOT
        WIPER
        Moved nowhere.

13760.  February 21, 2012    Dispersive delay            Eric
        There is no dispersive delay in the SN table, just the CL
        table.  GAININ correctly deals with this but CSLGET failed to
        test for the pointer being < 0.  Corrected to test pointers
        for ionosphere and dispersion before setting the variables
        from the data records.
        Moved nowhere.

13761.  February 21, 2012           Source table          Eric
        Added observed RA and Dec
        Changed includes:
        PUVD.INC  Change number SU columns from 19 to 21.
        DSOU.INC  Add RAOBS, DECOBS
        DSOV.INC  Add RAOBS and DECOBS column pointers and variables,
                  comment about the limits in row size
        Changed subroutines:
        SUINI     New routine is SOUINI with added columns
        TABSOU    Added RAOBS, DECOBS to call seq, added pointers for
                  them and moved pointers for columns that follow.
        SOUINI    Changed to call SUREFM and the real SUINI.
        SUREFM    Reformats the SU table, taking the epoch positions
                  to be the pointing positions
        SOINI     Added new columns
        SOTAB     Add new columns with EPO values if OBS columns
                  missing.
        DGHEAD    Change call sequence to TABSOU, use the observed
                  coordinates to go into the header rather than epoch
        GETSOU    Change call sequence to TABSOU, fill common from
                  that or from header in single source files
        TABLEUTIL Changed call sequence to TABSOU and to OTABSU.
        Subroutines changed call sequence to TABSOU only
        ACTFRQ   COPTAB   FACSET   FNDSOU   SOUFIL   SOUFND
        SOURNU   SUSEL
        Tasks changed
        ATLOD     Changed call to TABSOU, set RAOBS/DECOBS to epoch
                  ones.
        FITLD     Changed numerous calls to TABSOU.  Pick up pointing
                  position from SO table with IDI data.
        MATCH     Fixed calls to TABSOU, made pointing as well as
                  phase stopping positions match
        MULTI     Fixed call sequences, get pointing from header
        UV2MS     Fixed call sequences, added code to get
                  pointing position from single-source header
        Tasks changed for call sequence only
        ACLIP    ATMCA    AVSPC    CLCOR    CLIP     DBCON    DFCOR
        DQUAL    DTSIM    EVASN    FGDIF    FILLM    FILLR    FIXAL
        FLOPM    GETJY    HAFIX    LISTR    M3TAR    MK3IN    NOIFS
        PRTUV    QUOUT    REFLG    RLDIF    SETJY    SPLAT    SPLIT
        SUFIX    TI2HA    TRUEP    UVFIX    UVFLG    UVLOD    UVMLN
        VLBIN    BLAPP    COHER    DTSUM    FXPOL    SPECR    BLCAL
        BLCHN    BPASS    CALIB    CPASS    CVEL     DEFLG    FRING
        LPCAL    PCAL     RLCAL    OMFIT    OMFIT    DELZN    ELINT
        FRMAP    POSSM    SOUSP
        Moved nowhere.

13762.  February 21, 2012          SETGDS                  Eric
        SETGDS can loop to look over the facets twice if there is some
        issue of geometry.  It was resetting the CCVER array to the
        input value which meant 0 in most cases.  The image header
        that is used is not that of the facet when multiple facets are
        being gridded so a 0 can get the wrong thing easily.
        Moved nowhere.

13763.  February 21, 2012       FILLM, XAS                  Eric
        Bryan Butler poited out errors in the list of frequencies -
        the exponent was D0 when it should have been D9 for two of the
        new EVLA bands in FILLM.
        Martin Hardcastle pointed out the need to set AF_INET for the
        server family in XAS.SHR subroutine comm.c.  It caused certain
        Linux kernals to fail to run XAS in the Inet (default) mode.
        Moved nowhere.

13764.  February 21, 2012    SU table some more            Eric
        TABSOU used hard-coded column numbers in filling the arrays
        and some off them changed.
        Numerous routines used 19 for the number of SU columns rather
        than the parameter MAXSUC.  Changed them to use the
        parameter: ACLIP, BPASS, CLIP, CPASS, DEFLG, DFCOR, FILLR,
        LISTR, SETJY, SPLAT, SPLIT, UVMLN, FACSET, FNDSOU.
        FILLR required MAXIF local variable to be renamed.
        Moved nowhere.

13765.  February 22, 2012         TKSRV                 Eric
        The logic of include files in ZTKSRV.C differs from that in
        ZMSSRV and ZTVSRV - and a gfortran had troubles.  Changed it
        to match.
        Moved nowhere.

13766.  February 22, 2012         TVFLG, SPFLG          Eric
        These tasks used LUN 29 for the output FG table and in some
        cases that LUN was still in use by something else.  Changed to
        set the LUN with LUNTMP and so never have this conflict.
        Moved nowhere.

13767.  February 22, 2012           ELINT               Leonia
        Rick Perley asked to add to the plot headers the normalized RMS
        of residuals and the RMS of the pointing offset which is related
        with the RMS of residuals. Rick has provided the equation of
        the relation. It's done.
        Moved nowhere.

13768.  February 22, 2012       ORIGIN                 Eric
        This keyword has a standard meaning in FITS and so should not
        be used in a table for another purpose.  It is in SN tables
        and I changed it to SNORIGIN.  Changed CLCAL, ACCOR, UVCRS,
        ACFIT, PCCOR, FRING, CALIB, KRING.
        Moved nowhere.

13769.  February 22, 2012         Imaging              Eric
        SETGDS used FLDSZ to decide whether to force DFT before it was
        set and so did not force it in some calibrator model cases.
        Reduced the progress messages from every 50000 to every 200000
        in VISDFT, ALGMEM, and ALGSTB.
        Moved nowhere.

13770.  February 23, 2012           ELINT               Eric
        Changed:
        1. Loop reading the OT table used the record number as the
        loop variable.  In general, this meant only every other line
        was read since the read routine ups the record number
        variable.  Changed to control things better.  Added error
        handling because in one compiler's version it tried to read
        the right number of records but with record numbers twice too
        large.
        2. The source finding routine fill a variable with only 30
        values with all of the source names in the SU table when
        SOURCES or CALSOUR was not specified.  This blasted pieces of
        other commons that control file access, messages, etc.
        Raised MAXSOU to 500 because of this routine.
        3. Moved MAXFIT to a separate local include so that it could
        be put in ELFIT where local variables were of size 10 and
        needed to be MAXFIT (200) or MAXFIT*MAXFIT.
        4. Added a comma to a FORMAT statement.
        5. Changed LEASQR to allow for bigger problems - its limit was
        50.
        Moved nowhere.

13771.  February 23, 2012           FITLD                Eric
        SOIO was not recompiled when it had to be making FITLD mess up
        some parameters in the SO table.  The output data were fine.
        Moved nowhere.

13772.  February 24, 2012         ZMEMRY                 Eric
        Several routines used the ZMEMRY call argument after the call
        to ZMEMRY and did not have the units properly restored.  They
        included:
        BPASET   INTERPLATE    OTFUV   UVRFI   FIXWT   SNIFS   VPLOT
        UVMLN    CVEL
        Moved nowhere.

13773.  February 27, 2012            COMB                Eric
        The actual OUTSEQ used was picked up from the wrong header
        after the MCREAT call and so ended up in the HIstory file with
        the INSEQ value.
        Moved nowhere.

13774.  February 27, 2012           IMAGR               Eric
        Created QDGET and QDPUT to transfer double precision values
        from/to pseudo-AP memory.
        Changed UVWAIT to compute all things in double precision and
        use QDGET and QDPUT for things as well.  It was getting
        a few round-off failures that caused it to fail to get the sum
        of weights in some cells correctly.  Also added code to handle
        such edge effects if they arise - but they went away in my
        data with the double precision change.
        Moved nowhere.

13775.  February 27, 2012            POSSM               Eric
        Added another counter through both plots with data and ones
        without.  This lets us know when we are nearly done with NPLOT
        > 1 plots.  Changed labeling indicators to get numeric labels
        with frequency and velocity in all rows of the plots and
        characters (e.g. FREQ MHZ) only in the bottom plot of each
        column.
        Moved nowhere.

13776.  March 1, 2012             MULTI                   Eric
        Added auto creation of an NX table.
        Moved nowhere.

13777.  March 1, 2012            VLANT                    Eric
        The code reversed the sign of the Y correction for EVLA for
        the delay computations.  It also neglected to shift the hour
        angles from local to Greenwich which it must do for the EVLA.
        I guess these errors compensated in tests in 2009.
        Moved to patch this date.

13778.  March 3, 2012               SNREF                 Eric
        NEW TASK: Takes an SN or CL table and tries to see which
        reference antenna minimizes the rms in the R-L phases.
        Moved nowhere.

13779.  March 3, 2012               LISTR                 Eric
        Added DPARM(9) which if > 0 converts all times to LSTs.  The
        labeling tries hard to make this clear.  This works in every
        OPTYPE.
        Moved nowhere.

13780.  March 6, 2012              SCMAP                  Eric
        Changes to Fortran and help to
        1. Add BOXFILE to define initial Clean boxes
        2. IM2PARM to allow auto-boxing including with TELL.
        3. Changed APARM(8) to allow negative values to permit the use
        of negative summed Clean components in the model and in the
        restart of the next Clean.
        4. Also put in code to insist that the input file be a
        single-source file.
        5. Previously, uncompressed input files were fed directly into
        UVMDIV for model division.  This meant that flag tables were
        not applied.  Compressed data were copied first to make them
        uncompressed but also to apply flags.  Changed two places to
        do this for both compressed and uncompressed data.
        Moved fix 5 to patch March 7.

13781.  March 7, 2012             SCIMG                    Eric
        Made the same changes to SCIMG as to SCMAP except that BOXFILE
        was already in SCIMG.
        Moved fix 5 to patch this date.

13782.  March 8, 2012            CLIP                   Eric
        Corrected formats in TABIO to encompass the full range of I*4
        numbers (I12 with a space in front).  Changed CLIP to issue
        progress messages every 100000 vis rather than 10 times more
        often.
        Moved nowhere.

13783.  March 11, 2012           SETJY, CVEL            Eric
        Changed:
        FRQUPD   To return error code -1 if sample for the current
                 time not found
        DAYNUM   To use the arrays of numbers without erasing one in
                 leap years.  Two calls to the routine, the second
                 after the first was in a leap year, would get the
                 wrong answer in non leap years.  It will work now.
        CVLDOP   Had it set the year and day number if they were 0 on
                 input.  Changed to use ANT+1 as the antenna number in
                 the arrays.  Previously it allowed ANT=0 but did not
                 handle times correctly in that case.  That case is
                 used in CVEL for the VLBA and EVLA.
        SETJY    Help file: add OPTYPE='VCAL' to put velocities of the
                 first observation into the SU table.  Increased
                 details of when adverbs are used and when they are
                 not.
        SETJY    Changed internal spelling of some variables to allow
                 use of standard commons.  Made velocity type and
                 dwefinition be specified correctly including
                 defaults.  Add code to do VCAL - subroutine GETV
                 gets antenna array info, gets the time of the first
                 scan on each source from the NX table, calls FRQUPD
                 and CVLDOP to get frequencies and Doppler offset.
         LISTR   It used VELDEF not VELTYP for 'BARYCENTR'.
         Moved nowhere.

13784.  March 12, 2012           TARS                    Leonia
        The model of rotation measure components are added into the
        input file. The model rows are labeled by the symbol "M" at
        the first position. Number of model components is determined
        by the relevant nuber of the model rows at the input file
        and is not limited.
        Moved nowhere.

13785.  March 12, 2012             UVPRT                Eric
        Changed to have DPARM(6) > 0 indicate that phases should only
        use 3 of the 4 spaces allocated in the format and thus range
        from -90 to 270.  This will aid parsing the output.
        Moved nowhere.

13786.  March 12, 2012              DOPOL               Eric
        The ORI-ELP mode of PCAL requires access to the antenna file
        for phase difference information.  POLSET was supposed to
        provode a 512-word buffer for PDRGET but gave it a 16-word
        local variable instead = causing stuff to get walked upon.
        Moved nowhere (so far - patch??).

13787.  March 13, 2012             OMFIT                 Eric
        Changed with help from Michael Bietenholz:
        KEYIN    The temporary storage for symbols wa 8 characters -
                 not enough for an 8 character string plus quotes or
                 for long numeric parameters either.  Changed it to
                 16 internally and took steps to insure that the end
                 mark test is also 16 (w a local variable).  Put in a
                 test for excessively long symbols with a message and
                 fixed the formats from A8 to A.
        OMFIT    Help file: (a) changed comment about Ketan.
                 (b) Clarified the OUTFILE info.
                 (c) Added option WEIGHTIT.
                 (d) Corrected explanation of the 2nd parameter of the
                 INFILE cards (it is source number for multi-source
                 files as well as an identification number.
                 (e) Add minimal documentation of spherical shell
                 model type.
        OMFIT    (a) Add WEIGHTIT adverb and apply it to data weights.
                 (b) Changed OUTPRINT to append to exsiting files.
                 (c) Dropped or changed version info (was 15OCT98)
                 (d) In reading INFILE, initialized a variable so that
                 checking of source IDs does not happen in
                 single-source files.  Otherwise if BCHAN > 0,
                 single-source files could not have worked.
                 (e) Add message when no model components are found.
                 (f) Phase-only self-cal needed normalization added by
                 MFB.
                 (g) Add display of corrected "real" Chi-squared and
                 reduced chi squared per MFB.
                 (h) Increased error estimates by sqrt(2) per MFB.
                 (i) Dropped warning about sources for single-source
                 files.
                 (j) In source reading routine added check for
                 single-source files to avoid all the SU table does
                 not exist messages.
                 (k) MFB added sphere models.
                 (l) Converted 3 subroutines written in lower case
                 letters to the required upper case.
                 The code is a mess in some ways but seems to work
                 (i.e it writes directly to text files ignoring ZTXIO)
                 so I am going to put it back for now so people can
                 try it.
        Moved nowhere.

13788.  March 14, 2012              SUREFM                Eric
        SUREFM would clear only one READ status on the input file
        and then try to put a WRIT status on it.  Changed it to loop
        clearing as many READ statuses as there are and then put the
        READ status on.
        Moved nowhere.

13789.  March 14, 2012            NAMEGET                 Eric
        New verb - fills in INNAME, INCLASS, INSEQ, INTYPE, INDISK to
        match all wildcards and defaults, starting with whatever is in
        those adverbs to begin with.  Changed AU8, POPSDAT, NEWPARMS.
        Moved nowhere.

13790.  March 15, 2012              SETJY                 Eric
        The code put back a couple of days ago initially used RA and
        Dec values in degrees where radians were expected.  The change
        to fix that caused all coordinates in the SU table to divided
        by 180/pi for each execution.  The whole thing is corrected
        for now but we do need to think about whether the EVLA
        velocity is wrt center of the Earth or each antenna.
        Moved nowhere - early MNJ prep.

13791.  March 15, 2012             IMEAN               Eric
        Changed histogram fit fails message - happens when histogram
        has a bad shape.
        Moved nowhere.

13792.  March 15, 2012         TVFLG, SPFLG            Eric
        When a multi-source file was read into these tasks for a
        single SOURCE, the source number was lost.  This made it flag
        all sources no matter what the user requested.  Some work
        seemed to guarantee that the source number made it to the work
        file, but it still seemed to be zero reading it back.  Added
        more code to cover that issue too.  In TVFLG, corrected a
        STRING length that was at least 1 too short giving ? on the TV
        screen.
        Moved nowhere.

13793.  March 16, 2012            SETJY                 Eric
        Changed it to avoid using COMMON except where necessary.  The
        version of yesterday should work but this is safer.
        Moved nowhere.

13794.  March 16, 2012            FILLM                  Eric
        Changed to display zenith opacity at IF 1 (plus K band) in the
        new opacity method.  Forced change to KBOPAC to return the
        zenith opacities (IF) and to INDXR to deal with the changed
        call sequence.
        Moved nowhere.

13795.  March 16, 2012             OMFIT                 Eric
        Changed:
        1. "Real CHI2" to be scaled by actual variance when NOISE(1)
        is not specified.
        2. Use G format to do CHI2 displays since weights are dubious
        in many cases.
        3. Label Ketan's "scaled" CHI2 as such and display them only
        when PRTLEV >= 4.  Display "Real CHI2" when PRTLEV >= 2.
        4. Remove all direct writes to files and (*) = the terminal,
        replacing them with calls to ZTXIO and MSGWRT.  The subroutine
        SGET is left as an exception since it is doing binary reads
        and writes to a file.
        Moved nowhere

13796.  March 19, 2012         FRING, RLDLY             Eric
        Changed both tasks to offer the ability to divide the spectrum
        into quarters for finding solutions.  The code generalized
        nicely, actually simplifying the code structure.  Corrected
        FRING to use the right frequency for a reference in each IF in
        these modes, but the answers did not change meaning that the
        reference was taken out correctly in the end.
        Moved nowhere.

13797.  March 12, 2012               ELINT               Eric
        Added QUAL and CALCODE adverbs to the task to separate the
        desired cal sources from the junk left behind by the EVLA.
        Moved nowhere.

13798.  March 21, 2012              FARS                 Leonia
        Change the logic of terminating the clean under condition of
        NITER and FLUX. This change sents zero into the output,
        if the clean is terminated just before start of iteration.
        Before this change, the output was not zero.

13799.  March 22, 2012            IMAGR                  Eric
        Add the option to also average channels together when doing
        the on-the-fly, baseline-length time averaging while preparing
        the work file which is imaged.  This should speed up imaging
        significantly.  Changed:
        IM2PARM   Help file: add (13) to describe this and (8) and (9)
                  which had been forgotten earlier.
        IMAGR     Help file: add IM2PARM(13) in inputs and help
                  sections and advice to be conservative with
                  IM2PARM(12).
        UVWAIT    Fixed format that printed # vis as ten times the
                  right number.
        CHNNCP    New subroutine - version of CHNCOP with channel
                  averaging added to the call sequence.
        TABLEUTIL Changed OCHNCO to call CHNNCP rather than CHNCOP.
        UVUTIL    In UVFRQS - added AVERAGEF keyword and change of
                  freqencies out based on it when the input UVFREQ is
                  not < -999.
                  In UVFCOP - call OCHNCO with new argument of the
                  value of the AVERAGEF keyword.
        UVDATA    In OUVCLN - added AVERAGEF keyword and change of
                  header number points, reference pixel, and increment
                  due to frequency averaging.
        IMAGR     Fortran: In IMLEAN: added pickup of IM2PARM of
                  11-13, using new routine FINDAV to choose the
                  IM2P(13) when the user requests it (=1), and setting
                  the AVERAGEF keyword in UVDATA.  Set different
                  values for AVERGAEF and CHINC in UVWORK (after
                  clone) since the averaging is by then done.  Added
                  the BLIMIT values to IMACPY call (since the code
                  picking them up had to move higher on the food
                  chain).  In IMACPY, protect the reference pixel and
                  increment from a parameter copy of UVDATA -> UVWORK.
                  IMBAVG gets changed summing code to sum over
                  channels as well.
        Moved nowhere.

13800.  March 23, 2012            IMAGR                   Eric
        Nothing filled in the defaults for the TV timeouts.  Changed
        QCLEAN, where it gets the keyword values, to apply defaults as
        needed.
        Moved nowhere.

13801.  March 23, 2012            CVEL                    Eric
        The source number tables were way too small and a format
        lacked a space to make it readable.
        Moved nowhere.

13802.  March 28, 2012          LINIMAGE                  Eric
        Changed AU3A to allow DOCONFRM=-2 to mean no confirmation at
        all on ALLDEST and SAVDEST.  Changed those 2 help files.
        Wrote new RUN file procedure (and help file) to do a loop
        over IF, copying the IF from the full data set, running IMAGR
        and then FLATN.  When the loop finishes the proc decides
        whether MCUBE will work and then runs either MCUBE or FQUBE.
        It cleans up after itself fully.
        Moved nowhere.

13803.  April 2, 2012          Slices                    Eric
        When making plots of data along an FQID axis, it would be nice
        to convert the thing to frequency either in labeling
        non-linearly or in making a liner axis and laying the points
        down depending on the actual frequencies.  Changed:
        SLBINI    Call sequence to include a frequency at the start of
                  the slice and an increment when an FQID axis is
                  converted to linear frequecies in the slice (0 ->
                  not).  Trap this and set the plot values and
                  increments accordingly for both traditional (in x-y
                  plane) and z axis slices.
        MV2C06SL  Document added info in the SL table
        TKSLIN    Pick up FQFREQ and FQFINC from slice header, put in
                  plot image header and call to SLBINI.
        TVSLIN    Pick up FQFREQ and FQFINC from slice header, put in
                  plot image header and call to SLBINI.
        SLOCIN    Pick up FQFREQ and FQFINC from plot catalog header
                  and put in call to SLBINI
        AU6E      Pick up FQFREQ and FQFINC from plot catalog header
                  and put in call to SLBINI
        FRQGET    New subroutine to read freqencies of a FQID axis.
        ISPEC     Changed to plot FQID axis plots on a linear
                  frequency axis when LTYPE=3.  The data samples then
                  fall irregularly.  Changed SLice creation to
                  interpolate the irregularly sampled FQIDs onto a
                  regular frequency axis slice, recording the
                  resulting initial frequency and increment in the
                  slice file.  Uses FRQGET.
        RSPEC     As ISPEC
        BLSUM     Changed to recognize FQID axes and write the SL file
                  appropriately.
        SLFIT     Pick up FQFREQ and FQFINC for SL file and pass to
                  SLBINI.  Correct code to honor magic blanks and to
                  allow longer slices.
        SL2PL     Pick up FQFREQ and FQFINC for SL file and pass to
                  SLBINI.
        SLICE     Changed to recognize a pure FQID slice in the X or Y
                  axis and make an interpolated frequency slice
                  instead.  Uses FRQGET.
                  Added capability to do a slice along the 3rd axis so
                  long as BLC(1)=TRC(1) and BLC(2)=TRC(2).
        ISPEC     Help: note regarding FQID axis plot and slice.
        RSPEC     Help: note regarding FQID axis plot and slice.
        BLSUM     Help: note regarding FQID axis plot and slice.
        SLICE     Help: notes about use of BLC, TRC
        Also put no-op (FQFREQ=0, FQFINC=0) into calls to SLBINI in
        XPLOT, XBASL, XGAUS, PFPL2, and PLCUB.  All of these could get
        fancy if there is a request for it (XGAUS would be the
        hardest).
        Moved nowhere.

13804.  April 3, 2012              POSSM                 Eric
        Restored SOLINT for use with BP tables.  Changed lots of
        places where it could complain about missing data to complain
        only when pieces (not all) are missing.  Others of the
        complaints were already surpressed when SOLINT not zero.
        Moved nowhere.

13805.  April 3, 2012        Velocity header parms       Eric
        Changed:
        DGHEAD    To fill in the alternate reference values from the
                  source table including corrections for BCHAN when a
                  multi-source file is going to a single-source file.
                  Correct the alterante reference pixel in
                  single-source input files for BCHAN.
        UVUTIL  Changed handling of ALTRPIX in U2IDES because it is
                fixed down below in UVGET/DGHEAD.
        UVPHAS  Dropped writing the ALTRPIX with the minimum coherence
                time.  (???!!!)
        SPLIT   Fixed to account for BCHAN being applied in lower
                level routines even in single-source cases.
        SPLAT   Fixed to account for BCHAN being applied in lower
                level routines even in single-source cases.
        Moved nowhere.

13806.  April 4, 2012             UVFIT                 Eric
        Changed it to use correct formulae for phases and derivatives.
        Unfortunately, this involves lots of double precision sines
        and cosines which are notably slower.  Sources a long way from
        the phase center are fit much better however.
        Moved nowhere.

13807.  April 5, 2012             ZCREA2                Eric
        ZCREA2 computed the size in bytes doing one multiply by 2 in
        4-byte integer before switching to 8-byte values and this
        caused an overflow at 1 Terabyte!  Corrected.
        Moved nowhere.

13808.  April 5, 2012               INDXR               Eric
        It neglected to write INFILE, CALIN, and most importantly
        BPARM to the history file.
        Moved nowhere.

13809.  April 6, 2012             SETMAXAP              Eric
        Changed AUC: SETMAXAP was lying about the current number of
        megabytes and handled other computations confusingly.  The
        new number of megabytes requested did actually make it to the
        parameter which is used by AP code.
        Moved nowhere.

13810.  April 6, 2012               ELINT               Eric
        ELINT did not check the solution weights and so included
        flagged solutions in the fit.
        Moved nowhere.

13811.  April 6, 2012              SNFLG                Eric
        Added OPTYPE='A&P' to write flags whenever gain amplitudes,
        phases, and/or weights are out of user-specified ranges.
        Clarified usage of CUTOFF in OPTYPE 'AMP' and added a history
        writing routine as well.  This should reduce the onerous usage
        of EDITA.
        Moved nowhere.

13812.  April 6, 2012                UVUTIL              Eric
        Added comments to U2IDES where the header frequency axis is
        set.  The code looked strange, but it is not since lower level
        routines handled the complexities.
        Moved nowhere.

13813.  April 6, 2012         AIPS Memo 117            Eric
        Put back corrections to a typo that listed some standard
        character-valued keywords as double floats.
        Moved nowhere.

13814.  April 9, 2012              SNFLG               Eric
        Corrected two places where FORMAT errors could arise.
        Moved nowhere.

13815.  April 9, 2012            LISTR                 Eric
        Added XINC adverb to affect LIST and GAIN.
        Moved nowhere.

13816.  April 10, 2012            LINIMAGE              Eric
        Changed proc to make it use the OUTNAME from the beginning.
        In that way, users can set unique OUTNAMEs and so can run more
        than one LINIMAGE at the same time (from different POPS
        numbers on the same computer or using the same data areas from
        different computers).
        Moved nowhere.

13817.  April 23, 2012               Slices               Eric
        The call sequence to SLBINI was not changed for ISPEC and
        RSPEC and was changed in only one of two places in XPLOT,
        XGAUS, and XBASL.
        Moved nowhere.

13818.  April 23, 2012              VBGLU                 Eric
        Changed:
        1. Improved missing column message to say what type
        2. Corrected declaration of character strings for ID columns
        which had length 1 rather than 24.
        3. Corrected list of IF-type columns for BP tables - did not
        have WEIGHTs and had some bad column label,
        Moved nowhere.

13819.  April 23, 2012               RFLAG                 Eric
        Shot itself in the foot when writing a flag table followed by
        writing plot files.  Dropped the resetting status to READ so
        that there would be no status when the plot parts happen.
        Moved nowhere.

13820.  April 24, 2012             CONVL                 Eric
        Changed code to have it change units from JY/PIXEL to JY/BEAM
        when the axes are celestial coordinates, Gaussian convolution,
        and FACTOR <= 0.  Corrected help file which mis-spoke about
        FACTOR in this case (stating that the users FACTOR was changed
        even if > 0 to start with).
        Moved nowhere.

13821.  April 25, 2012              CALSEL                Eric
        Certain tasks call CALSEL to drop some of the records in an SN
        or CL table to make room for new ones.  CLCAL in particular
        usually makes a new CL table and then drops pieces of it
        before interpolating the new values into it.  Added remark to
        this effect ahead of the existing messages (either deleted
        file or deleted n records from file...).
        Moved nowhere.

13822.  April 25, 2012            SAD                    Eric
        Changed the RMS determination to use first a robust RMS
        computation over the full image.  That fills the histogram
        sensibly rather than depending on wild guesses from image
        max/min or elsewhere.  If the histogram fits works, fine,
        otherwise use the rms found from the robust computation.
        Moved nowhere.

13823.  April 26, 2012               VLANT               Eric
        Added adverb DOINVERS which will let you undo the change to
        the AN file and do an oppposite correction in the CL file (if
        you ask for the correct CL files of course).
        Moved nowhere.

13824.  April 26, 2012         COPTAB                  Eric
        Again: COPTAB should not copy CL tables to single source files
        ever.  Changed to make an FO file in the case of a
        single-source output file when there is a cL file in the input
        data set.  Uses CL2FO like in SPLIT.  Changed local copies of
        COPTAB in NOIFS, UVCOP, and AVSPC.  Changed SPLAT to avoid
        making a null CL table in single-source case.  No changes
        needed in UVCOP and UJOIN versions of COPTAB.
        Moved nowhere.

13825.  April 27, 2012              MORIF                 Eric
        NEW Task to break IFs into pieces each with fewer channels.
        The tables part required help from VBGLU.
        Moved nowhere.

13826.  May 2, 2012             SETRGBL                 Eric
        Changed RUN file SETRGBL, procedure FLAMLEVS so that the first
        contour would not be zero, but instead a dark red.
        Moved nowhere.

13827.  May 2, 2012                QUACK                Eric
        The REASON adverb had no default, leaving blank which cannot
        be un-flagged.  Added a default (task/date/time) and corrected
        the history writing section that messed up this snippet of
        code.
        Moved nowhere.

13828.  May 3, 2012             RFLAG                 Eric
        Changed it to use a sliding median window to do the spectral
        function rather than a single window using all channels.  The
        user may set the width of the window and also set how many
        channels are examined in each window (more makes it go faster
        since it slides the window by the number examined in the last
        window).  The options to flag full spectra because their
        spectral rms was too low or too high are now gone.  Added code
        in the plot routine to skip full flagged spectra.  That code
        was present in the flagging side of the task and can make a
        real performance improvement.  OPTYPE was changed to AVGCHAN,
        the width of the median filter, and selection of the method of
        spectral averaging was dropped.  The time rms computation is
        now not done if the cutoff exceeds 1.E6 in abs value.
        Moved nowhere.

13829.  May 4, 2012                 RFLAG             Eric
        Changed to add "grow" option FPARM(6) to expand any flags by +
        and - FPARM(6) channels.
        Moved nowhere.

13830.  May 4, 2012                 DTSIM                Eric
        Changed DTPARM to enter antenna coordinates in right-hand form
        and KEYIN to parse things correctly (required calling strings
        to be put into local ones due to KEYIN stupidity).  Changed
        some of the errors in the help file.  I think it still does
        odd things with noise and the u,v,w values seem wrong to me.
        Moved nowhere.

13831.  May 9, 2012            ANTENNAS, BASELINE        Eric
        Added some examples to the help files for these two adverbs.
        Moved nowhere.

13832.  May 9, 2012        header displays              Eric
        Changed AIPS, AIPSB, AIPSC to allow for full verb number range
        in AU3B.  Changed AU3B to implement IM2HEAD, IM3HEAD, IM4HEAD,
        IMOHEAD, Q2HEADER, Q3HEADER, Q4HEADER, and QOHEADER header
        displays for IN2NAME, IN3NAME, IN4NAME, and OUTNAME, resp.
        Changed POPSDAT and NEWPARMS to create these verbs and made
        new help files for each.
        Moved nowhere.

13833.  May 9, 2012               DTSIM                 Eric
        DTTIME  Changed this debug routine - not currently used
                anywhere - so that it contains its own initialization
                either automatic at the beginning or requested.
        DTINIT  Removed this old subroutine from $APLSUB; it did the
                inits for DTTIME before.
        DTPM.INC   Added INCLUDE 'INCS:PUVD.INC' to make it
                self-sustaining and added a set of default values in
                their own extra COMMON.
        DTPARM  (1) Updated all standard station coordinates from the
                latest VLBI SCHED list.  The VLA coordinates were in
                many cases VERY wrong.  Added the HSA elements and Y1,
                adjusting pointers for the VLA.
                (2) Pick up and use default year, month, day in
                schedule, BP, and FG sections.
                (3) Change typing to standards and use more
                IF-THEN-ELSE to avoid excessive GO To's.
        DTCALS  (1) Changed to use default values when the antenna had
                no CAL_ERR specification and when it did but with no
                specification for the GAIN(ifnum) annd/or the
                Tsys(ifnum).
        DTSIM:  (1) Changed axis order to the standard one - Stokes
                before FREQ.
                (2) Added NX table creation and filling from the data
                (3) Put default year, month, day, gain, Tsys in the
                DTPM.INC common for later use.  Added DPARM, FPARM,
                and VPARM for this purpose.
                (4) Dropped unused IN2FILE adverb.
                (5) Fixed Y coordinates so RIGHT assumed in antenna
                separation and in computing elevation of source.
                (6) Corrected history routine and added info about
                defaults and listing contents of INFILE.
        DTSIM.HLP  (1) Dropped IN2FILE, added DPARM, FPARM, VPARM.
                (2) Clarify grammar on AN_TABLE KEY, add HSA antennas
                in list of VLBA_xx, add ALL_HSA.
                (3) SU_TABLE: EPOCH=2000 is default
                (4) FQ_TABLE: USB is the default
                (5) CAL_ERR: STATION required, FQID=1 is default,
                GAIN_ is defaulted with FPARM(ifnum), TSYS_ is
                defaulted with VPARM(ifnum) as constant
                (6) SU_MODEL: SOURCE if required
                (7) SCHEDULE: DAY, MONTH, YEAR required but default to
                previous starting with DPARM; SUBA and FQID default to
                1, TINT defaults to 1.0 sec.
                (8) Document the FLAG option.
                (9) Document the BP_TABLE option.
                (10) Example - replaced with real one including adverb
                values.  Two sources, one with 3-compnent model.
                Takes the VLA C array.  Uses default time, gain, and
                Tsys values and changes gain for one IF on the VLA
                north arm.
        DTCHK   Added default adverbs and setting them in the DTPM.INC
                common.
        DTCHK.HLP  Added DPARM, FPARM, VPARM.
        Moved nowhere.

13834.  May 11, 2012             POSSM                 Eric
        Added more support for linear polarization STOKES values.  It
        just died before that when asking for 'XXYY' etc.
        Moved nowhere.

13835.  May 11, 2012         CASA prompted            Eric
        Changed ANFIND to add array name ALMA with +,-,- coords being
        right handed.  Changed MULSDB to print the message about SU
        table with no source random parameter only twice.
        Moved nowhere.

13836.  May 14, 2012             RFLAG                  Eric
        Previously, it flagged all channels not selected by ICHANSEL
        in the spectral flagging process.  Changed it to avoid doing
        so - those channels will remain.  Changed the default for
        ICHANSEL since we are now doing a narrower, sliding median
        window.  The new default is to do the full range of channels.
        Moved nowhere.

13837.  May 14, 2012              INDXR                 Eric
        Changed code to read EVLA.GAINS with up to 4 frequencies in
        each band.  The gains are then interpolated to the actual IF
        frequencies in the data.  EVLA.GAINS is also put to $AIPSIONS.
        Moved nowhere.

13838.  May 14, 2012                   PCAL               Eric
        Changed the reference frequencies used so that they would be
        in the middle of each IF as in SETJY.  This makes the fit
        spectral indices approximate those of SOUSP - or at least come
        closer.
        Moved nowhere.

13839.  May 15, 2012              POSSM                 Eric
        Added note to help file portion to recommend specifying
        adverbs to limit searches when SOLINT is not zero.  SOURCES,
        and/or ANTENNAS and/or other adverbs can be a great help to
        limit what is searched.
        Moved nowhere.

13840.  May 15, 2012               IMEAN               Eric
        Added DOPRINT adverb.  DOPRINT=0 turns off OUTTEXT in all
        cases.  DOPRINT=-3 turns on a special print of blc(3-7),
        trc(3-7), minimum, maximum, flux, and rms all in one line.
        Running IMEAN on each plane of a cube in turn gets a list of
        the min, max, flux, and rms spectra.
        Moved nowhere.

13841.  May 16, 2012            RFLAG                     Eric
        Discovered that the channel flag array was not properly
        initialized.  The flagging subroutine assumed that previously
        flagged channels were marked with a value of 1, but in fact
        they were all 0.  So the task repeated all input flags more or
        less.  Also changed:
        1. The internal working array (one baseline, one IF) is now
           initialized as 0 or 2 by the external flag array and that
           is copied to all polarizations.  Then the data weights are
           examined for the relevant times and any with weight <= 0
           get 1's in this working array.
        2. The test for some data valid now goes over all data since
           it has to set the working array.
        3. The test to flag channels between flagged channels
           (FPARM(8)) now flags only if the working array has value 2
           meaning that we are flagging in this pass of RFLAG.  It
           will ignore previously flagged partially.  This test is
           done before other global flag tests.
        4. The section of code that actually does the flagging would
           do things even though no channels in the working array had
           value 2 - generating flags matching previous flags.
        5. That section of code contained a second implementation of
           the FPARM(8) code has been dropped, replaced with a better
           algorithm looking to find consecutive channels to flag to
           reduce the number of output flags.
        Moved nowhere.

13842.  May 17, 2012             AVSPC                    Eric
        In the COPTAB subroutine, CLNULL was called when CL2FO should
        have been (with the CL2FO call sequence) and then CLNULL was
        called with the wrong call sequence when it should have been
        (when DOCAL>0).  The other COPTABs are okay.
        Moved nowhere.

13843.  May 18, 2012       IMAGR & FG messages              Eric
        Previously, when UVGET ('INIT'...) was called, a message about
        flag tables would come out on every 20'th such call.  When
        IMAGR makes spectral cubes, UVGET ('INIT' is called for the
        input data set and then for the work file multiple times per
        channel.  Doing a message only every 20'th time led to odd
        messages - possibly saying "flagging with vers n" sometimes
        and "doing no flagging" other times depending on whether it
        was the input or work file for which UVGET was called.  This
        is confusing!  So changed
        SELINI   Made the initial FGVER=-100.  The default is
                 therefore no flagging which is a change from before.
                 Tasks that want flagging should set FGVER.
        CALEDIT  Changed SECINI to default FLAGVER in UVDATA objects
                 to -100.  It was -1, so no change on default flagging
                 behavior.
        UVGET    Changed to drop the every 20'th business and instead
                 to remember the disk and catalog number of the last
                 file for which UVGET was called.  The first call to a
                 new data set gets a flag message unless FGVER <=
                 -99.  This means no messages when FGVER was not
                 deliberately set (e.g. scratch/work files).
        IMAGR    Changed to set QCREAT to -1 when it has to blank
                 an image plane and it fails to do so. This insures
                 that files are filled with zeros.
        Moved nowhere (major link edit).

13844.  May 18, 2012             COMB                      Eric
        Corrected to scale any image in JY/BEAM to the same beam as
        the JY/BEAM of the first image.  Otherwise one is subtracting,
        ratioing, etc etc images in different units.  Added mention of
        this in the help file.
        Moved nowhere.

13845.  May 18, 2012           SNPLT, SNREF              Eric
        Correct typos in SNREF help file and clarify wording.
        Mention SNREF with DOKEEP in SNPLT help file.
        Moved nowhere.

13846.  May 21, 2012             RFLAG                  Eric
        FPARM(13) was changed by the history-writing that occurs after
        writing a flag table.  As a consequence, if plotting followed
        writing of a flag table, the clip level FPARM(13) was used as
        the square root of the user's value of FPARM(13).  Made the
        history routine restore the value of FPARM(13) for later use.
        Moved nowhere.

13847.  May 22, 2012             UVHOL                  Eric
        The frequency averaging routine only zero'ed 3 of the 6
        summing locations, making the last half of the polarizations
        bad on output.  Error was put in August 2011 when the option
        to display real and imaginary and rms was added.
        Moved nowhere.

13848.  May 23, 2012           PDINI, CPINI              Eric
        The precursor comments of these were incorrect.
        Moved nowhere.

13849.  May 23, 2012               POSSM                 Eric
        BP and BD plots need to allow the use of SOLINT although scan
        average is sufficient.  Changed POSSM to force SOLINT not zero
        to SOLINT = -1.  For scan average, POSSM uses the NX table to
        give the list of time ranges.  This does not work for BP amd
        BD tables since they may be averaged in such a way that the
        average time does not fall within a current scan or they may
        have come from a source no longer included in the data set.
        Changed the NXSET routine to find the times in the BP or BD
        tables and make a list of "index table" times for the rest of
        the plot routines.  Corrected the last time in the data set in
        case the BP record occurs after it now.
        Moved nowhere.

13850.  May 25, 2012            FQ table                Eric
        We need to keep track of which band was used so I am dding a
        column BANDCODE to the FQ table.  It is 8 characters long with
        one value per IF (Spectral window).  Changed
        FQINI    to make the new table, not complain if missing on
                 read
        FQTAB    call sequence changed to include BNDCOD, get column
                 values if present, else blank
        CHNDAT   call sequence changes to add BNDCOD
        GETFQ    call sequence changes to add BNDCOD
        PUVD.INC MAXFQC changes
        Subroutines changed for the changed call sequences:
        FRQGET   ACTFRQ   BPASET   CALADJ   CHNCOP   CHNNCP   CLREFM
        COPTAB   CQMAKE   DGHEAD   FQFTAB   FQMATC   FRQTAB   GAININ
        GETFRQ   SN2CL    SNREFM   TABLEUTIL         UVUTIL   MAKMAP
        Tasks changed for call sequence changes
        MCUBE   RFARS   SPCOR   SPIXR   ANTAB   ATLOD   ATMCA   AVSPC
        BPCOR   CLCAL   CLCOR   CLSMO   CSCOR   DBCON   DFCOR   DFQID
        DTCHK   DTSIM   FARS    FGDIF   FILLM   FILLR   FITAB   FITLD
        FITTP   FLGIT   FLOPM   FQUBE   FXVLA   HAFIX   LISTR   M3TAR
        MATCH   MK3IN   MORIF   NOIFS   PCCOR   PCLOD   QUFIX   QUOUT
        REFLG   RLDIF   SDCAL   SETJY   SHOUV   SNCOR   SNREF   SNSMO
        SPLAT   SPLIT   TBAVG   TI2HA   TRUEP   TYAPL   TYSMO   UJOIN
        UVCOP   UVDEC   UVFIT   UVFIX   UVFLG   UVHIM   UVIMG   UVLIN
        UVLSD   UVLSF   UVMOD   UVPRM   VBGLU   VLANT   VLBIN   VLOG
        APGPS   CL2HF   FXPOL   MBDLY   MULIF   SPECR   BPASS   CALIB
        CONVL   CPASS   CVEL    FRING   KRING   PCAL    RLCAL   RLDLY
        SDIMG   ANBPL   APCAL   CAPLT   CLPLT   DELZN   DFTPL   ELINT
        FRMAP   FRPLT   LOCIT   POSSM   SNIFS   SNPLT   SOUSP   UVHGM
        UVPLT   VPLOT   WIPER
        Other changes:
        ATMCA    removed the assumption that FQ tables have only
                 one record by using GETFQ
        DELZN    As ATMCA
        MORIF    Corrected the FG handling to do channels correctly
                 and all versions of FG table.
        SPLAT    Changed to copy CT tables and to copy GC and TY
                 tables even if DOCAL is true.
        INDXR    Added GETBND, an elaborate routine to use the FQ
                 table BANDCODE and all observed frequencies to get
                 the band identifier.  Changed gain interpolation in
                 frequency to extrapolate as well.
        Moved nowhere.

13851.  May 31, 2012            SETGDS, FACSET             Eric
        Changed SETGDS to allow a facet to not have CC files.  The
        number of components for that facet is set to zero -
        previously it forced over to using images as models.  Now it
        will do that only if not facets have CC files.
        Changed FACSET to open only those facets with components to be
        subracted, divided or whatever.  Previously, it failed when
        one did not have the CC version wanted, whether or not
        components were wanted.
        Moved nowhere.

13852.  May 31, 2012              CCNTR                   Eric
        Fixed the reading of the CC file to ignore flagged rows rather
        than dying.  Added adverbs to limit the fluxes plotted and to
        allow the scale of the plot symbol to change with flux.
        Moved nowhere.

13853.  June 4, 2012              INDXR                Eric
        Corrected error when the number of IFs was 1 - it looked at
        NUMIF/2 which is 0 in this case when trying to find the band
        ID.  Made the search center IF 1 in this case.
        Moved nowhere.

13854.  June 6, 2012             ZEXIT                 Eric
        Wrote new Z routine ZEXIT to call the C function exit (n)
        where n > 0 => error which is communicated the higher level
        process (e.g. procedure).  Changed $SYSUNIX/ZTRLOP.C to
        include a copy of ZEXIT.  All of this to change the
             CALL EXIT (n)
        in $SYSUNIX/PP.FOR.  The old Fortran semi-standard library
        routine has gone missing in several compilers.  Changed
        $AIPNOT/HLPB to use ZEXIT (it complained that it wanted it but
        did not have a legitimate one).
        Moved nowhere.

13855.  June 7, 2012              PRTSY                  Eric
        NEW TASK to print statistics from the SY table.
        Moved nowhere.

13856.  June 8, 2012              FQ table               Eric
        The following tasks dimensioned FQKOLS and FQNUMV as 5 rather
        than with the MAXFQC parameter and hence did not work right:
        FQUBE   FARS    FILLM   RFARS   MCUBE   SPCOR   SPIXR   CONVL
        Moved nowhere.

13857.  June 8, 2012            LINIMAGE               Eric
        The algorithm checking for axis increments was not general
        enough so that something at very slightly below N times the
        axis increment triggered use of FQUBE when it should not.
        Moved nowhere.

13858.  June 11, 2012                PRTSY                Eric
        Added SOURCES, QUAL, CALCODE, SELBAND, SELFRQ, FREQID, and
        SUBARRAY to allow the user to restrict the statistics in
        reasonable ways.
        Moved nowhere.

13859.  June 12, 2012              FIXAN                 Eric
        NEW TASK: should not normally be needed but can change an AN
        file between Earth centric and correct site-centric forms and
        also correct the naive and incorrect form in which
           Xsite(i) = Xcent(i) - X0 etc.
        Moved nowhere.

13860.  June 12, 2012              PRTAN                 Eric
        Changed the DOBTWEEN option to function only with Earth
        centric systems and to properly correct for the longitude of
        the site.  Previously that display was in the naive/wrong
        system mentioned above.
        Moved nowhere.

13861.  June 13, 2012         IMFIT, JMFIT, SAD           Eric
        The attempt to copy keywords was missing in SAD and in the
        wrong place (before the disk numbers were known) in IMFIT and
        JMFIT.  Affected things only when the output residual file is
        created.
        Moved nowhere.

13862.  June 13, 2012                TBIN                 Eric
        Raised limit from 1000000 to 100000000 rows.
        Moved nowhere.

13863.  June 15, 2012           Y2K                    Eric
        The change to ALLDEST some time back broke the Y2K procedures.
        Changed Y2KLOAD.001 to set DOCONFRM=-2 everywhere.
        Moved nowhere.

13864.  June 15, 2012            LISTR                 Eric
        The LST display option assumed that antenna 1 had a legitimate
        longitude.  That may not be the case - added code to find and
        remember an antenna with a non zero longitude.
        Corrected GETANT - it required X not zero when either X or Y
        not zero in ATAN2(Y,X) is all that is required.
        Moved nowhere.

13865.  June 15, 2012         Mountain Lion            Eric
        The system command ps in Mountain Lion now issues an error
        message if there is an LD_LIBRARY_PATH set (which is required
        in binary installations).  Changed $SYSUNIX files STARTPMON,
        TVALT, UNIXSERVERS, and XASERVERS to send the error output to
        /dev/null and to test for succesful completion rather than for
        error output.
        Moved to patch 19-November.

13866.  June 15, 2012           FIXRL                  Eric
        NEW TASK: On occasion, receivers are hooked up incorrectly
        with the R channel labeled L and vice versa.  Wrote a clone of
        the old (pre-calibration) FUDGE to do swaps for a
        user-supplied list of antennas.
        Moved nowhere.

13867.  June 18, 2012         CC modeling              Eric
        Changed GRDCRM which found no components beyonf the first
        flagged Clean component in the CC file (record pointer did not
        incremet).  Affected UVSUB, CALIB, etc etc
        Moved nowhere.

13868.  June 18, 2012             FIXRL                Eric
        Moved from $APLPGM to $APGNOT, add automatic filling of the NX
        table.
        Moved nowhere.

13868.  June 18, 2012            FRING                Eric
        Minor re-coding to be more readable and efficient.
        Moved nowhere.

13869.  June 20, 2012          EVLA.GAINS       Bryan Butler
        1 - normalize the gain curves to the 0 coefficient, so that
        they are 1.0 at zenith.  We haven't done this before because
        the numbers have all always been _nearly_ normalized in this
        way without jiggering, but the ELINT results that rick gave me
        this time result in 0 coefficients that are significantly
        different than 1.0.  rick and i agree in the end that just
        normalizing by that coefficient should be sufficient.
        2 - for the lower bands (4, P, L, S, C), i've put in an
        explicit flat gain curve (1.0 at all elevations).
        3 - for antennas which are not measured, i've put in the
        average antenna (with a comment to that effect).  note that i
        left antenna 29 (PT) in, just in case we ever get it back into
        the array.  i also tried to make some sensible extensions of
        dates for antennas not measured in one or the other of the
        runs (and for some frequencies, which were not repeated).
        4 - combined the January 2010 and January 2012 results into a
        single file.
        Moved nowhere.

13870.  June 20, 2012             UVGET                Eric
        Changed UVGET ('INIT' to keep track of the FG version number
        last used and to report "using flag table version" when that
        changes even if the disk/cno does not change.  This is
        appropriate for RFLAG.  I also discovered that RFLAG was not
        working correctly (ignoring FLAGVER) because I had not
        relinked the last change.  Therefor I relinked all tasks that
        use UVGET (have adverb DOCALIB).
        Moved nowhere.

13871.  June 20, 2012             RFLAG                  Eric
        Changed plotting to avoid plots of time values when they are
        not computed.  Fixed histogram of spectral plot which no
        longer has a negative range of values.  Added labels to plots
        to say what is plotted a little more clearly.
        Moved nowhere

13872.  June 21, 2012            BPASS                 Eric
        Changed the inputs and code to drop the BIF, EIF option.
        There were numerous errors in the application of this option -
        way too many to try and fix.
        Moved nowhere.

13873.  June 21, 2012        VLBAEOPS                  Amy
        I bowed to pressure and removed the INFILE input for VLBAEOPS.  It
        is more consistent this way and prevents people from making stupid
        mistakes.
        Moved nowhere.

13874.  June 26, 2012        ELINT                     Leonia
        ELINT has skipped calculation of variance of the residuals,
        if only one calibrator is used. This error is corrected.
        Moved nowhere.

13875.  June 28, 2012               ZLASIO                 Eric
        The error messages could overflow causing an abort instead of
        a normal quit in TVCPS and others.
        Moved nowhere.

13876.  June 28, 2012              Memo 117               Eric
        Revised again: the source and freqsel columns in a UV-table
        format are required only when there is > 1 source and > 1
        frequency setup, respectively.  Added verbiage on pages 10 and
        11 about this.
        Moved nowhere.

13877.  June 29, 2012          AIPSLetter               Eric
        Put back LET12A TEX, PS, PDF in $AIPSPUBL.
        Moved everywhere.

13878.  June 29, 2012            REFLG                 Eric
        Added option to omit certain attempts to optimize the flags
        more globally.  They work fine usually, but odd data sets such
        as a one baseline data set can confuse it badly.
        Moved nowhere.

13879.  July 4, 2012          Flag application           Eric
        Changed PFLG.INC to allow 60000 flags at any one time and
        TYAPL, UVCOP, RFLAG to handle 300000.
        Moved nowhere.

13880.  July 4, 2012                 REFLG                Eric
        There is a gotcha in the task - if there are flags that apply
        to times other than those of the requested sources, those
        flags will be lost.  Corrected this in part - if the flags
        specify a source number > 0 but not in the requested list they
        will be copied in the the initial pass throuigh the input FG
        table.
        Moved nowhere.

13881.  July 4, 2012                  XAS                  Eric
        Added option to set the character size multiplication.  Fixed
        XAS.SHR to compute the default with roundoff and to read an
        .Xdefaults option.  Added this to XAS help file and removed
        very obsolete information.
        Moved nowhere.

13882.  July 5, 2012          CHARMULT                Eric
        Created NEW TV VERB to change the TV's character size
        multiplier.  Values from 1 through 5 are accepted.  This
        changes AU5, POPSDAT, NEWPARMS, and XAS.SHR and creates new
        $YGEN and $YSS versions of YCMULT and a CHARMULT help file.
        Moved nowhere.

13883.  July 5, 2012              SOUSP                Eric
        Added PIXRANGE adverb to task to allow aligning 2 data sets.
        Moved nowhere.

13884.  July 6, 2012             plots                  Eric
        Subroutine GETOFM read one too many points from the OFMFILE
        and so made all of the top levels 0 rather than what they
        should be.  AffectEd GREYS, KNTR, PCNTR, LWPLA.
        Moved nowhere.

13885.  July 7, 2012      GREYS, KNTR, PCNTR               Eric
        When given an RGB image in axis three, GREYS, KNTR, and PCNTR
        are supposed to make a 3-color plot if so asdked.  GREYS
        failed to set the corners correctly and so failed.  KNTR and
        PCNTR set the corners without examining the image header
        values.  Changed all to use the axis values to set the corners
        for such images.
        GREYS: also added option to have different FUNCTYPs for the
        gren and blue images and to have APARM(1-4) apply even when
        doing an RGB image (default in that case is PIXRANGE).
        Moved nowhere.

13886.  July 9, 2012                TVHUI               Eric
        Changed code to support transfer functions in the hue image.
        Changed HLPTVHUI.HLP to reflect this.  Changed code and help
        to offer the option of writing out a step wedge image.  It
        uses the pixrange of the input intensity and hue images as its
        range.  The user controls the size and which axis the
        intensity and hue are on.
        Moved nowhere.

13887.  July 9, 2012      Coordinate verbs            Eric
        Several coordinate verbs allowed the COORDINA adverb to have
        the declination ahead of the RA when the image was rotated a
        lot.  This confuses users and code like STARS,
        Changed AU5B, AU6D, and AU9 to not swap the two axes.
        All tasks and some verbs already assumed that this adverb was
        always longitude and then latitude.
        Moved nowhere.

13888.  July 10, 2012            IMLOD, FITLD             Eric
        The image reading code did not consider that NAXIS could be 1.
        Fixed it to make sure the number of Y pixels is at least 1.
        These tasks had trouble with a 1-D IMAGE attached to SDSS FITS
        images.
        Moved nowhere - patch?

13889.  July 10, 2012                  UVCOP               Eric
        Changed it to extend the copy times of tables by UVCOPPRM(7)
        minutes with 0.0 -> 15.
        Moved nowhere.

13890.  July 13, 2012           RFLAG, WIPER            Eric
        RFLAG: improved progress message while flagging
        WIPER: added CATFIX so writing of FG table will not fail
        Moved nowhere.

13891.  July 13, 2012              SNIFS                Eric
        Fixed picking up of PSUM and added option to time average
        amplitudes in a scalar fashion.
        Moved nowhere.

13892.  July 17, 2012       WIPER, REFLG, FGDIF            Eric
        WIPER: Changed to allow the center of the fat eraser to leave
               the data area (and hence do just a little flagging at
               the edges of the plot).
        FGDIF: Limit the flag comparisons to the number of Stokes
               actually in the data ('1111' = '1100' when there are
               only 2 Stokes).  Improved the difference reporting.
        REFLG: Changed to limit work to those flags that flag all of
               the Stokes now in the data set.
        REFLG: and FGDIF help files - changed the discussion of
               CPARM(1) to clarify things hopefully - in some cases
               there is no perfect answer.
        Moved nowhere.

13893.  July 17, 2012               TBAVG                 Eric
        Put in a prohibition for auto-correlation data.
        Further comments in help file.
        Moved nowhere.

13894.  July 18, 2012               ATLOD               Eric
        It did computations of how much to increase the file and the
        current file size all in INTEGER*4.  That overflows.  Changed
        things to double precision for large files.
        Moved nowhere.

13895.  July 18, 2012                UVAVG               Eric
        Rearranged code - Intel in the LNX64 version was computing the
        average time differently for some reason then the computation
        of the times in the list which is sorted.  This produced
        occasionally times out of order and times that were slightly
        different than the ones without optimization on Intel 64 and
        with optimization on GNU 64 and Intel 32.
        Moved nowhere.

13896.  July 24, 2012              TBAVG                  Eric
        Corrected the exclusion of auto-correlation data.  When an AC
        point occurred the rest of the IO buffer was ignored.
        Moved nowhere.

13897.  July 25, 2012             RFLAG                 Eric
        Adjusted the handling of FG table versions.  New flags are
        written to OUTFGVER directly unless OUTFGVER=FLAGVER.  Old
        flags from FLAGVER are copied to OUTFGVER if and only if
        OUTFGVER represents a new table.  If FLAGVER=OUTFGVER (after
        application of defaults), the task uses a temporary FG table
        filled with the old flags and any new ones and then replaces
        the old FG ver with the temporary one.
        Moved nowhere.

13898.  July 25, 2012              CODECIML              Eric
        New verb to change between X, Y in decimal degrees and
        COORDINA in sexagesimal.  Changed POPSDAT, NEWPARMS, AU7B, and
        new help files for CODECIML and DECIMAL (an adverb to give the
        direction of the conversion).
        Moved nowhere.

13899.  July 25, 2012             STARS                  Eric
        Added adverb DECIMAL to this task to specify that the RA/Dec
        coorinates in the input text file are decimal degrees rather
        than sexigesimal.
        Moved nowhere.

13900.  July 26, 2012             MAXCHA                 Eric
        Changed PUVD.INC to change the parameters MAXCHA and MAXCIF
        from 65536 to 132096 (2*65536 + 1024).  The EVLA hit the old
        limit!  Changed ZPBUFSZ.INC accordingly.  Corrected UVGET
        which had a computation (MVIS*(ECHANS-BCHANS+1)) /
        (ECHAN-BCHAN+1) where MVIS is the length of the record in
        values.  For 2 IFs and 32768 channels, MVIS = 65536 and
        (ECHANS-BCHANS+1) is 32768 and the numerator overflows.  I
        wonder how many more of these there are.
        Moved nowhere - massive compilation/link job.

13901.  July 26, 2012           VLBAEOPS                 Amy
        I introduced a bug with my June 21 change of VLBAEOPS, fixed.
        Moved nowhere

13902.  July 27, 2012        IMVAL, QIMVAL             Eric
        Added adverb DOCENTER to IMVAL and QIMVAL.  If DOCENTER > 0,
        the verbs find the image intensity and coordinate at the
        nearest pixel to PIXXY.  If <= 0, a cubic interpolation is
        done (as always before).  Updated DOCENTER help file as well
        as IMVAL and QIMVAL help files.  Changed AU9 to implement the
        function.
        Moved nowhere.

13903.  July 27, 2012           FITLD, CLCOR             Eric
        In CLCOR, added code in SOUMOD to compute the apparent
        coordinates over again to make sure they are right and to
        report the change if it exceeds 0.01 degrees in RA or Dec.
        In FITLD, in the FITS-IDI section, changed SO2SU to recompute
        the apparent coordinates in all cases and report those with a
        change > 0.01 degrees.  Previously, it recomputed only if the
        apparent coords were identical to the epoch coords.  It did
        not even recompute when the apparent coords were 0.0!
        Moved nowhere.

13904.  July 30, 2012          U2CAT, M2CAT              Eric
        NEW VERBS: U2CAT and M2CAT are like UCAT and MCAT but with
        IN2DISK.  Changed POPSDAT.HLP, NEWPARMS.001, AU3A.FOR and made
        new help files for U2CAT and M2CAT.
        Moved nowhere.

13905.  July 30, 2012             IMAGR                 Eric
        With heavy editing, the average frequency of an image may not
        be the center channel.  Changed IMAGR to compute this average
        frequency and store it in the Clean output objects (fields).
        Changed U2IDES in UVUTIL and IMGATT in IMAGE to detect this
        keyword if present and to override the default frequency in
        the header.
        Moved nowhere.

13906.  July 30, 2012             IMEAN                Eric
        Re-instated the use of BLC and TRC in finding the initial
        (robust) guess at the rms.  DOINVERS is also supported in that
        rouine now.  This is needed since the rms may be a function of
        position as in beam-corrected images.
        Moved nowhere.

13907.  August 1, 2012             HGEOM                 Eric
        HGEOM used the wrong version of the image header when calling
        table copy routines.  If any tables were copied, the resulting
        header had magic blanks for the min and max.
        Moved nowhere.

13908.  August 2, 2012          M*CAT, U*CAT             Eric
        Made NEW VERBS:  M2CAT, M3CAT, M4CAT, MOCAT, U2CAT, U3CAT,
        U4CAT, UOCAT and put them all in a new verb subroutine AU4A.
        Changed POPSDAT, NEWPARMS to list these verbs, AIPS, AIPSB,
        AIPSC to call AU4A.  Changed AU3A to support M2CAT and U2CAT
        since they were released in this routine but to tell users to
        run COMPRESS to update their vocabulary.  More new help
        files and correct old MCAT, M2CAT, UCAT, and U2CAT helps for
        the sort limit (now 5120) and wording.
        Moved nowhere.

13909.  August 2, 2012         GETVERS, QGETVERS           Eric
        NEW VERBS: GETVERS finds the maximum version number of a
        specified extension file typ.  QGETVERS does the same quietly.
        New adverb MAXVERS also.
        Moved nowhere.

13910.  August 2, 2012             IMAGR                Eric
        de Sade's law: I wanted to set the frequency of the header
        properly for averaged channels, but neglected the spectral
        line case in which that frequency then got changed with every
        channel.  Changed IMAGR to do this new keyword only for
        SUM case, not LINE case.  Changed QCLEAN to pick up the
        keyword if it exists for use in the CG table.
        Moved nowhere.

13911.  August 3, 2012          KA-band Models         Amy/Eric
        Put Amy's models for 3C48, 3C138, 3C147, 3C286 into the
        system.
        Moved nowhere.

13912.  August 6, 2012             EVAUV               Eric
        Changed adverb DOHIST to DOPLOT and added APARM to control the
        Real versus Imaginary plots.  Changed the last 2 plots to be
        contours at logarithmic steps of a 2-D histogram image with
        real and imaginary on the x and y axes.  APARM controls the
        range of values in the image, the size of the image in pixels,
        and any smoothing applied before the contour plot.
        Moved nowhere.

13913.  August 6, 2012            IMAGR                Eric
        Added messages to the code that finds the average frequency to
        tell users when there is flagging how many channels out of how
        many were used and the resulting average frequency.
        Moved nowhere.

13914.  August 7, 2012            RM                  Eric
        RM failed to get the TABFQ call sequence change done May 25.
        Corrected a format error in the HI file writing that caused
        64-bit Linux with the Intel compiler to abort.
        Moved nowhere.

13915.  August 8, 2012             CLCOR                 Eric
        The subroutine SOUMOD picked up the equinox as CATBLK(KREPO)
        which gave it a terrible value - should be CATR(KREPO).  This
        was left over from when the CATBLK was a call sequence
        argument and tricks had to be played.
        Moved nowhere.

13916.  August 8, 2012             IMEAN                 Eric
        Added DOMODEL adverb.  Gaussian is plotted if DOMODEL > 0.
        Not plotted otherwise.
        Moved nowhere.

13917.  August 8, 2012         NX tables                Eric
        The routine GETNX used to build the list of time intervals in
        the input NX table which is then used to guide scan boundaries
        in the output table had a bug (wrong variable name).  This
        affected only data sets with multiple sub-arrays.
        Moved nowhere.

13918.  August 8, 2012             FRING                 Eric
        Added DOAPPLY adverb to control whether the solution is appled
        to write an output data set or not.  This only happens for
        single-source files.  Corrected behavior when UVGET ('INIT'
        returns error code -1.  The data set must be closed in that
        case and the error code preserved for the routines one level
        up.  Added automatic NX table generation to the output file.
        Added a call to CATFIX to guarantee that the input file is in
        an appropriate status to have the SN table added to it.
        The history file writing routine wrote IN2NAME etc to the HI
        file when SMODEL > zero - it should be when SMODEL is zero.
        Moved nowhere.

13919.  August 9, 2012            SNPLT                Eric
        Changed DO3COL to have a value = 2 (> 1.5 actually) to mean
        colorize by source number,  It makes a color pattern based
        solely on those sources that actually occur in the table,
        source list, time range, etc.  If that list consists of
        source numbers 3 4 8 and 23, there will be 4 regularly spaced
        colors from red to blue.
        Moved nowhere.

13920.  August 10, 2012            SLICE              Eric
        Added DOKEEP which says to skip interpolation when that is
        possible (slice along X or Y axis).  It already does this on
        the special slice along Z axis.
        Moved nowhere.

13921.  August 10, 2012           AFARS                Eric
        Added options to control how the maximum amplitude and its
        position are estimated fromthe pixel values surrounding the
        peak in each RM row.  The default is an exact parabolic fit to
        3 points, with the previous 5-point least-squares parabolic
        fit and no fit at all as other options.
        Moved nowhere.

13922.  August 10, 2012             LISTR               Eric
        Added DPARM(10) to set the value of a print of 1 in LIST,
        GAIN, and MATX forms.  DPARM(10) <= 0 gives what has always
        (recently) been done.
        Moved nowhere.

13923.  August 13, 2012            TARS                 Eric
        Changed the output formats (amp, real, imag multiplied by
        10^6, more suitable number of digits and blanks).  Changed the
        output text file to checked for errors and handle them without
        thousands of messages.  Changed the output text file to allow
        it to be concatenated.  Changed task to print to the message
        file only when OUTFILE is blank.
        Moved nowhere.

13924.  August 13, 2012             PCLOD                 Eric
        PCLOD uses the damn KEYIN routine and so needs an enormous
        buffer in case there are lots of values to be read.  Changed
        100000 to 20000000.  Fixed the help file: frequency and
        pulse-cal are spelled without the last character.
        Moved nowhere.

13925.  August 13, 2012              TAPLT                Eric
        Added RPARM, KEYSTR, DOINVERS to allow selection of which rows
        to plot.  Added comments in the Explain file about SY table
        plotting.
        Moved nowhere.

13926.  August 14, 2012            COPIXEL                Eric
        Verb COPIXEL, subroutine AU7B, was not careful on output about
        coordinates between -1 and 0 degrees declination.  Changed it
        to set COORDINA of 4, 5, and 6 negative, not just
        COORDINA(4).  Changed help file of COORDINA to warn about
        typing -0, m, d.  Upgraded that help file to include all
        verbs, procs, tasks now using the adverb.
        Moved nowhere.

13927.  August 14, 2012               TARS                Eric
        Put in a call to JTRIM to turn TAB characters in blanks and
        trim off unprintable junk from the end of lines when reading
        whatever garbage the user has prepared.
        Moved nowhere.

13928.  August 15, 2012          TAB characters           Eric
        All text reads should be checked for TAB characters except
        those of outside-world, fixed format text files.  In general a
        call to JTRIM will replace TABs with single blanks and drop
        all characters after the first (other) unprintable character.
        Changed in this way:
        ZLWIO    ZTXREN   AU5F     AU7      AU7B     GNETSP   K2TEXT
        OFMDIR   WRIBOX   GETOFM
        COOKNS   COOKNX   HLPA     HLPB     SHOPA    SHOPB    SHOPH
        SETSP    CHKFC    CPYRT    DRCHK    PRTAC    SAD      AFILE
        BOXES    BPCOR    CLCOR    DFCOR    FACES    FARS     FILLM
        FIXBX    RLDIF    SETAN    SETFC    SHADO    STARS    TBIN
        TBOUT    TFILE    UVLIN    UVSIM    VLOG     CCEDT    INDXR
        UVCON    IMAGR    BPERR    GREYS    IMRMS    SERCH    CONFI
        GAL      PLOTR    ICON
        Also did:
        DRCHK   Changed the spelling of the ACD.. name - two slashes
                are needed to get one in fact.
        PBEAM   Tried to change it to use free-format parsing for the
                data and, when the header card fixed format read has
                an error, with that card.  I have no data to test
                this.
        Moved nowhere.

13929.  August 17, 2012            IMAGR                  Eric
        Use of FQTOL with the frequency-dependent options has turned
        up some errors.  Fixed
        IMAGR    Lost the value of FQTOL from the work object if that
                 object (file) was found to pre-exist and need
                 replacing.  The keyword had to be in the main UVDATA
                 object so that it would reappear in the work object
                 in this case.
        VISDFT   Two places used the incomong NCHAN argument rather
                 than the max of the number of channels in any model.
                 That made the model get erased in part by data and
                 resulted in NaNs possibly in Gaussian modeling but
                 probably got wrong results in point-source modeling
                 also.  In addition, a summary message used the number
                 of channels in model #1 rather than model #I to get
                 the highest channel number and so listed more than it
                 should in some cases.
        Moved nowhere.

13930.  August 20, 2012            UVFIX                Eric
        Changed LPSEC to add the latest leap second.  Changed UVFIX to
        count the number of failures from FRQUPD and report the first
        4 and the total count.  FRQUPD is supposed to find the source,
        time, antenna in the CL or FO table and returns -1 if it does
        not.  UVFIX used to report this as if an I/O error occurred
        and then turn off any looking for Doppler offsets.
        Moved nowhere.

13931.  August 20, 2012             CD matrix            Eric
        Coordinates are often transferred from IRAF et al with a CD
        matrix which can contain (and frequenctly does contain) skew.
        Changed the PCHDR routine which tries to make sense of this
        to take the smaller terms less seriously.  Axis increments
        will be set by the bigger terms CD(1,1) and CD(2,2) usually,
        but CD(1,2) and CD(2,1) when the rotation is near 90 degrees.
        Moved nowhere.

13932.  August 20, 2012               MORIF               Eric
        Added the option to set BCHAN and ECHAN so that one can get
        a number of channels that divides into N equal parts.  This
        forced changes in how a variety of things are handled.  It
        also turned up errors in the handling of BIF in BP and similar
        tables.  The BP tables now come out right and the data too.
        Moved nowhere.

13933.  August 21, 2012            IMAGR                   Eric
        In the presence of subarrays with SUBARRAY=0 but with other
        adverbs (notably TIMERA set) IMAGR dies badly.  The root cause
        is the failure to return a negative error code when UVGET
        ('INIT'..) returns -1 even though this return means that files
        are not open and there are no data.  Changed:
        UVDATA    S.R. OUVOPN to issue a message about no data
                  selected and return the -1 error code.
        UVUTIL    S.R.s SCNAVG, SCNHAY, NXTAVG changed to return the
                  -1 if it arises rather than to ignore it.
        IMAGR     When adverb SUBARRAY is zero, make a list of
                  subarray numbers that have data and use only those.
                  Found and fixed an error - the maximum baseline used
                  to set the averaging when doing baseline-length time
                  averaging was determined from the first subarray
                  only.  It looped but always looked at the first
                  (when SUBARRAY=0).
        Moved nowhere.

13934.  August 23, 2012           IMAGR                 Eric
        Changed OUVOPN in UVDATA to close the UV file when UVGET
        ('INIT'..) returns -1.  The file is closed already on error
        returns > 0, so make this consistent.  IMAGR had to be changed
        to do OCLOSE only when OOPEN was successful - the error in
        OCLOSE caused it to issue messages and die otherwise.
        Moved nowhere.

13935.  August 23, 2012             IMSTAT              Eric
        Improved formats in AU6D for IMSTAT and TVSTAT.
        Moved nowhere.

13936.  August 23, 2012          Model subtraction         Eric
        The automatic change of CMETHOD ' ' to 'IMAG' when there are
        no CC files was broken in SETGDS by the change that allowed
        there to be no CC files in some but not all facets.  Fixed it
        although an error code is returned whn the user explicitly
        asked for CC models.
        Moved nowhere.

13937.  August 23, 2012           CC2IM                   Eric
        NEW TASK: converts a CC file to an image in JY/PIXEL for point
        or Gaussian Clean components.
        Moved nowhere.

13938.  August 23, 2102         IMEAN, IMSTAT            Eric
        Added code to IMEAN and IMSTAT/TVSTAT (subroutine AU6D) to
        report the total flux from images in JY/PIXEL.
        Moved nowhere.

13939.  August 24, 2012           install.pl             Eric
        Added comment about editing $SYSLOCAL/UPDCONFIG for the e-mail
        address which is usually wrong in two places.
        Moved nowhere.

13940.  August 24, 2012             PRTAB                Eric
        Added the ability to do F format displays of reals and doubles
        as well as the exponential form.  The default (NDIG=0) is now
        F format.  It tries to represent the smallest non zero (with 2
        digits) as well as the largest value, within the character
        limits of the exponential formats previously used.  It can be
        more efficient however depending on the data.
        Moved nowhere.

13941.  August 24, 2012             IMAGR                 Eric
        Found an error that I am suprised had not appeared previously.
        In QUVUTIL, subroutine OUVIMG it made reference to
        BEAM(LFIELD) but that does not exist for all LFIELD when
        ONEBEAM is true.  This could have produced an error return
        with no properly printed error.  Changed the handling of the
        message suppression in a number of places throughout QUVUTIL.
        Moved nowhere.

13942.  August 24, 2012             CPASS                  Eric
        Added the spectral index correction adverbs and capability.
        As BPASS, it knows the main calibrators' spectral parameters
        and can be told those for others.
        Moved nowhere.

13943.  August 27, 2012               TYAPL               Eric
        Added OPTYPE to allow a request that the gains be set from the
        SY table using the post-detection gain rather than Pdif and
        Psum.  Weights will not be computed in this approach.  Also
        added the ability to do the gain operation with TY or SY (Psum
        and Pdif or Pgain) by writing a new CL table rather than with
        copying the data.  This cannot do weights and will not
        correctly handle changes that occur anywhere other than
        between scans.  It is a lot faster however.
        Moved nowhere.

13944.  August 27, 2012            SETFC                   Eric
        Added adverb OPTYPE to specify 'USEF' to have the task write F
        type field cards (RA/DEC shifts) rather than C type (RA/Dec)
        field cards.
        Moved nowhere.

13945.  August 28, 2012             install.pl            Eric
        Added a close parenthesis that I forgot on August 24.
        Moved nowhere.

13946.  August 28, 2012         MEMO 117                Eric
        Added a remark in the SU table section that it is required in
        the presence of a SOURCE random parameter and usually omitted
        when there is not SOURCE random parameter.  Also change log
        chapter too.
        Moved to ftp site.

13947.  August 29, 2012             PRTAB               Eric
        Messed with the Fm.n formatting which had issues.  It should
        be nicer now.
        Moved nowhere.

13948.  August 29, 2012            FITLD                 Eric
        In the IDI section, the print format for sky frequencies did
        not allow for >= 100 GHz.
        Moved nowhere.

13949.  August 29, 2012               EVAUV              Eric
        Added adverbs DOOUTPUT, OUTNAME, OUTSEQ, and OUTDISK to help
        and Fortran.  Added capability to catalog the output files as
        UV files rather than temporary scratch files.  Added writing
        of history and copying of table files to each.  Changed DOPLOT
        so that > 0 does the real versus imaginary plots of the
        residual and gain files.  DOPLOT > 1.5 does (first) the
        mean/rms versus radius and image histogram plots.  Added
        messages explaining the real vs imaginary plots better.
        Moved nowhere.

13950.  August 30, 2012           DTSUM                 Eric
        Raised the limit on the number of scans and number of sources
        from 1000 each to 10000 each.
        Moved nowhere.

13951.  August 31, 2012           INDXR                 Eric
        Tried to improve the warning messages when some IF is not
        consistent with the band selected.
        Moved nowhere.

13952.  September 3, 2012         INDXR                 Eric
        Added messages like those in FILLM about the zenith opacities
        used.
        Moved nowhere.

13953.  September 3, 2012           TARS                  Eric
        Found error: the Clean algorithm failed to subtract the
        contribution of the last iteration so the restored plus
        residual or residual only outputs were incorrect.  The task
        also ignored the Q and U values in the data rows when a model
        was given.  Changed it to add the model components to the data
        from the rows that define the frequencies to be used.  Also
        changed it to read a fourth column of weights.  Added a new
        OPCODE to control which Clean algorithm is used and added one
        called CMPL.  The new Clean does a pattern match of the inner
        portion of the complex beam with the RM spectrum modified by
        all possible phase shifts (in increments of 0.1 degrees).
        That shift with the largest sum of the product of the real
        part of the beam with the real part of the shifted row plus
        the imaginary part of the beam with the imaginary part of the
        shifted row determines the location of the peak in RM with the
        amplitude of the sum and the phase shift setting the Clean
        component amplitude and phase.  Added code to fit the width of
        the real part of the RMTF to give the width of the Clean
        restoring Gaussian (as a default).  Changed all floating-point
        computations to double precision - it makes a difference when
        working with noise-free problems at least.
        Moved nowhere.

13954.  September 3, 2012           FARS                  Eric
        Found error: the Clean algorithm failed to subtract the
        contribution of the last iteration so the restored plus
        residual particularly or residual only outputs were incorrect.
        Added fitting of a Clean beam to the real part of the RMTF.
        Moved nowhere.

13955.  September 4, 2012          UVLOD, FITLD            Eric
        Added adverb DOKEEP to UVLOD and FITLD.  Fully flagged
        visibility records are kept only if DOKEEP > 0.
        Moved nowhere.

13956.  September 7, 2012           FARS                  Eric
        Dropped OUTCLASS and OUT2NAME, OUT2CLASS, OUT2SEQ, and
        OUT2DISK adverbs from the inputs.  The task forces the
        outclass for the two output images and uses the same OUTNAME,
        OUTSEQ, and OUTDISK for both.  Changed Fortran for the change
        in adverbs.  The old code used OUT2SEQ and OUT2DISK for the
        first image along with OUTNAME and OUTCLASS and vice versa for
        the second output image.  Now both use OUTNAME, OUTSEQ, and
        OUTDISK, with the class forced to the previous defaults.
        Got rid of erroneous STOKES axis in the output headers.
        Moved nowhere.

13957.  September 7, 2012          AFARS                  Eric
        Dropped OUTCLASS and OUT2NAME, OUT2CLASS, OUT2SEQ, and
        OUT2DISK adverbs from the inputs.  The task forces the
        outclass for the (now) three output images and uses the same
        OUTNAME, OUTSEQ, and OUTDISK for all.  Changed OPCODE to have
        'CMPL' request real and imaginary out, otherwise amplitude and
        phase are written.  Changed Fortran for the change in adverbs
        and to write out 3 images at all times - RM plus either
        amplitude and phase or real and imaginary.  All but the phase
        attempt to use a fit position for the maximum between pixels
        around the maximum pixel.  The old code used OUT2DISK for the
        RM image but OUTNAME, OUTCLASS, and OUT2SEQ and vice versa for
        the second output image.  The code wrote some abnormal string
        on top of the STOKES axis in the output images and that axis
        should no longer show up.
        Got rid of erroneous STOKES axis in the output headers.
        Moved nowhere.

13958.  September 7, 2012             MODIM               Eric
        NEW TASK: Makes model image cubes in I, Q, and U either
        starting with suitable input cubes or creating new ones.
        Model components have values of I, Q, U at 1 GHz plus spectral
        index, rotation measure, position, and widths (major, minor,
        pa) of 6 different types - point, Gaussian, uniform disk,
        uniform rectangle, sphere, and exponential.  Up to 9999
        components may be read in via a text file.
        Moved nowhere.

13959.  September 12, 2012            TARS               Eric
        Correct to handle files with no weight correctly (rather than
        setting the weights to 0).
        Moved nowhere.

13960.  September 12, 2012            CLCOP              Eric
        Added OPTYPE 'AVER' to average a list of IFs and then replace
        a list of IFs with that average.  This will deal with an IF
        adversely affected by line emission, RFI, etc.  Fixed spelling
        in SYCOP help file.  Found error message in SNCOP that used
        the wrong format number.
        Moved nowhere.

13961.  September 12, 2012           CLCOR               Eric
        Improved the description of the INFILE option for the ANTP
        function in the help file.
        Moved nowhere.

13962.  September 14, 2012           QUXTR               Eric
        NEW TASK: This task extracts Q,U spectra from a pair of
        Q,U cubes to generate text files for input to TARS.
        Moved nowhere.

13963.  September 14, 2012           TARPL               Eric
        NEW TASK: This task plots rotation measure spectra from TARS
        output text files.  It can plot multiple lines/symbols each
        representing a block of TARS output contained in the TARS
        output text file.
        Moved nowhere.

13964.  September 17, 2012           SETJY              Eric
        Corrected the handling of RADIO velocities in OPTYPE 'VCAL' -
        they were all wrong.  A similar attempt to use a cute trick
        involving a simple sign flip led to incorrect computation of
        the LSRVEL in other OPTYPEs when the frequency reference pixel
        and the velocity reference pixel differ.
        Moved nowhere.

13965.  September 17, 2012            IMEAN             Eric
        Added TRIANGLE as a return adverb.  It contains in TRIANGLE(i)
        the flux level exceeded by only i per cent of the data
        samples.  This will let one pick off flux levels in procs to
        set PIXRANGE or other flux-dependent variables.  Note that
        this only tells about the flux up to 50%.
        Moved nowhere.

13966.  September 21, 2012     Clean beam plots          Eric
        Changed PLTBEM again to make it define line types rather than
        live with the one it inherits.  At the end it restores the
        line type it started with.  Line type 1 is used for the box
        and line type 2 is used for the beam and any cross-hatching.
        Was changed on September 16 to output a comment indicating
        the start of the beam plot.
        Moved nowhere.

13967.  September 22, 2012           LWPLA               Eric
        (1) Added a new page type - landscape rotated the other way
        (to +90 rather than -90).
        (2) In positioning character strings, LWPLA had assumed that
        all characters are the same length.  That is only true of
        Courier and not of the default font.  Changed the rtoutine
        that checks that the character string is legitimate to count
        the actual length by assuming that small characters are only
        2/3 the size ('.-, :;()').
        Moved nowhere.

13968.  September 22, 2012         EVLA.GAINS             Bryan
        A corrected EVLA.GAINS file has been installed in $AIPSIONS.
        Moved nowhere.

13969.  September 22, 2012         WINDOW             Eric
        The subroutine that interprets BLC and TRC dropped BLC to the
        integer below BLC(i)+0.01 but raised TRC with TRC(i)+0.89.
        That should be 0.99.
        Moved nowhere.

13970.  September 24, 2012          plotting            Eric
        Changed LABINI and CLAB1 to use capitalized lower case axis
        labels with longer strings in some cases (ARC SEC).  Will
        affect output of plots to LWPLA but not to TV.
        Moved nowhere.

13971.  September 25, 2012           LWPLA               Eric
        A change in the handling of strings to look for characters
        smaller than the average led to the code not handling strings
        that it thought had unprintable characters.  They really did
        not but the subroutine testing for them was inadequate.
        Changed to let JTRIM do that and rearranged the code to avoid
        the issue.
        Moved nowhere.

13972.  September 26, 2012            PCCOR              Eric
        Changed message when the number of tones in less than two.
        For some reason it gave an elaborate message when
        2 * Nif * Npol > 16.  Dropped that in favor of the simple
        message.
        Moved nowhere.

13973.  September 26, 2012           FLATN               Eric
        FLATN did not defend itself against the observed RA and Dec
        being 0.0.  That made correcting for primary beam dicey.
        Put in set it to the ref values.
        Moved nowhere.

13974.  September 26, 2012        FLATN               Eric
        The inscribed ellipse that set weight to 0.0001 outside the
        ellipse was done **after** the primary beam which tried to set
        the weight to 0.0 outside its limits.  Fixed the order of the
        weighting so that inscribed ellipse is first, then primary
        beam, and then radial downweighting (which is rarely
        recommended in mosaicing).
        Moved nowhere.

13975.  September 27, 2012     SLICE, SLFIT            Eric
        Fixed SLICE to allow non-integer BLC and TRC when DOKEEP is
        false.  Fixed SLFIT to take absolute value of LTYPE and to
        convert values <= 1 to 3.  It failed otherwise.
        Moved nowhere.

13976.  October 1, 2012            PRTAB               Eric
        The change to F format did not deal with columns with real
        values that are too small for the allowed F formats.  Changed
        code to detect this and use exponential formats for those
        columns.
        Moved nowhere.

13977.  October 1, 2012            RM                  Eric
        Fixed some HI file formatting problems.
        Moved nowhere.

13978.  October 3, 2102          Misc                    Eric
        RLDIF   Did not write history file when DOAPPLY was false.
                Now it will write it with the DOAPPLY value at the
                end.
        TARS    Made the print format even wider to encompass large
                values as well as small.
        POSSM   Modified some formats related to channels although all
                should have been okay at present.
        VPLOT   Modified a few formats related to channels - one was
                rather wrong (I4) while most of the rest were
                functional.  The plot header used I8 but then only the
                lower 4 characters - fixed to use 5.
        TARPL   There was a typo causing line plots to be omitted.
        Moved nowhere.

13979.  October 3, 2012     documentation files         Eric
        Update:
        1. $HLPFIL/HLPIT.LIS the file used to do TAB completions
        2. Apropos text file ($HLPFIL/LSAPROPO.HLP) did not need
           changing - putbck does an excellent job.
        3. About files updated:
           ADVERB    ANALYSIS  AP        CALIBRAT  CATALOG   COORDINA
           EDITING   EXT-APPL  FITS      GENERAL   IMAGING   INTERACT
           MODELING  ONED      OOP       PLOT      POLARIZA  PROCEDUR
           SPECTRAL  TABLE     TAPE      TASK      TV        UTILITY
           UV        VERB      VLA
        Moved nowhere.

13980.  October 4, 2012         SETJY                 Eric
        The computation of velocities at the reference pixel given the
        velocity at some other pixel was grossly in error since 17
        September (a factopr of the channel width in Hz!).  However,
        the computation was in error for optical convention for
        forever (probably).  A full non-linear computation must be
        done Vref = Vc + C (1/nuref - 1/nuc) where c is the channel at
        which the velocity is known.  A linear formula was used after
        a correct computation of the velocity slope at c.
        Moved nowhere.

13981.  October 4, 2012               FRING                Eric
        The change in FRING to allow 1/N subdivisions of the full set
        of channels into N solutions broke the mode of
        multi-band/single-band represented by APARM(5)=2.  I used an
        old version (2009) of FRING to inform me of the intentions of
        this mode and now there appears to be a sufficient set of
        If-Then-ElseIf-Then-Else clauses.
        Moved nowhere.

13982.  October 5, 2012           GCPLT                 Eric
        NEW TASK: Plots selected contents of the antenna gain curve
        test file used by INDXR and FILLM in AIPS and by other
        software packages.
        Moved nowhere.

13983.  October 5, 2012           LWPLA                Eric
        Corrected error - the number of characters in a string to be
        plotted was altered by the code and that new number used to
        move the buffer pointer.  Changed to remember the initial
        number which is needed to move the buffer pointer.  This does
        mean that some task wrote a string with trailing blanks.
        Moved nowhere.

13984.  October 8, 2012            IMAGR                Eric
        Both UVUTIL and IMAGR were changing the sort order to '??'
        when there is rotation.  That is not necessary with BT or TB
        for which the sort order is not lost.  The BLVER is getting
        carried along so UVGET was unhappy with DOBL true and sort
        order not T*.
        SELINI did not initialize DOBL so it was kept from a previous
        data set and tested in UVGET before it could be properly set.
        UVGET used DOBL before GAININ could test for BLVER and set it.
        Changed it to test the image header for a BL table and set
        BLVER=-1 if there is none.  Then set DOBL = BLVER.GE.0 before
        the time order and other tests.
        Moved nowhere.

13985.  October 8, 2012        CookBook                 Eric
        Changed:
        1    Updated the count of lines, version name, etc
        3    M2CAT, U2CAT et al, IM2HEAD, Q2HEADER, et al.
             double precision pseudo-AP
        4    SNFLG (A&P), setjy (spectral), SNREF, Use RLDIF not
             CLCOR, self-cal before DOPOL application
        5    OOCAL, SCMAP additions, IMAGR average channels, SNFLG
             self-cal before DOPOL
        6    CHARMULT, TVHUI (hue transfer func, wedge output image),
             SNPLT color by source
        7    TARS, TARPL, QUXTR; SLICE with FQID, 3rd axis, no interp
             option nd more text-file info; Extend modeling to incl
             GAL/CUBIT ref, OMFIT, DTSIM, UVHOL, MODIM
        9    SNPLT color by source
        12   NAMEGET, GETVERS, QGETVERS
        13.  Updated 27 ABOUT lists
        E    LISTR (SY), OOCAL, SETJY (VCAL), FRING/RLDLY quarters,
             LINIMAGE. SNFLG (A&P), MORIF, RFLAG freq changes,
             INDXR EVLA gains and OBIT warning, PRTSY, TYAPL (PGN)
        0    updated
        I    updated
        J    updated
        Recipe  Used every one of the unused in various chapters.
        Moved nowhere.

13986.  October 11, 2012          MORIF, VBGLU           Eric
        A call to determine whether a column was in a list had the
        wrong length for the list.  This caused it to look in the next
        list and find things it should - but only with some
        compilers.  Affect GC tables badly on Intel 64 bit.
        Moved nowhere.

13987.  October 12, 2012            SETJY              Eric
        Changed to add the Perley/Butler 2013 values for 3C286 and
        3C295.  This shifts all previous systems 1 higher in the
        APARM(2) adverb.
        Moved nowhere.

13988.  October 12, 2012            DEFCOLOR           Eric
        Added proc to POPSDAT to set default PLCOLORS - most useful
        when Tv is not running.  Edited help files for LWPLA,
        PLCOLORS, and TVCOLORS and made a new help for DEFCOLOR.
        Moved nowhere.

13989.  October 12, 2012            SOUSP              Eric
        Added explanatory message ahead of printing fit values.
        Corrected the positioning of the strings inside the plot
        giving the values.  They were based on TVs and not proper plot
        file concepts.
        Moved nowhere.

13990.  October 15, 2012           editing               Eric
        Changed QEDIUTIL to have "SWITCH ALL IF" be a 3 position
        switch (when there are >2 IFs and all are in ram).  The
        positions are 1 IF (the current one), a range of IFs (the
        current one may not even be included), or all IFs.  This
        required modest changes to the help files EDITA, EDITR, SNEDT,
        HLPEDICL, HLPEDISN, HLPEDISS, HLPEDITY, HLPEDITS, HLPEDITY,
        and HLPEDIUV.
        Moved nowhere.

13991.  October 15, 2012          OBIT verbs             Eric
        Changed AUO to make sure the "line printer" does not appear to
        be open when it has not been opened.  Changed content of error
        report when ZSHCMD (the operating system) reports an error.
        Fixed CookBook chapter E about DOWAIT in BDF2AIPS and the
        table of contents to make the last page not truely a
        hanger-on.
        Moved nowhere.

13992.  October 16, 2012             PLOTR                Eric
        Fixed the line type (TV color) for strings.  Fixed a bad
        subscript on a test for symbol type - got bad values for data
        types greater than a few.
        Moved nowhere.

13993.  October 16, 2012             UVRFI                Eric
        The task attempts to do TB sorted data but did not allocate
        enough memory (by a factor of number of samples in the
        interval).  Changed to allocate that much memory and to hint
        in the help file that TB data might well work.
        Moved nowhere.

13994.  October 16-17, 2012          SETJY                Eric
        Corrected history strings (and message) for the new set of
        calibration numbers.
        Then fixed it to get the correct "previous" values which are
        2010 for 3C286 and 3C295 (and 3C196 sort of) but 1999 for
        3C48, 3C147, and 3C138.  Rearranged messages to show what is
        being done.
        Moved nowhere.

13995.  October 18, 2012           KEYIN                 Eric
        Again!  It did not check for length of strings at all the
        right places so a bad input file could cause abrupt aborts for
        bad formats.  Added JTRIM on the input text file line - they
        now have to obey modern rules.  Note that this is the AIPS
        version of KEYIN which had strayed far from the original CIT
        version and that version has also since the split evolved.
        But that version is still written with Fortran 2 rules.
        Tasks ANCAL, ANTAB, DTSIM, FETCH, M3TAR, MK3IN, PCLOD, SETAN,
        USUBA, UVFLG, VLBIN, INDXR, LDGPS, BLING, OMFIT, APCAL were
        re-linked.
        Moved nowhere.

13996.  October 18, 2012              POSSM               Eric
        Fixed labeling of multiple plots so that the horizontal axis
        gets labels only when the plot is at the bottom of a column.
        They were ok on the TV in non-fixed scale plotting, but not
        elsewhere where characters are by default larger.  They
        overlapped things all the time when fixed scale plots were
        done.
        Moved nowhere.

13997.  October 24, 2012            TVFLG, SPFLG           Eric
        When the IO buffers got bigger, TVFLG's pointer set did not
        adjust properly.  Bad things happened on CLIP INTERACTIVE -
        pieces of the master grid got messed up.  Both TVFLG and SPFLG
        required modernizing the list of display types in the
        subroutine that does LIST FLAGS.  TVFLG also messed up the
        NEXT IF/ST option by assuming there were 2 Stokes without
        checklng.  This also made for bad addressing.
        Moved nowhere.

13998.  October 25, 2012             KEYIN               Eric
        Changed it to look at the length of the input key strings and
        compare strings only to that number of characters.  PCLOD was
        failing.
        Moved nowhere.

13999.  October 26, 2012             KEYIN              Eric
        Further change - when a parsed string is too long it will now
        report it but not count it as an "error".  It will ignore the
        long symbol and the rest of the line but not return an error
        code at the end of the execution (and not quit after 10 long
        symbols).  With the number of bad KEYIN-data files I have seen
        recently this could be pretty bad.
        Moved nowhere.

14000.  October 26, 2012             EXTLIST                Eric
        AU8A needed updating for changes, some rather old, in plot
        task adverb lists.  Fixed BPLOT, POSSM, ANBPL, CAPLT, CLPLT,
        FRMAP, FRPLT, UVHGM, UVPLT, and VPLOT.  Reviewing all tasks in
        the list turned up TAPLT, SNPLT, ISPEC, RSPEC, and PLOTR.
        Fixed the number of adverbs list in PLGET (AU2A).
        Moved nowhere.

14001.  October 26, 2012              Slices               Eric
        The SL file format changed in an improper way (no proper
        version control) so modern programs read old SL files badly.
        Fixed
        AU8A     EXTLIST - to test record 2 for old versus new form
                 and interpret the models appropriately (new has
                 physical values as well as pixel values of fit)
        TVSLIN   Changed to test record 2 for old type and set the
                 FQID values appropriately.  Expanded units handling.
        TKSLIN   Changed to test record 2 for old type and set the
                 FQID values appropriately.  Expanded units handling.
        MV2C06SL $DOCTXT: upgraded the documentation incl notes about
                 older formats.
        SL2PL    Changed to test record 2 for old type and set the
                 FQID values appropriately.  Expanded units handling.
        SLFIT    Changed to test record 2 for old type and set the
                 FQID values appropriately.  Expanded units handling.
        Moved nowhere.

14002.  October 31, 2012             EXTLIST               Eric
        Added tasks CCNTR  SERCH, EVAUV, DELZN, ELINT, FGPLT, GAL,
        SNIFS, SOUSP, and WETHR to AU8A for EXTLIST.  Changed the
        tasks themselves to use the new plot number codes and changed
        the precursor comments in GINIT.  Also changed:
        RFLAG   Fill in IF defaults, fix UVRANGE units for plot files
                (and fix them back).
        CCNTR   Fix defaults, deal with CLEV and PLEV both zero,
                reset multiplier when ST file is plotted.
        EVAUV   Add a 10-value array at end of adverbs for plot file
                type and X and Y ranges.
        DELZN   Filled in defaults in several adverbs.
        SOUSP   Added some more extra parameters to give plot type, fit
                flux, rms
        ELINT   Filled in defaults for some adverbs
        GAL     Filled in defaults for DPARM
        FGPLT   Filled in defaults.
        AU2A    Added the new tasks for PLGET
        GINIT   Updated the precursor comments.
        Moved nowhere.

14003.  October 31, 2012             history               Eric
        Changed CALHIS to compare CALSOU and SOURCS.  If they are
        equal, then the HI cards call the adverb CALSOUR, otherwise it
        is called SOURCES.
        Upgraded the writing of history files to use CALHIS in tasks
        FRING, RLDLY, PCAL, BPASS, CPASS, CALIB, KRING, and LPCAL.
        Moved nowhere.

14004.  October 31, 2012         UVCOP, TYAPL             Eric
        Changed the maximum number of flags applying to s single time
        to 600000 in these two tasks (only).  All others are 60000.
        Moved nowhere.

14005.  November 1, 2012          EVLA.GAINS              Brian Butler
        New EVLA gains files - retains frequency column but has gone
        to one frequency per band.  The accuracy of the measurements
        was not felt to be good enough to justify multiple
        frequencies.  Certain unreliable antennas were down-weighted
        in the solution or omitted.  The curves were re-normalized to
        50 degrees elevation.
        Moved nowhere - MNJ prep done at 8:45am however.

14006.  November 1, 2012            EXTDEST              Eric
        Added DOCONFRM adverb with value -2 to allow RUN and batch
        jobs to delete CL and HI tables version 1.  It will ask
        interactive inputs for permission if DOCONFRM >= -1 and will
        skip it for non-interactive.
        Moved nowhere.

14007.  November 19, 2012             POSSM                Eric
        Corrected some of the bad effects from the last change to the
        labeling.  Added a change to the labeling of the panels with
        IF numbers and polarizations.  The old method ("IF nn (RR)")
        is used when the total number of panels in the X direction is
        less than 13.  The new method, a simple IF number with the
        polarization above whenever it changes, is used when there are
        more panels (IFs, polarizations, NPLOTS in the X direction).
        A subtle shift of the number occurs when the number of panels
        exceeds 48 as well.
        Moved nowhere.

14008.  November 19, 2012             BSCAN                Eric
        NEW TASK.  It examines the data for a selected source
        (calibrator usually) in a UV data set, trying to find the best
        scan to use for various calibrations.  It first tries to find
        scans containing all antennas and if it finds some it returns
        an ordered list starting with the one with the most baselines
        and samples.  The time range and number of antennas are
        returned for each selected scan.  If no scan has all antennas,
        it looks for scans containing all but one.  It returns the
        best of those and another scan containing the missing antenna
        (if any) along with the number of the antenna missing in the
        first returned scan.
        Moved nowhere.

14009.  November 25, 2012         VPLOT, Calibration        Eric
        Subroutines SOUFIL and SELINI assumed that there could be no
        more than 50 antennas requested even though the array is
        dimensioned MAXANT=90.  VPLOT made that mistake a variety of
        places also.
        Moved nowhere.

14010.  November 26, 2012          DOCENTER              Eric
        Changed the default value of DOCENTER to 0 in POPSDAT and
        AU2A.  This is better with IMVAL and okay for all the rest.
        Moved nowhere.

14011.  November 26, 2012           MAXFIT               Eric
        Changed AU9 and the MAXFIT help file to add output adverb
        SHIFT to give the shift needed to put a source on top of a
        pixel if one re-images.  Note that the quirks of Clean may
        force you to iterate 2 or even more times depending on how
        accurate you wish to be.
        Moved nowhere.

14012.  November 27, 2012              RLDLY              Eric
        When doing the solution in dividing the IFs in halves or
        quarters, the task wrote over correct answers in half number 2
        and quarters 2, 3, and 4 with values from the first gropup of
        IFs.  I have a clear memory of fixing this previously, but
        apparently the fix did not make it into the system at that
        time.  This bug has presumable been present since March 19.
        Moved nowhere.

14013.  November 28, 2012          IMLOD, FITLD          Eric
        Changed these tasks and subroutines PCHDR and PCCARD to also
        trap PVi_j FITS cards and to report the presence of the PV
        cards if not understood and to switch -SIN to -NCP projection
        when the PVs specify the right values.  This enables WSRT
        images with modern headers to be read correctly (e.g. the
        WENSS postabge-stamp server).  Rerquired changes too to CALRD,
        PRTTP, UVLOD, and AIPS subroutine FWRITE.
        Moved nowhere.

14014.  November 28, 2012           control files          Eric
        Updated the tab completion file HLPIT.LIS in $HLPFIL.
        Also the ABOUT files ZZCALIBRAT, ZZPLOT, ZZPROCEDUR, ZZTASK,
        ZZTV, ZZUV, ZZVLA, and ZZVLBI.  Redid Chapter 13 of the
        CookBook (LaCook13.tex) and the web versions.
        Moved nowhere.

14015.  November 28, 2012           POSSM                Eric
        Changed it to use the new IF labeling on NPLOTS=0 also.
        Changed it to set the flux scaling on the first panel on a
        page and use that power of 10 for all plots on that page.
        This led to the discovery that the minimum tick interval was
        1.E-5 and it really should be 1.E-6.  Changed TICINC to
        implement this and TICSTR and ITICS to react to the new
        meaning of the variable usually called ITRY.  Lots to link.
        Moved nowhere.

14016.  December 3, 2012       EDITA, et al            Eric
        The option to give a range of IFs to be flagged made it most
        places in the code but not quite everywhere - the output FG
        table did bif-bif rather than bif-eif where bif,eif is the IF
        range requested to be flagged.  Killed one old line from
        QEDIUTIL.
        Moved nowhere.

14017.  December 5, 2012      FRING, KRING, RLDLY         Eric
        Added BIF, EIF adverbs to these three tasks, but they are used
        only when doing all IFs together as one, halves, or quarters.
        Added these adverbs to the tasks - all data are still used but
        the data in excluded IFs is flagged locally when read.
        RLDLY - corrected to keep track of overall weights of antennas
        in case that an antenna lacks data in some IF.  This was
        necessary to handle the quarters and halves when one might be
        excluded.
        KRING - added H and Q modes to the N mode.  This required
        using other variables to hold the working values of phase,
        delay, rate, etc and fixing up the data expansion/contraction
        routine.  Changed the reference frequency used for delay to be
        the same for all sections of the spectrum.

***********************************************************************
***********************************************************************

                 Changes while 31DEC12 is NEW

***********************************************************************
***********************************************************************

14018.  December 5, 2012          UVCOP                  Eric
        The PDSEL routine used in copying PD tables from one UV data
        set to another had a bad variable causing it to zero the
        results.
        Moved to 31DEC12 this date.

14019.  December 6, 2012        FARS, AFARS              Eric
        FARS now gets rid of the STOKES axis on output - but this led
        one of the number of points on an axis to be 0 (an axis not
        actually used).  AFARS did not test for this and so looped
        over nothing at all producing a constant, blanked image.
        Fixed this in both tasks.
        Moved to 31DEC12 this date.

14022.  December 12, 2012         RM help                Eric
        Cleaned up the help file and fixed the "limited to 4
        frequencies" statement to the correct limit - 65536.
        Moved to 31DEC12 this date.


14027.  December 17, 2012       FRING, RLDLY            Eric
        Changed both to do N groups of IFs so long as N divides evenly
        into the total number of IFs.
        Moved to 31DEC12 this date.

14028.  December 20, 2012       FRING, RLDLY            Eric
        Corrected dimension of parameter list - it was adequate for up
        to 60 antennas but looked like it would work for MAXANT (90).
        Corrected the phase reference frequency to first IF of the
        group whenever IFs are grouped.  Changed dimension of the
        variable to save the fits of groups so that it could handle
        more than 4 groups.
        Moved to 31DEC12 this date.

14029.  December 20, 2012    VLBAEOPS, VLBACALA         Amy
        Removed a bug from VLBAEOPS which was introduced with my June
        change.  In June I removed the INFILE but there was still an
        if statement in VLBAEOPS that was based on the INFILE.
        VLBACALA change the SOLINT in ACCOR because it was set to 2
        which is too long and averaged over scans, changed to -0.5.
        Also changed the clip parameters in SNSMO because 2Gbps data
        seems to need more leeway.
        Moved to 31DEC12 this date.

14030.  December 21, 2012        FRING, RLDLY            Eric
        Added test for DOEVLA = NumIF and forbid BIF and EIF in that
        case too.
        Moved to 31DEC12 this date.

14033.  December 28, 2012          FRING                 Eric
        When it solves for multi-band delay and then blanks solutions
        for low SNR, it did not blank the MB delay.  Fixed the routine
        which finds the MB delay to do this.
        Moved to 31DEC12 this date.

14034.  December 28, 2012         CONVL                    Eric
        Fixed output header to declare no blanked pixels and then
        reset it if it makes blanked pixels.
        Moved to 31DEC12 this date.

14035.  December 28, 2012       VTESS, UTESS               Eric
        Changed to find the beam center for all images rather than
        assume that the beam center is NX/2+1,NY/2+1 for those that do
        not need a primary beam correction.  Should be no harm...
        Moved to 31dEC12 this date.

14038.  December 31, 2012           IMAGR                Eric
        Changed QUVUTIL - OUVIMG was summing up the total ram needed
        for the requested images and, with less intelligence, for the
        requested beams.  This sum could overflow a 32-bit integer.
        Changed the summing variable to LONGINT and changed the places
        where it was used to start by dividing by 1024 rather than
        doing that later.
        Moved to 31DEC12 this date.

14039.  January 1, 2013           IMAGR                 Eric
        In QCLEAN, found 2 places that referenced IFIELD rather than
        the correct loop variable LFIELD when seeking the next facet
        to Clean in OVERLAP 2.
        Moved this correction only to 31DEC12.

----------------------- patches --------------------------------

14050.  January 16, 2013         smoothing after BP        Eric
        The bndpass application was performed only for channels BCHAN
        through ECHAN, not the wider range required if smoothing were
        to be done after the bandpass cal.  Fixed DATBND to do the
        wider range so that smoothing after the BP  rather than just
        before can be done properly.  Normally bandpasses are
        normalized so this was not so obvious.
        Moved to patch this date.

14054.  January 22, 2013           POSSM                    Eric
        Corrected: (1) It did not know about "formal I" Stokes and so
        looped over non-existent Stokes values.  (2) It did not
        initialize values for the upper plot in terms of scaling and
        axis prefix/label.  I probably introduced that bug when trying
        to keep scaling constant on each page.  (3) Changed it to
        specify the 2 antennas it needs when it reads the data each
        time.  Previously it was reading/calibrating all data and then
        keeping only the needed baseline.
        Moved corrections only to patch 5 Feb.

14058.  January 29, 2013            TICINC                Eric
        The subroutine that computes tick increments was changed in
        late November to allow even finer tick intervals.  The change
        was not properly carried to a piece of code computing
        round-off parameters, leading to excessive roundoffs and thus
        offsets in the plotted coordinates.  Two minutes of time was a
        common such offset (0.5 degrees).
        Moved to patch this date.

14062.  February 4, 2013              POSSM                Eric
        The subroutine to plot BD tables ended with a call to TABBP
        rather than TABBD to clos the file.  This worked sometimes but
        aborted under a variety of conditions.
        Moved to patch Feb 5.

14064.  February 5, 2013           FITLD                  Eric
        Changed FITLD to leave DIGICOR set to the user's value
        independent of the name of the array.  If that name is not
        VLBA a warning message is generated if the correlator is not
        DIFX or VLBA.  Altered the wording of FITLD help file and the
        DIGICOR help file.
        Moved to patch this date.

14067.  February 13, 2013           FITLD                Eric
        The recent change to control digital corrections for any and
        all correlators also enabled delay corrections - basically the
        CQ table.  Not all FITS-IDI files have the necessary info to
        do this.   Changed the program to issue all the error messages
        but to keep going when the CQ table fails (setting DELCOR
        false after a failure).
        Moved to patch 18-Feb.

14078.  February 19, 2013            CL2HF               Eric
        A COMMON in the task was named ANINI causing an addressing
        failure when the subroutine ANINI was called.  Renamed the
        COMMON.
        Moved to patch this date.

14085.  March 1, 2013               PRTAB                  Eric
        With really large floating point numbers (e.g. frequencies)
        the floating point formatting could generate an illegal
        format.  There is a simple fix.
        Moved to patch this date.

14087.  April 4, 2013              COMB                 Eric
        Scaled the BPARM(1) and (2) fluxes in POLC by the apparent
        beam factor which could be extreme.  Led to POLC doing
        nothing.  Fixed it to keep Clean beam area factors at 1.0 for
        those images not being read.
        Moved to patch this date.

14092.  April 5, 2013             AFARS                  Eric
        The correction to make it handle headers without having 0
        points on an axis left it trying to have way more than 3 on
        the 3rd axis - when it knew it did not want that.
        Moved to patch this date.

14099.  April 11, 2013              FITLD                Eric
        The include DSOV.INC used to handle SO tables from FITS IDI
        declared a buffer to be 31+11*NIF in a comment and 200 in the
        code.  This is 10 words short for 16 IFs which are common in
        VLB and many many words short for 90 IFs which AIPS supports.
        Fixed to the correct size = 34 + 11*MAXIF + a little.
        This caused issues when compiled with the Intel compiler at
        least in 64 bits, but not for all data sets (EQUINOX ended up
        -1 rather than 2000 with a bad error message).
        Moved to patch this date.

14110.  May 3, 2013             COMB                   Eric
        Found a strange scaling happening when combining an image with
        JY/BEAM with one of some other units.
        Moved to patch this date.

14126.  May 21, 2013                FITLD                 Eric
        The subroutine SO2SU had a format with more arguments than
        format translation codes.  Fixed it into two lines so it will
        work correctly on all machines and not overflow the line.
        Moved to patch this date.

14154.  June 17, 2013               BPASS                  Eric
        The code extended scans by 4 seconds in each direction while
        the comment said 2 seconds.  Changed this to 0.4 sec since new
        scans can start quickly if the pointing position does not
        move.  This caused data in the later scan to be thought to
        occur in the earlier scan and so to make a BP solution with a
        tiny amount of data in this artificially overlapped time
        range.  That lousy solution would then get serious weight wrt
        the solutions with the intended integration times.
        Moved tp patch this date.

14163.  June 26, 2013              SETJY                  Eric
        The code used the Perley 2010 coefficients for Perley 2013
        because the code was copied and not corrected.  It reported
        the Perley 2013 coefficients however.
        Moved to patch this date.

14171.  July 2, 2013               IMAGR                 Eric
        IMAGR computed the average frequency by finding the average
        channel number and then interpolating in the list of
        frequencies.  This fails if there is more than one Stokes
        (which that subroutine allows) or if the frequencies are not
        in a monotonic sequence.
        Moved to patch this date.

14175.  July 7, 2013           IMFIT, JMFIT             Eric
        When the Gaussian peak was negative, it was possible for the
        error bars to be negative also.  Put absolute value on all
        error bars.  This issue caused DOPOS and DOWIDTH to be
        returned as negative values so that the next fit held them
        constant.
        Moved fix only to patch.

14188.  July 17, 2013              TRANS               Eric
        The TRAROW subroutine that swaps rows did bad things when one
        wanted to reverse an axis - i.e. TRANSC='-312' which is a
        common request.  The data were not reversed but were written
        to later in the output scratch file and so went off the end of
        that file.
        Moved to patch this date.

14189.  July 25, 2013             PRTAB                  Eric
        June 10: The row selection (RPARM adverb) for integer-valued
        columns set the selection value to an integer.  This prevents
        setting the selction value to say 2.5 and the accuracy value
        to 0.6 to look at rows with either 2 or 3 in the specific
        column.  Changed it to keep the user-specified value as
        floating-point.
        jULY 25: Changed the scaling routine to read up to 50000
        records.  It read only 5000 before and that could end up
        finding no valid values in some of these new tables.  Adjusted
        handling of the columns some including when no max.min found
        in the 50000 and placement of the 'INDE'.
        Moved to patch this date.

14192.  July 29, 2013            SU table                 Eric
        The SU table has 21 columns (MAXSUC in PUVD.INC) and most
        places honor that.  Found two subroutines GETSOU and SOUFIL
        and 7 tasks FILLM, FIXAL, HAFIX, TRUEP, UVFIX, FRMAP, and
        POSSM that did not.  Put fixes only in UVFIX and POSSN which
        are different in 31DEC13.
        Moved to patch this date with large COMLNK file.

14206.  August 16, 2013            SPFLG                    Eric
        Gridding counters can overflow (> 2 billion) so it died rather
        finishing - except that it ignored the error code and got in
        deep trouble.  Counters -> double precision, error codes get
        checked.
        Moved to patch this date.

14213.  August 23, 2013             PRTAB                 Eric
        Dropped the last digit of 2 E formats used when doing the F
        format display with columns requiring E format (e.g. delays).
        Moved to patch.

14234.  October 21, 2013         SETJY, CVEL        Eric
        Subroutine CVLDOP used by the above tasks called a low level
        routine with a hollerith argument when a character string was
        expected.  It got away with this on some compilers but not the
        32-bit Intel compiler.  SETJY (OPCODE 'VCAL') and CVEL probbly
        got wrong answers on this architecture (date = 0/0/0 rather
        than correct).  Error made March 2012.
        SETJY got the OPTYPE ' ' radio velocity wrong because it
        omitted SYSVEL.  Added that offset.
        Moved to 31DEC12 this date.

14240.  October 24, 2013         ISPEC, etc.                Eric
        Subroutine FRQGET declared the number of columns in the FQ
        table to be 5.  It should be MAXFQC from PUVD.INC which is now
        6.  caused executions with an FQID axis to fail in RSPEC,
        ISPEC, BLSUM, and SLICE.
        Moved to patch this date.
