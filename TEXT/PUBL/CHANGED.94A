-----------------------------------------------------------------------
;  Copyright (C) 1995
;  Associated Universities, Inc. Washington DC, USA.
;
;  This program is free software; you can redistribute it and/or
;  modify it under the terms of the GNU General Public License as
;  published by the Free Software Foundation; either version 2 of
;  the License, or (at your option) any later version.
;
;  This program is distributed in the hope that it will be useful,
;  but WITHOUT ANY WARRANTY; without even the implied warranty of
;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;  GNU General Public License for more details.
;
;  You should have received a copy of the GNU General Public
;  License along with this program; if not, write to the Free
;  Software Foundation, Inc., 675 Massachusetts Ave, Cambridge,
;  MA 02139, USA.
;
;  Correspondence concerning AIPS should be addressed as follows:
;          Internet email: aipsmail@nrao.edu.
;          Postal address: AIPS Project Office
;                          National Radio Astronomy Observatory
;                          520 Edgemont Road
;                          Charlottesville, VA 22903-2475 USA
-----------------------------------------------------------------------
         This file must be used to record any changes made to the the
master version of AIPS kept in Charlottesville.  An entry is:

   line 1: Date Program name Your name
   line 2: What was done
   line 3: Where has this change been moved (e.g. 15OCT90)
   line 4: Blank

 The details of line 1 are important since programs are used to find
 specified strings and do conversions on them.  It MUST be typed as
 follows: 1 blank, 4 digits, a period, two blanks, then the Month,
day,
 comma, year, some space, a title, some more space, your name.


                    Changes to 15JAN94


***********************************************************************

        Changes while 15JAN94 was TST:

***********************************************************************

***********************************************************************

 7669.  July 9, 1993         $HIST/CHANGE.DOC (this file)           Pat
        Initialized this file as part of the quarterly update.
        Moved nowhere, but also edited NEW (15JUL93) version
        accordingly.

 7670.  July 9, 1993        IBM Fortran problems                Bill C.
        Fixed a couple of minor FOrtran problems which gave trouble on
        the new IBM compilers:
        $APGOOP/CL2HF.FOR  Arguments to MOD function of different type.
        $APGOOP/TBDIF.FOR  Logical comparison of LOGICALs requires .EQV.
        or .NEQV.
        Moved to 15JUL93.

 7671.  July 9, 1993        GAL.FOR                      Gustaaf
        Fixed a couple of minor Fortran problems which gave trouble on
        the new IBM compilers.
        Moved to 15JUL93.

 7672.  July 13, 1993          MINSK, UVMAP               Eric
        Changed MINSK to force the buffer size used to be a power of 2
        less than or equal to the buffer size given in the call.  Wrote
        a new $APLSUB/POWER2 to compute this.  Changed UVMAP to use the
        standard UVBFSS buffer size again.  This will fix some of the
        mysterious bugs in MX.
        Moved to 15JUL93.

 7673.  July 13, 1993               TPMON                 Eric
        Found that several of the error messages for checks on the
        number of words read/written in the handshakes were wrong.
        Corrected the error messages.  Note that 15JUL93 TPMON does not
        work with 15OCT92.
        Moved to 15JUL93.

 7674.  July 13, 1993          COMAP                     Eric
        Changed COMAP.001 to set FACTOR=0 ahead of UVPLT calls and
        changed UVPLT.HLP to allow this value.  UVPLT sets all FACTORs
        under 0.1 to 1 anyway.
        Moved to 15JUL93.

 7675.  July 14, 1993         Various                    Pat
        Went through the entire TST hierarchy with an automated checker
        shell script, comparing rcs text of files with what was in the
        clear text area.  Found and fixed the following discrepancies:

             $AIPSUB/VERSTR.FOR         6 char string, not 8
             $APGOOP/TBDIF.FOR          use .NEQV. in place of .NE.
             $APGOOP/CL2HF.FOR          use d.p. variable, not single
             $APLNOT/DVDMIN.FOR         Remove obsolete hack for suns
             $APLSUB/CATIO.FOR          No lowercase c-omment (col.1)
             $APLSUB/GETRLS.FOR         Date (15JAN94)
             $APLSUB/LMDER.FOR          Remove obsolete hack for suns
             $APLSUB/LMSTR.FOR          Remove obsolete hack for suns
             $INSUNIX/INSTEP1           version date
             $SYSUNIX/AREAS.CSH,SH      Binary areas AIPSBIN/AIPSFITS
             $SYSUNIX/AIPSPATH.CSH,SH   OLD/NEW/TST definitions
             $SYSUNIX/FDEFAULT.SH       SUN4: OPT8,9="-O4 -fast"
             $YPGNOT/GAL.FOR            couple minor changes
             $SYSSUN/CCOPTS.SH          PURGE=FALSE
             $SYSSUN/COMRPL,COMLNK      check if -d $transact..

        Some of these will be moved to NEW shortly pending an
        investigation of the automated checker output there.

 7676.  July 14, 1993         $YPGNOT/GAL                  Gustaaf
        See 7671. Due to disk crash an older version was put in TST.
        Put the same version in TST as is in NEW.
        Moved nowhere.

 7677.  July 14, 1993         $APGNOT/FILLM                Gustaaf
        FILLM was treating the case with a blank field for VLAOBS
        incorrectly. Fixed this.
        Moved to 15JUL93.

 7678.  July 15, 1993         $APGNOT/JMFIT,BLFIT          Pat
        Removed an ancient hack -- declaring an external function a
        second time as an integer -- that apparently was needed in an
        unknown version of Sun Fortran (only comment I found: "this is
        for STUPID SUNS").  No longer needed and broke IBM xlf compiler.
        Moved to 15JUL93.

 7679.  July 15, 1993         $YPGM/ISPEC                  Gustaaf
        Added the option DOCRT=0 which means NO text output at all (i.e.
        just the plot). This is an easy way out; it might be better in
        the future to allow OUTPRINT = 'NONE' for such a case in order
        to maintain the integrity of the DOCRT definition. Also changed
        the output format somewhat to prevent overflows.
        Moved to 15JUL93 (today!).

 7680.  July 16, 1993         $HLPFIL/ISPEC.HLP            Gustaaf
        Added small improvement to ISPEC.HLP.
        Moved to 15JUL93.

 7681.  July 16, 1993            IBLED                    Eric
        Changed it to spread the main plot out some when the frame size
        is small (i.e. small amounts of data or a small selected
        frame).  This will make it easier to see things.  Made first
        frame, next frame, last frame support the selected small frame
        size as well.  Changed IBLED to accept negative values of
        DPARM(5) as initial guesses for the interval which it will then
        set.  Before, if the actual interval was > 50 seconds the
        program blew up.  Also added test to avoid the blow up when the
        interval is not determined.  Changed the help file for this one.
        Moved to 15JUL93 which is a bit ballsy.

 7682.  July 16, 1993            $RUNSYS/VLBA.001       Phil
        Speeded up the plotting of the visibility considerably by
        forcing a SPLIT/AVSPC on the data before plotting, so the
        spectral averaging is not done in VBPLT. Added several new
        features, the user can now decide whether they want the plots on
        the printer or the Tek window, they can decide whether they want
        to zap the intermediate files, they must also now specify the
        source to be dealt with.
        Moved nowhere.

 7683.  July 19, 1993     Shift and rotation bugs.      Bill C.
        Undo some of the damage I did in attempting to fix the problem
        with rotation in the gridded uv data modeling and fix other
        problems.  There were previously numerous bugs affecting the
        computation of the Fourier transform of set of CLEAN components
        with shifts AND rotation on the sky.  These only affected the
        gridded-FFT modeling method (CMETH='GRID').  The recent
        incarnation of this series of bugs affected both deconvolution
        (MX, WFCLN) and modeling (CALIB, FRING UVSUB etc.).
        -GRDCRM: Add all of XPOFF, YPOFF to the model positions; if
        these values are correct (not previously true) then the
        positions in the CC table plus XPOFF and YPOFF should correspond
        to grid cells.  Added a test to check that component positions
        are on grid cells and to complain loudly (but continue) if not.
        -ALGSUB,ALGSTB: corresponding changes to those in GRDCRM; i.e.
        shift is that given in DXCG, DYCG.
        -GRDAT: XPOFF, YPOFF were being rotated by MAPROT with the wrong
        sign.
        -MX: in MXIN MAPROT was not being converted into radians before
        being fed to the sine and cosine routines.  This affected the ra
        and dec shifts being put into the catalog header.  The DFT model
        calculation in CALIB/FRING was not sensitive to this error but
        the gridded-FFT routines were.
        $APLNOT/IMCREA,IMHCOR: same problem with argument to sin/cos as
        MX.
        $QYPGNOT/UVMAP: same problem with argument to sin/cos as MX.
        Moved to 15JUL93 this date.

 7684.  July 19, 1993           MX restore problem        Bill C.
        Equivalences of local arrays with task buffers in MXCCRM caused
        the restore step to fail when more than 2048 components were
        restored.  This routine now checks that these arrays are not
        over flowed.
        Moved to 15JUL93 this date.

 7685.  July 19, 1993           ALGSUB                     Bill C.
        In the test to see if a row was finished, a floating point ".LT."
        was used rather than a ".LE." causing erratic behavior in those
        rare cases where there was an EXACT floating point match.
        Symptoms observed are the introduction of a series of ripples
        into the residual image.
        Moved to 15JUL93 this date.

 7686.	July 19, 1993        $QOOP/QCLEAN.FOR             Bill C.
	Now uses BEAM size in determining how big to make imaging
        scratch files.  WFCLN was having problems with beams larger than
        could be made in memory.
        Also fixed CLCCRM so that it wouldn't overflow internal arrays
        for ra, dec etc of components.
        Moved to 15JUL93 this date.

 7687.  July 19, 1993        $APLIBM/ZMOUN2, ZTPOP2        Pat
        Added code that supports Exabyte 8500 drives via the same
        DENSITY setting as on suns (22500 => high density 5gb mode,
        anything else => 2gb low density mode).  This includes a "hack"
        that permits the 22500 density to be used on 8200 drives, as
        some 3rd party 8500 drives (TTI, for example) will identify
        themselves as 8200's.  Also inserted code that will report the
        pid of the owner of the lock on the lockfile, i.e. the process
        number of any process that has the drive already mounted.  This
        change should probably be moved to the other versions of ZMOUN2
        someday.
        Moved to 15JUL93 right now.

 7688.  July 19, 1993        $APLDEC/ZABOR2.C              Pat
        The DEC Fortran compiler doesn't need a signal declaration for
        SIGFPE exceptions.  Commented out.
        Moved to 15JUL93 right now.


 7689.  July 19, 1993                MK3TX                  Chris
        Added code to deal with a new oddity in HP text files: negative
        record lengths.  Examination showed that large negative record
        lengths were actually the true record length (in 16-bit words)
        minus 32 769 while small negative record lengths denote the end
        of file.
        Moved to 15JUL93 on this date.

 7690.  July 19, 1993        $QYPGNOT/VTESS.FOR            Gustaaf
        VTESS would exit with an arithmeitc exception when NOISE was
        specified as 0. VTESS now checks NOISE and traps illegal values.
        Moved nowhere.

 7691.	July 20, 1993        $QOOP/QCLEAN.FOR             Bill C.
        Routines CLSCSUM and CLNCYC now call routine OUSETF
        (in $QOOP/QUVUTIL.FOR) to copy total and field summed flux
        densities into the imaging (DGDS.INC) common so that using
        zero spacing fluxes will work.
           CLNINI no longer uses the default box if NBOX=0 but box 1 is
        actually specified.
        Moved nowhere

 7692.  July 20, 1993           $QOOP/QUVUTIL              Bill C.
        Added utility routine  OUSETF to set the values of TFLUXG and
        FLUXG (the total and field summed flux densities) into the
        imaging common (DGDS.INC).
        Moved nowhere

 7693.  July 21, 1993         $APLBERK/ZLOCK.C             Pat
        Forced it to use the "posix" [sic] file locking via routine
        fcntl() instead of the old flock() call; latter can't tell if a
        NFS daemon has the file locked for a process on a different
        host.
        Moved to 15JUL93 this date.

 7694.  July 21, 1993        shift bug                     Eric
        Old versions of UVMAP and MX put the shift parameters
        incorrectly into the header but did shift the reference pixel
        correctly.  Unfortunately, modeling routines use the shift
        parameters.  Wrote a new routine to compare the 2 header entries
        and to correct the header shift parameters for the old bug if
        that gives agreement between the 2 header representations.  It
        is $APLSUB/FXSHFT.FOR.  Changed GRDAT to call it.
        Moved to 15JUL93 this date.

 7695.  July 22, 1993        priorities                   Eric
        Changed $APLUNIX/ZPRI2.C to use a batch "nice" level of 12
        rather than 1.  Also changed it to attempt to raise priorities
        on 'UPPP' although it may never have the privilege to do so.
        Also UPPP was used only in FPS AP120B code - and DOWN was used
        more than once only there.  The new code will drop the priority
        by 12 only once even if there are several calls for DOWN, which
        makes the new large increment ok.  Remove $APLBERK/ZPRI2.C as
        redundant.  It is too bad POSIX did not address this issue.
        Moved nowhere.

 7696.  July 22, 1993           BPGET                 Phil
        Ran into a different problem with BPGET, it failed with
        DOBAND=2 on kiowa (the big IBM) because the LUN defined for
        the scratch file operations lay within the range 31 -> 30+NTAPED
        for kiowa only. Changed to use LUN's 48 and 49. Oh for a routine
        to figure out available LUN's like OOP does.
        Moved nowhere.

 7697.  July 26, 1993           FITTP                Eric
        FITTP could write 2 EOFs on a tape if it did not find the
        requested files to write since TAPIO opened for write will write
        an EOF on a CLOS call unless there have been FLSH calls.
        Changed to do a ZTPCLS and avoid TAPIO in the no-image case.
        Moved nowhere.

 7698.  July 29, 1993          BLING                   Chris
        Replaced the simple-minded Levenberg-Marquardt minimization
        procedure with Algorithm 717 from ACM Transactions on
        Mathematical software.  This is much more robust than the
        original procedure which had been found to suffer from
        numerical stability problems for some data.  The new procedure
        also calculates the model function values and the objective
        function in one subroutine call rather than using a separate
        call for each observation making it more amenable to optimization
        on vector and pipelined machines.
        Also added a message that prints the version number of the BS
        table being created.
        Moved nowhere.

 7699.  July 29, 1993     DLAMCH in APLNOT               Chris
        Added the LAPACK auxillary routine DLAMCH and its supporting
        routines (DLAMC1, DLAMC2, DLAMC3, DLAMC4 and DLAMC5) to
        APLNOT.  DLAMCH calculates various parameters that characterize
        the host machine's implementation of double-precision floating-
        point arithmetic.  Some of these parameters are used in
        setting convergence criteria for the new fitting algorithm
        in BLING.  DLAMCH will fail if optimized and has been added
        to OPTIMIZE.LIS in SYSUNIX with optimization level zero.
        Moved nowhere.

 7700.  July 29, 1993          History things           Eric
        Added to the verbs handling history files.  Changed PRTHI giving
        it a new adverb HIEND as the last line of print and respelling
        adverb PRSTART as HISTART for the starting line of print.
        Changed HINOTE, moving it to subroutine AU7B and changing its
        verb number and giving it the DOHIST option to control whether
        or not HINOTE is prepended to lines from text files.  Created
        verb HITEXT to write selected history lines to a plain text file
        and verb STALIN to delete (with DOCONFIRM option) a range of
        lines from the history file.  Changed
        DAPL.INC   Add the HIEND adverb
        AU7        Removed HINOTE code, added HISTART and HIEND to
                   PRTHI.
        AU7B       Created to do HINOTE, HITEXT, STALIN.
        VERBS      Added call to AU7B.
        VERBSB     Added call to AU7B.
        VERBSC     Added commented out call to AU7B.
        KTRIM      Version of JTRIM that kill all after a non-printable
                   character.
        POPSDAT    help file: changed and added verbsm HIEND.
        HISTART    New help file replaces PRSTART.
        HIEND      New adverb help file.
        PRTHI      Changed help for new and altered adverbs.
        HINOTE     Changed help for DOHIST adverb.
        HITEXT     New help file.
        STALIN     New help file.
        Moved nowhere.

 7701.  July 30, 1993       OOPS object memory managment      Bill C.
        Revised the Object memory managment to use c routines for object
        specific storage to allow increased number and size of objects.
        This involves some shuffling of the commons.

        $APLGEN/ZOINTD.C - package of Fortran callable c language for
        memory managment of AIPS object memory.  The data structures
        consist of an object directory and zero or more objects each of
        which contains a name, class, CATBLK and a linked list of
        arbitrary information.  This new scheme allows up to 1000
        objects rather than the older limit of 20.
           The following table summarizes.
        Function:               Routine name
        init_dir                   ZOINTD
        create_object              ZOCROB
        destroy_object             ZODEOB
        find_object                ZOFNOB
        copy_object                ZOCPOB
        find_llelem                ZOFNLE
        info_llelem                ZOINLE
        store_data                 ZOSTDT
        fetch_data                 ZOFEDT
        store_catblk               ZOSTCT
        fetch_catblk               ZOFECT
        fetch_name                 ZOFENM
        In the above llelem refers to a linked list element.

        $INC:OBJPARM.INC - Removed parameter MAXOBJ; increased number of
        possible classes to 10.

        $INC:CLASSIO.INC - All arrays dimensioned by MAXOBJ now
        dimensioned by MAXIO.  Moved LUNUSE from OBJMNGR private common
        to CLASSIO.INC.
        Added Hollerith array HBUFF to use for converting character
        strings to pass to the c routines.
        Added character array BUFOBJ to give the object names associated
        with each buffer.
        Moved nowhere:

        $APLOOP:UVDATA.FOR - Changed indexing of arrays OBJLUN and
        OBJFIN to be by I/O stream rather than by object number.

        $APLOOP/CXIMAGE.FOR - Removed usage of MAXOBJ; the routines now
        have to lookup the names of the component parts.

        $APLOOP/OBJMNGR.FOR - Extensive changes to use new c language
        routines which can dynamically allocate object memory.
        Moved nowhere


 7702.  July 30, 1993       $APLOOP/OBJMNGR.FOR      Bill C.
        Fixed bug in OBCLOS which clobbered memory if the file was
        already closed.
        Moved nowhere.

 7703.  August 2, 1993             $QOOP/QCLEAN.FOR     Bill C.
        CLBHIS now calls ARRCWI to clear any windows set on the beam.
        Moved nowhere.

 7704.  August 4, 1993        POPS adverb fetch/set      Eric
        Dropped the awful equivalence file DAPL.INC and created two
        subroutines instead.  ADVERB fetches the value of an adverb of
        any sort, converting to integer if requested for numeric
        adverbs and to character for all string variables.  ADVRBS is
        the reverse of ADVERB (with the same calling sequence) to set
        adverb values.  Now the order of adverbs in the K array will be
        irrelevant, as it already is for task adverbs.  Changed:
        ADVERB   (New) get adverb values from K array
        ADVRBS   (New) set adverb values in K array
        PRTALN   Fix bug causing blank pages on 2nd and later print jobs
                 from AIPS.
        POPSDAT  New adverb GREMAIL - deliberately stuck in the middle!
        GRIPE.HLP  Add GREMAIL adverb.
        GREMAIL  New help file.
        VERBS    Added code to protect and restore the POPS environment
                 that ADVERB and ADVRBS might disturb.
        Removed DAPL.INC add added calls to ADVERB and ADVRBS as needed
        to HELPS, TBDATA, TBHEAD, VERSTR, AU1, AU1A, AU2, AU2A, AU3,
        AU3A, AU3B, AU4, AU5, AU5A, AU5B, AU5C, AU5D, AU5E, AU6, AU6A,
        AU6C, AU6D, AU7, AU7A, AU7B, AU8, AU8A, AU9, AU9A, AU9B, AU9C,
        AUA, AUB, AUC, AUT and AIPSC.
        Moved nowhere.

 7705.  August 5, 1993           AIPSC                Eric
        Corrected the call to PRTMSG so that it would actually give a
        task name to the subroutine: it was sending ' ' to a routine
        that declared the variable CHARACTER*6.  As a consequence it got
        garbage.  Either one send the expected, or one declares
        CHARACTER*(*).  Anyway, what was now needed was 'AIPSC ' anyway.
        Had this worked as intended, a batch submission would have
        cleared the whole message file.  Now it clears AIPSC messages or
        prints them on error.
        Fixed VERBSC and VERBSB to be like VERBS.
        Moved nowhere.

 7706.  August 5, 1993        Message levels            Eric
        Corrected message levels in CALIB, ZLPCL2 (Unix, IBM, CRI
        versions), MCREAT, and UVCREA.  Changed them too in UVMSUB and
        UVMDIV to be level 3 but to honor MSGSUP = 32000 suppression.
        Message levels mean:
              0  message file only(users input)
              1  terminal only (interactive instructions)
              2  mildly informative (i.e. progress, ..)
              3
              4
              5  the main answers
              6  mild warning - suppressed by MSGSUP
              7  serious warning - suppressed by MSGSUP
              8  fatal error
              9  major screw up
             10  Call 911 and the fire department now.
        These should be honored.  We print messages based on this in DDT
        and tell manufacturers and users that > 5 => error.
        Moved nowhere.

 7707.  August 5, 1993         GREP                Eric
        New procedure to search for a string in AIPS files.  The grammar
        is GREP <string> [<directory>] [<file>] where the directory is
        optional with default $AIPS_VERSION if defined or `pwd` if not.
        The file name is optional and the actual name searched is
        <name>*.  The search is case sensitive.  File is in $SYSUNIX.
        Moved nowhere.

 7708.  August 6, 1993        FITLD                     Phil
        Some fairly major changes to enable the seamless joining
        of FITS files to an AIPS output file. Also tidied up the logic
        for the choice of an output file - no doubt this area will need
        more work. FITLD now applies a global scaling to VLBA data,
        using a parameter that is passed from the correlator. Task now
        deals with premature end of files correctly. Added a
        donconcatanate command to the helpfile so the user has control
        over concatanation.
        Moved nowhere.

 7709.  August 7, 1993      PRTLIN, PRTALN, COMPIL            Eric
        Changed the 2 line printer routines to show the host name and
        AIPS release on top of each page.  With the  shared printers it
        is getting harder to figure out what comes from where.
        Changed COMPIL: it was not compiling IF (I+J) < X THEN
        correctly.  Since IF is a pseudoverb it had too few symbols to
        regard the + as an addition.  The demand that we be able to omit
        = signs strikes again!
        Moved nowhere.

 7710.  August 9, 1993       MK3IN                             Bill C.
        Added a warning message in MK3ANT to tell if the reference day
        has been changes and to advise the user to do it again with the
        correct reference day.  Also strengthened the warnings aginst an
        incorrect reference day in MK3IN.HLP.   MK3IN can put different
        reference days in the catalog header (used for the data and
        tables) and in the antenna table (used to compute observing
        geometry). This can cause signifigant errors in the computation
        of the apparent observing geometry for purposes of parallactic
        angles, elevations etc.
        Moved nowhere.

 7711.  August 9, 1993        Misc bugs                    Eric
        Changed:
        UVPGET    To test for, fix, and report FREQ = 0.
        AU7A      To actually pick up adverb values and use them in
                  PUTHEAD.
        PRTLIN    To use a correct format for output disk files.  It was
                  just hanging.
        PRTALN    To use a correct format for output disk files.  It was
                  just hanging.
        Moved nowhere.

 7712.  August 9, 1993       $APGNOT/FILLM.FOR             Gustaaf
        FILLM until now used the time at the beginning of a scan to see
        whether a change in source had taken place. This fails for data
        from the survey, in which the pointing is changed, but the
        beginning-of-scan time stays the same. FILLM now uses the fact
        that the SUBMODE changes when the pointing changes. So a new scan
        is assumed not only when the beginning-of-scan time changes, but
        also when the submode changes.
        Moved nowhere.

 7713.  August 9, 1993           BLING                      Chris
        Added code to calculate and display a measure of the degree
        of coherence.  The measure used is the ratio of the amplitude
        of the peak in delay-rate space to the weighted sum of the
        gridded amplitudes.  This should be 100% if there is no noise
        and the rates and delays are constant but will be lower if
        the rates and delays change.  Low coherence measures may
        indicate that the scan length is too long.  The coherence
        measure is also a good diagnostic of errors in the calculation
        of orbits for space-based antennae.
        Moved nowhere.

 7714.  August 10, 1993        $APLPGM/PRTAB               Phil
        PRTAB dies in the scaling subroutine while reading AN tables if
        one of the AN rows has a blanked antenna position. Fixed so that
        if any real or d.p variable is blanked it is not used in the
        scaling check. The printing of these values was already correct.
        Moved nowhere.

 7715.  August 10, 1993        $APGOOP/DTSUM             Phil
        Now will not list # pts on baselines that don't exist, i.e.
        there is an entry in the AN table but no baselines containing
        that antenna in the data. Also will now list XC and AC
        integration times separately, these can be very different.
        Moved nowhere.

 7716.  August 10, 1993           UVDIF                 Eric
        Changed it to buffer the uv data lines in order to detect when
        the 2 data sets are identical but the order of 2 vis's has been
        swapped.  This is quite common in the DDT, for example.  It now
        swaps such samples, performs correct tests on flux and uv
        differences, and prints only those samples which have excess
        differences.  The total number of swaps is reported, but those
        lines are not printed.  This also helps make the peak difference
        and rms displays more meaningfull.  They were badly affected by
        swaps.
        Moved nowhere.

 7717.  August 11, 1993           BLING                  Chris
        Improved the initial estimates of the width of the peak used in
        the least-squares fit to the peak.  Also added an absolute
        convergence criterion to stop the fitting process wasting
        cycles grubbing about in the noise (also prevents many cases
        of singular and false convergence.
        Moved nowhere.

 7718.  August 12, 1993          AVGIF                 Phil
        Took the search for flagged channels out of the averaging loop,
        this provides a substantial speed increase for this routine.
        Meant changing the call sequence slightly.
        Moved nowhere.

 7719.  August 12, 1993        $APLPGM/AVSPC.FOR           Phil
        Changed call seq to AVGIF.
        Moved nowhere.

 7720.  August 12, 1993        $APGNOT/SPLIT.FOR               Phil
        Added the option to average data across IF's as well as the as
        the, already existing, option to average spectral channels
        within an IF. HI table reflects the type of averaging, the FQ
        table is also updated. Changed the .HLP file.
        Moved nowhere.

 7721.  August 12, 1993           Abort handling              Eric
        Changed all versions of ZABORS.C.  They were simply returning on
        recursive calls which could lead I would think to an infinite
        loop of abort signals and returns.  Changed to enable default
        handling of SIGILL and then to signal a SIGILL.  This did not
        fix our problem on the IBMs in which stale load modules (running
        ones replaced by the midnight job) generate a heavy nfs traffic.
        To get rid of this, one had to change ZABOR2.C to use default
        handling of SIGBUS.  With the change to ZABORS, the verb
        ABORTTASK stopped working until the same SIGBUS change was made
        to ZABOR2.  This is very odd since SIGBUS is not involved with
        the aborttask process and messages put in ZABORS never appeared.
        Changed ZABOR2.C in $SYSUNIX to split out the routine formerly
        called signel as an AIPSish one called ZIGNAL.C.  Changed
        ZABOR2.C and $APLBEL/ZDELA2.C to call zignal_ rather than
        signel.  The splitting was needed since the latest HP compiler
        cannot handle the 2 routines in the same file.  Also it is
        cleaner by our usual standards.  Fixed $APLBEL/ZDELA2 to renable
        trapping of SIGALRM after suspending it for the timer use.  Some
        of the other ZDELA2's also have this bug, but not $APLSUN.
        Moved nowhere.

 7722.  August 12, 1993             VTESS                       Eric
        VTESS was adding n+1 reads to the status of the beam, but only
        clearing n at the end.  Changed the first CATIO call (the excess
        read) to set REST instead.
        Moved nowhere.

 7723.  August 12, 1993         DDT                            Eric
        Changed the old DDTLOAD.001 and DDTEXEC.001 to use the name DOT
        throughout and put them in $RUNSYS as DOTLOAD.001 and DOTEXEC.001.
        Changed the DDT procedures:
        (1) Cleaned up typing, dropping excess semicolons, string
            concatenations, etc.  Made them use more uniform symbology
            rather than typing string values everywhere.
        (2) Added concept of FITS disk.  The files will have names of
            the form DDTsttttt where s is S, M, L, H and ttttt is the
            task name or other file class name.  They go in an area
            which the user specifies with an environmental variable in
            DDTDISK.  And it's all triggered by non-blank DDTDISK.
        (3) Moved the code for huge over from the DDTHLOAAD.001 file.
        (4) Switched to floating point FITS files.
        (5) Widened the BOX in the large test - the whole source was not
            included in the old box.
        (6) Changed ASCAL into CALIB with appropriate adverbs and
            removal of the SN file generated.
        (7) Corrected PRTTP call - the old NFILES = 4 was still there,
            causing the first 4 files not to be listed.  These used to
            be text files.
        (8) Cleaned up help files, removing erroneous tape stuff and
            adding DDTDISK.
        (9) Made all ALLDEST calls check all disks.  Otherwise, if files
            are moved they fail to clean up properly.
        Moved all over for testing.

 7724.  August 12, 1993       $APGOOP/POLSN.FOR           Bill C.
        Flagged entries in the SN table were treated as errors rather
        than being ignored.
           Also modified to average phases by sine and cosine part
        rather than as phases.
        Moved nowhere.

 7725.  August 12, 1993          VERB                     Eric
        Changed POPSDAT.HLP to have a new pseudoverb called VERB.
        Changed POLISH to recognize its number (75) and call PSEUDO.
        Changed PSEUDO to compile a verb assuming the input format
             VERB  <name1> = v1 , <name2> = v2 , ...
        where <namei> is a verb name and vi is the number to be assigned
        to it.  Note that the Fortran of AIPS (and AIPSC, AIPSB) has to
        know about this number in order to call the correct routines.
        But, this will allow programmers to create new verbs and enter
        them in NEWPARMS as well as POPSDAT.  Then users can use the new
        verb without having to do a RESTORE 0.  Changed VERB.HLP to
        VERBS.HLP and created a new VERB.HLP to describe this
        pseudoverb.  Another use of this would be to allow synonyms -
        although one would have to make an inputsd/help file too for a
        true psynonym.
        Moved nowhere.

 7726.  August 13, 1993         GETFQ                   Phil
        IF FRQSEL was -1 but an FQ table was present - a common
        occurence for calibrated data then GETFQ would die even if there
        was only 1 FQ row. Cannot understand why this was never seen
        before.
        Moved nowhere.

 7727.  August 13, 1993          FITTP                Eric
        Writing VD tables discovered a bug: logical data fell straight
        into the error trap on short integers in EXTWRT.  Fixed.
        Moved nowhere.

 7728.  August 16, 1993       Last-minute fixes          Pat
        As usual, the installation testing on the various architectures
        revealed many minor but irritating bugs.  These are the last
        changes made to 15JUL93 prior to release.  Any additional
        changes will have to be implemented as patches.  Summary:
            $APLDEC/ZDCHI2.FOR  Changed SYSVER to 'ULTRIX 4'
            $APLDEC/ZTPOPD.FOR  key off SYSVER instead of SYSTYP
            $INSUNIX/INSTEP1    Many hacks, mostly for convex/ultrix
                                brain-dead bourne shells, uname/convex.
                                Probably lots more too.
            $SYSUNIX/TPDEVS.SH  Remove "unset"
            $SYSUNIX/XASERVERS  Ditto
            $SYSUNIX/MAKEAT     Extra sed filter to remove "ENV" in
                                reverse "logical" lookup
            $SYSUNIX/COMRPL     Ditto
            $SYSUNIX/START_AIPS watch out for sh5 shell on ultrix,
                                remove "echo -n".
            $APLNOT/STEPCH.FOR  Make '' empty string into ' '.
            $APLDEC/ZTXMA2.C    Need __POSIX and _XOPEN_SOURCE defined
            $APLDEC/ZTKILL.C    Ditto
            $APLDEC/ZTACT2.C    Ditto
            $SYSUNIX/SYSETUP    Remove "unset", also HP fix
            $SYSUNIX/FC         Ditto
            $QYPGNOT/MX.FOR     Typo in equivalence statement
            $APLSOL/ZDAOPN.C    APLUNIX version causes error in SunOS 5.2
            $SYSSOL/LIBR        Shared Library fixes
            $SYSSOL/LDOPTS.SH   Various
            $SYSSOL/CCOPTS.SH   OPT0 set to blank, not "-O".
            $QYPGNOT/VTESS.FOR  Wrong INPARM count (was 198, correct=195)
            $SYSSOL/ZLPCL2      Use "postprint" as a filter, also asa.
            $APLHP/SIGNEL.C     Split from ZABOR2.C
            $APLSOL/ZTPWAD.FOR  EOF code differs.  Same as Sun4 I think.
        There are other modules changed that are not worth mentioning in
        detail: $SYSSUN/COMRPL, $SYSUNIX/OPTIMIZE.LIS, $SYSUNIX/AIPS.L,
        $SYSSOL/COMRPL, $SYSUNIX/FDEFAULT.SH, $APLUNIX/ZMSSRV.C,
        $SYSSOL/CDVER.*, $SYSSOL/LIBR.DAT, $SYSSUN/LDOPTS.SH.
        Moved to 15JUL93 and to the master 15JUL93 tar tapes today.

 7729.  August 17, 1993           FRING                  Chris
        The arrays WTT and TIME were declared too small in FRNFIT
        causing variables in COMMON to be trashed if the number of
        channels and IFs was small.  Increased their dimension to
        XASIZE and removed the equivalences between WTT and TIME and
        BUFF2.  No code used the fact that WTT and TIME were
        equivalenced and the equivalencing may just have been an attempt
        to save storage.  FRING now has an enormous BSS segment: roll on,
        Fortran 90!
        Moved nowhere.

 7730.  August 17, 1993      $APGNOT/SWPOL.FOR         Bill C.
        Fixed incorrect test for blanked SN and CL table entries.
        Moved nowhere.

 7731.  August 17, 1993           $RUNSYS/CROSSPOL.001    Bill C.
        Now initializes values of STOKES, BIF, EIF, BCHAN and ECHAN
        before running UVCOP.  The last user set values of these
        parameters were being used which could cause problems.
        Moved nowhere.

 7732.  August 18, 1993         $APGOOP/DTSUM        Phil
        Made sure that all valid antenna names are printed, not just
        the first 3.
        Moved nowhere.

 7733.  August 18, 1993      $APGNOT/SHOUV.FOR          Bill C.
        Modified to use the PUVD.INC parameter MAXCIF as the maximum
        # channels * # IF.  The old value was 128 which is rather silly
        for the VLBA.
        Moved nowhere.

 7734.  August 19, 1993       $QPGOOP/WFCLN.FOR        Bill C.
        Fixed a bug with averaging several channels.  The data selection
        was set for a single channel and attempts to image several
        channels (not IFs) would fail.
        Also now defaults output name to input name rather than dying.
        Moved nowhere.

 7735.  August 19, 1993       $APGNOT/FILLM.FOR        Gustaaf
        Fixed a small bug in FILLM which led to a wrong and confusing
        message about the shadowing limit, if any shadowed antennae
        were found.
        Moved nowhere.

 7736.  August 19, 1993       $APGNOT/CLCOR.FOR		Leonid
	Fixed a bug at opcode PHAS; fixed a bug at opcode SBDL. Installed
	a new opcode MBDL which added phase difference between the given
	IF frequency and reference one corresponded to the given multiple
	band delay. The value of this delay is added to the corresponded
	value at the modified CL table. The Help update as well.
	Moved nowhere.

 7737.	August 20, 1993       $APLPGM/PRTCC.FOR         Gustaaf
        Fixed default behavior for BCOUNT and ECOUNT. It was impossible
        to select ONE component when specifying BCOUNT = ECOUNT.
        Moved nowhere.

 7738.  August 20, 1993          Z's and Solaris        Eric
        Changed $APLSOL/ZFRE2.C to use the base disk block size when it
        is not 0 rather than the recommended one since the units of the
        disk blocks are base blocks.  This made NFS systems look 8 times
        too large.  Corrected $APLUNIX ZVTPX2.C and ZVTPX3.C.  They
        increased the send and recieve buffers with the wrong variable
        which Solaris is suddenly setting to 0.  It did not do this
        earlier.  This will have slowed all systems with remote tapes
        however.
        Moved to ftp patch area for 15JUL93.

 7739.  August 23, 1993         $SYSAIPS/AREAS.DAT      Pat
        Added two new areas: APLALPHA (boy is _that_ going to challenge
        all us dyslexic typists!) and SYSALPHA for the new DEC/Alpha
        architecture.  The former is under the $APLDEC architecture as
        indications are that most of the DEC/Ultrix routines will work
        unchanged.  Also removed $UPDATE as it is no longer used.
        Moved nowhere.

 7740.  August 23, 1993            BLING                 Chris
        Added an option that will dump the amplitudes of the transformed
        search grid into a file readable by AVS.  Each scan generates
        a file of ASCII data and a field descriptor file.  The data is
        dumped in column major order and the field descriptor gives the
        lengths of the axes.  This option has been added because I need
        to inspect the FT'd grid to diagnose some oddities in the TDRSE
        data.
        Moved nowhere.

 7741.  August 23, 1993        $QOOP/QCLEAN.FOR              Bill C.
        Fixed call argument to OUVIMG in CLNUV; it was passing WORK1 as
        both of the scratch files.  This was causing imaging failure for
        large images where these scratch files are actually used.
        CLRHIS was setting the BLC, TRC after opening the input array
        which caused the previous window to be used.
        CLNINI now checks for a box with all zeroes but a nonzero nboxes
        and fills in the default box.
        Moved nowhere.

 7742.  August 23, 1993        $QNOT/MAKMAP.FOR        Bill C.
        MAKMAP was using UVGET buffer UBUFF as an I/O buffer which
        wasn't large enough for it to do a 4096x4096 image.  It now uses
        polarization calibration array POLCAL instead.
        Moved nowhere.

 7743.  August 23, 1993        $QPGOOP/SCMAP.FOR          Bill C.
        For compressed input data in the self calibration routine the
        Stokes' parameter is set to ' ' when uncompressing the data
        before the model division.
        Now defaults output name to input name rather than dying.
        Default maximum Imaging uv range now set to 1.0E15 rather than
        0; this was causing some problems in the routine deciding the uv
        range to give full weight in the self calibration solution.
        Moved nowhere.

 7744.  August 24, 1993        $QOOP/QCLEAN.FOR              Bill C.
        Modified CLRGRD and CLREST to do a disk based computation of the
        FT of the restoring Gaussian times the CLEAN components.  This
        may use work object WORK2 for a temporary accumulation. This
        change should allow restoration of any size image.
        Moved nowhere.

 7745.  August 24, 1993      VLBA Antenna Characteristics tables    Phil
        Added the number of digitizer levels for an observation to the
        antenna characteristcs table - seemed the logical place to put
        it.
        Moved nowhere.

 7746.  August 24, 1993       $APGNOT/FITLD.FOR              Phil
        Deals properly with the new Ant Char table. Also now switches
        the location of the Rl/LR pixels when the baseline direction has
        to be switched. Moved the loading up of the output uv buffer
        into a separate subroutine in order to maintain much better
        control over it.
        Moved nowhere.

 7747.  August 24, 1993         $APLOOP/ARRAY.FOR    Bill C.
        In ARRIO a check in now made to insure that array VALIDX is not
        overflowed.  This case arrises in the FT of 4096 images where
        the row length is 8192.  The fix caused the max and min to be
        only for the first half of the image but under the circumstances
        these are meaningless numbers.
        Moved nowhere.

 7748.  August 24, 1993         $APGNOT/DBCON.FOR            Gustaaf
        DBCON, when used on multisource data with FG tables, would apply
        NO correction for the difference in days to the timerange in the
        second FG table when copying it to the output table. The result
        of this was that the whole flagging of the combined data set was
        screwed up. This problem must have been around for a long time
        and it is hard to see why it has not been discovered before.
        Maybe most users use SPLIT first, or use DBCON before any
        flagging.  The bug itself was trivial: DBCON was looking for a
        column called 'TIMERANG' to apply the shift to, but did not find
        any in the FG table.  The FG table has a column called 'TIME
        RANGE', so I changed DBCON accordingly.
        Moved nowhere, but will move it to the ftp area.

 7749.  August 24, 1993          Unused variables            Eric
        Unused variables cause some compilers to abort (!!) when there
        are too many of them.  Therefore, they will NO LONGER BE
        TOLERATED!  Corrected:
        $AIPSUB/ KWIKHD, OFMLST, OFMMOD, SGLAST
        $APLSUB/ AVGCHN, AVFCIF, CATIO,  IDWSRC, LSTHDR, MAPCOP, MSKIP,
                 PLNGET, TABIO
        $APLGEN/ ZCREAT, ZMSGCL, ZR64RL, ZRLR64, ZTAPE,  ZV20CL, ZV20XF
        $YSS/    YIMGIO
        $YSUB/   GPOS
        $APLNOT/ ACINI,  ACIO,   ACTAB
        There are many more to go.
        Moved nowhere.

 7750.  August 25, 1993        $SYSUNIX/OPTIMIZE.LIS          Pat
        Somehow the settings here for APLNOT, APLOOP and APGOOP were set
        to always produce debug code.  On most systems this inhibited
        any optimization from being done.  Removed the debug setting.
        Also commented out the debug/OPT0 setting for APCLN.
        Moved nowhere yet (probably to HP test site at JPL soon).

 7751.  August 25, 1993           INPUTS                     Eric
        Changed PSEUDO to limit string declarations to 132 characters
        and changed AU1A to display the inputs for long strings.  It was
        just putting the string value in and beyond the end of MSGTXT.
        This caused AIPS to abort or quit at some later time.
        The POPS routines set the offset for TYPE 9 (SUBSTR strings) as
        100 * offset.  This is too small for 132-character strings.
        Changed DSMS.INC to make X large enough for 132 chars.  Changed
        ASSGN, CONCAT, EQUIV, and KWICK to store this as 1024 * offset.
        Requires recompiling a lot.  Changed POPSGN to limit to 132
        characters also.
        Fixed KWICK so that PRINT and TYPOE verbs do the right sort of
        things with long strings - rather than blowing aips out of the water.
        Moved nowhere.

 7752.  August 25, 1993           UVTINI                    Eric
        Added a blank keyword to the DATA statement for keywords since
        Phil put back the DUVV.INC with a larger number of allowed
        keywords.  It would not compile otherwise.  This is why I do not
        care for these includes that define purely local variables.
        Moved nowhere.

 7753.  August 27, 1993           POSSM                     Phil
        When SOLINT > 0, POSSM would stop if the last frame on the plot
        page was empty, fixed so it carries on now until the end of the
        timerange is hit.
        Moved nowhere.

 7754.  August 27, 1993         $APLOOP/HISTORY.FOR   Bill C.
        OHLIST was not writing logical adverbs to the history file.
        Moved nowhere.

 7755.  August 27, 1993         IMLOD               Eric
        Fixed a bug in the routine that reads the oldest type of
        extension table we once used.  There may be more - I do not
        remember the format.  Anyway, the pointer was not initialized
        and so could fail when IMLOD read a second file.
        Phil has been asked to make the same change in FITLD, which he
        has out.
        Moved nowhere.

 7756.  August 29, 1993         VLBA interface            Phil
        Tidied up all the includes that define the VLBA tables.
        These now include all the DATA statements so I get rid of the
        problems of declared variables not being used. This causes
        errors on some compilers - moronic if you ask me, but that's
        life.
        Moved nowhere.

 7757.  August 29, 1993        VLBA interface routines    Phil
        Changed the call sequences of all routines that deal with the
        VLBA tables. The variables are now all passed through commons.
        Moved nowhere.

 7758.  August 29, 1993    AIPSPLIT.TAR in APLCONTR      Chris
        AIPSPLIT.TAR is a tar archive containing two perl scripts
        and their man pages.  aipsplit tears an AIPS program apart
        so that each program unit (local include, main program,
        subroutine, function or block data subprogram) is in a
        separate file and creates a makefile and (provided that
        the program area is specified) .OPT file for the dismantled
        program.  aipsjoin will reverse the process or build a single
        AIPS program from any collection of .FOR and .INC file.
        [APLCONTR isn't really an appropriate area for this but we
        don't have anywhere else for odds and ends that might be useful
        but don't really want to maintain.]
        Moved nowhere.

 7759.  August 30, 1993             UVFIT.HLP          Phil
        Minor change, helpfile claimed 5000 vis was the limit for
        fitting, actually it is 25000.
        Moved nowhere.

 7760.  August 30, 1993		    VBPLT.FOR          Leonid
	The program did not work when both DOCALIB and DOAVG existed
	and number of polarization NUMPOL is >1. The reason was that
	NUMPOL was destorted at subroutines SCALVB and PLTVB in DOAVG
	option because the identificator NUMPOL was used as temporal one
	for subroutine AVGCIF. So NUMPOL has been changed for random
	identificator NUMTEM  at the two places.

 7761.  August 30, 1993             CGASET.FOR         Leonid
	Specification statement - SAVE DOXDR was after DATA statement.

 7762.  August 31, 1993           AP2SIZ.FOR           Bill C.
        This routine returns a power of 2 AP size for use in the FFT
        routines.  It was only checking up to 2**12 so the FFT routines
        would do a disk based 4K FFT no matter how much memory was
        available.  The test now goes up to 2**20.
        Moved nowhere.

 7763.  August 31, 1993             FILLM.FOR          Gustaaf
        Allowing survey pointings to be treated as separate scans
        caused the same thing to happen for holography data. This is
        fixed now. Also, the user can now choose to have the TY table
        filled with Tsys values. This used to be the case only for solar
        observations.
        Moved nowhere.

 7764.  September 2, 1993        AP memory             Eric
        Changed:
        $QPSAP/QINIT     to use min (actual 2nd AP, setpar value)
        $QVEX/QINIT      to use min (actual 2nd AP, setpar value)
        $Q3090/QINIT     to use min (actual 2nd AP, setpar value)
        $INC/DAPC.INC    to use 1.25 Mword AP, to get parameters from
                         another include, to drop RWORK.
        $INC/DAPS.INC    New: AP size parameters
        $INCVEX/DAPS.INC New: AP size parameters Convex version
        $INCCRI/DAPS.INC New: AP size parameters Cray version
        $INCALN/DAPS.INC New: AP size parameters Alliant version
        $INCSUN/DAPC.INC removed
        $INCIBM/DAPC.INC removed
        $INC3090/DAPC.INC removed
        $INCDEC/DAPC.INC removed
        $QCRI/QXFOUR.FOR to remove erroneous reference to RWORK in
                         precursor comments.
        $Q3090/QCFFT.FOR to make RWORK local.
        $QNOT/MAKMAP     removed unused reference to KAPWRD.
        SETPAR           to use DAPS.INC to limit the 2nd AP memory and
                         to clarify the first AP memory meaning.
        SETSP            to use DAPS.INC to limit the 2nd AP memory and
                         to clarify the first AP memory meaning.
                         Wholely retyped to standards.
        FILAIP           to use DAPS.INC parameters in recreating SP
                         file.
        FILAI2           to use DAPS.INC parameters in creating SP
                         file - limiting users' answer to KAPWRD.
        Moved nowhere.

 7765.  September 2, 1993      AP memory usage            Eric
        Changed $QNOT routines ALGSUB, ALGSTB, UVUNIF and CCSGRD to use
        the full AP memory (usually huge) rather than just the basic
        64K-word area.  Also changed UVMAP similarly.  Now only the
        cleans in APCLN, SDCLN, and MX refer simply to KAPWRD.  The
        limited size in ALGSUB and ALGSTB caused the routines to use a
        very small support size for the gridded modeling in large cases
        (NY = 4096) leading to rather inaccurate results (the source was
        not fully subtracted despite having appropriate components).
        Moved the ALGSUB, ALGSTB changes to the patch area.

 7766.  September 2, 1993        MX                       Eric
        Corrected the setting of image type in the header: residual was
        called components.  Changed the handling of a restart to make
        sure that the image is correctly computed.  It was making all
        sorts of assumptions about the image otherwise and really
        messing up.
        Moved to the patch area.

 7767.  September 2, 1993      DDT                   Eric
        Changed $RUNSYS DDTLOAD.001 to react to the changes I made
        earlier to the TYPE verb.  Other procs may wish to do similar
        things.
        Moved nowhere.

 7768.  September 3, 1993       $QPGOOP/WFCLN.FOR        Bill C.
        Fixed several problems involved with selecting data by frequency
        or IF.  The initial open of the uv data no longer includes
        selection by frequency, IF or Stokes' so the underlying data
        structure will be visible.
        Moved nowhere.

 7769.  September 6 1993       Beam Gaussian fitting          Bill C.
        Dan Briggs has pointed out that the beam Gaussian fitting used
        in AIPS (and copied in SDE) sometimes gives incorrect
        (but semi-plausible) results.  I've corrected the algorithm and
        implemented it in new routine FITBM which is now called from the
        places which previously performed thie operation:
           $QYPGM/APCLN
           $QYPGNOT/MX, SDCLN
           $APLNOT/BMSHP  (used by $QYPGNOT/UTESS, VTESS)
           $QOOP/QCLEAN   (Used by $QPGOOP/SCMAP, WFCLN)
        Moved nowhere.

 7770.  September 6, 1993        $QOOP/QCLEAN.FOR              Bill C.
        Fixed CLNINI not to write to the uvdata object for an image
        clean.
        Moved nowhere.

 7771.  Sepember 6, 1993       $APLNOT/FITBM.FOR          Bill C.
        New routine.  This routine does the least squares portion of the
        beam Gaussian fitting after the matrices have been computed.
        This routine will replace the many separate versions of this,
        previously incorrect, logic.

 7772.  September 6, 1993       $APLNOT/SYMINV.FOR        Bill C.
        New routine to invert symmetric, real matrices.
        Moved nowhere.

 7773.  September 7, 1993       $APGNOT/FILLM.FOR         Gustaaf
        Added option in FILLM where the user can ask for ALL
        correlations in holography mode, not just the ones involving the
        reference antenna. Since FILLM's CPARMs amd DPARMs were already
        taken, I made CPARM(2) a bitmap, so that CPARM(2) serves three
        distinct functions. Though this is not a trivial thing for a
        user to handle, I prefer this over adding yet another set of
        parameters.  After all, all three functionalities will only be
        used by very experienced users.
        Moved nowhere.

 7774.  September 8, 1993      Location common       Eric
        Changed the location common (DLOC.INC) so that all variables
        are dimensioned by parameter NUMLOC.  Added LOCNUM as a pointer
        to the currently active subscript in these arrays.  Changed
        $AIPSUB:
        AU5      Set LOCNUM=1, use subscripts in display.
        AU6D     Set LOCNUM=1, use subscripts in display.
        AU9      Set LOCNUM=1, use subscripts in display.
        AU9A     Set LOCNUM=1, use subscripts in display.
        AU9B     Drop the include.
        AU9C     Drop the include.
        $APLOOP
        POSITION  Dropped the copying back and forth of coordinates, and
                  changed it to use LOCNUM 1 and 2.
        $APLSUB:
        CHECKL   New routine to check LOCNUM value.
        CHNTIC   Call CHECKL, use subscript.
        DIRCOS   Use subscript.
        DIRDEC   Use subscript.
        DIRRA    Use subscript.
        FNDX     Use subscript.
        FNDY     Use subscript.
        LABINI   Call CHECKL, use subscript.
        LMPIX    Use subscript.  Corrected GROSS error.  It used the
                 maximum of a small positive number and the header axis
                 increment to get the pixel number.  But increments are
                 often negative.  It is best to test for zero divide,
                 not play this lazy game.  Affects IMLOD, FITLD.
        NEWPOS   Use subscript.
        SETLOC   Call CHECKL, use subscript.
        SLBINI   Call CHECKL, use subscript.
        STCLOS   Removed the include.
        STOPEN   Removed the include.
        STPUT    Removed the include.
        TICCOR   use the subscript.
        TICINC   Call CHECKL, use the subscript.
        TKLAB    Call CHECKL, use the subscript.
        TKTICS   use the subscript.
        XYPIX    use the subscript.
        XYVAL    use the subscript.
        $YSUB:
        CLAB1    Call CHECKL, use the subscript.
        CLAB2    Call CHECKL, use the subscript.
        COMLAB   Call CHECKL, use the subscript.
        CTICS    use the subscript.
        IAXIS1   Call CHECKL, use the subscript.
        ITICS    use the subscript.
        $YPGM
        CNTR     Set LOCNUM=1, drop call to SETLOC before STARPL.
        GREYS    Set LOCNUM = 1 and 2 as needed, dropped the location
                 common save areas and the call to setloc before STARPL,
                 use the subscript.
        IMEAN    Set LOCNUM values and use subscript.
        IMVIM    Set and use the subscript.
        ISPEC    Set and use the subscript.
        PCNTR    Set and use the subscript.
        PROFL    Set and use the subscript.
        SL2PL    Set and use the subscript.
        TAPLT    Set and use the subscript.
        TVHUI    Removed unused location common
        TVRGB    Removed unused location common
        UVHGM    Set and use the subscript.
        $YPGNOT
        CLPLT    Set and use the subscript.
        DFTPL    Set and use the subscript.
        FRPLT    Set and use the subscript, drop many unused variables.
        GAL      Set and use the subscript.  Corrected the use of
                 list-directed read on a CHARACTER variable.  ANSI, in
                 their wisdom, made that illegal.
        GAPLT    Set and use the subscript, remove and rarrange unused
                 variables, correct unreachable couint of good points.
        GNPLT    Set and use the subscript, dropped unused variables.
        IBLED    Set and use the subscript.
        IRING    Set and use the subscript.
        KNTR     Set and use the subscript, drop saving common and use
                 subscript 2 instead.  Drop excess call to SETLOC ahead
                 of the STARPL calls.
        PFPL1    Set and use the subscript.
        PFPL2    Set and use the subscript.
        PFPL3    Set and use the subscript.
        PLCUB    Set and use the subscript.  Cleaned up long lines and
                 some of the other non-standard typing.
        PLROW    Set and use the subscript, drop unused variables.
        POSSM    Set and use the subscript, drop garbage code that
                 pretended to save the common but never used it, and
                 drop several included DLOC that were not used.
        SNPLT    Set and use the subscript.
        UVPLT    Set and use the subscript.
        VBPLT    Set and use the subscript.
        $APLPGM
        PBCOR    Set and use the subscript.
        PRTIM    Set and use the subscript, fix handling of PRGNAM.
        PRTPL    Set and use the subscript, remove 2 unused I's.
        QMSPL    Set and use the subscript.
        SLFIT    Set the subscript, remove 1 unused variable.
        STFND    Set the subscript.
        TKPL     Set and use the subscript, remove unused I.
        XBASL    Set the subscript.
        XGAUS    Set the subscript, removed several unused variables,
                 fixed numerous improper (1) buffer declarations.
        XPLOT    Set the subscript, removed 1 unused variable.
        $APGNOT
        BAKLD    Removed unused include DLOC.
        CANPL    Set and use the subscript, remove unused variable.
        GSCAT    Set and use the subscript.
        GSTAR    Remoce unused include DLOC.
        HGEOM    Set and use 2 values of the subscript rather than
                 swapping 1 Kbyte of common data back and forth all the
                 time.
        IMFIT    Set and use the subscript, remove a few undeclareds.
        IMLOD    Set and use the subscript.
        JMFIT    Set and use the subscript, remove a few undeclareds.
        LTESS    Include DLOC.INC and set LOCNUM = 1 for SETLOC.
        LWPLA    Set and use the subscript.  Cleaned up the typing ---
                 why do some people go to considerable trouble to undo
                 standards?  Removed all formats given as character
                 strings in the WRITE statement.  That is not within
                 the ANSI standard.
        MOMFT    Set and use the subscript.
        PGEOM    Set and use the subscript.
        REGRD    Set and use the subscript.  Removed all formats given
                 as character strings in the WRITE statement.  That is
                 not within the ANSI standard.
        SELSD    Set the subscript.
        STARS    Drop the unused location common.
        STESS    Include DLOC.INC and set LOCNUM = 1 for SETLOC.
        STRAN    Drop the unused location common.
        TXPL     Set and use the subscript, drop unused variables.
        UVPRM    This one exemplifies lazy coding.  The user will never
                 figure out what it is supposed to do from the help
                 file or the code comments.  It actually does a useful
                 MSGWRT print out - not the plots it claims.  Removed
                 the large section of unused code setting up the
                 location common and cleaned up the typing and message
                 levels some.
        UVPRT    Remove unused location common.
        $QPGNOT
        FFT      Set and use subscript, remove an unused variable.
        IM2UV
        $QYPGNOT
        UTESS    Include DLOC.INC and set LOCNUM = 1 for SETLOC.
        VTESS    Include DLOC.INC and set LOCNUM = 1 for SETLOC.
        $APLCONTR
        CCNTR    Set and use subscript.  Fixed handling of STFACTOR for
                 star plotting, allowing negatives.  It will not plot CC
                 files since the subroutine CCPL is missing.
        SAD      Set and use the subscript.  Fixed numerous undeclared
                 variables, unused variables, illegal functions (SIND,
                 COSD), long lines, and what not.  Maybe it will work.
                 It compiles and links anyway.
        STARC    Set and use subscript, delete unused variables.
        Moved nowhere.

 7775.  September 8, 1993       CCNTR                   Eric
        Added Jaffe's task to plot CC components along with contours.
        It required cleaning up, updated call sequences, etc.  I made it
        do multiple symbols like star plotting as well.  Cleaned up
        STARPL and separated out subroutine PLOTWO as well.
        Moved nowhere.

 7776.  September 9, 1993         BLING                 Chris
        Fixed a bug in BLING which caused it to look for an FQ table
        whether or not an IF axis was present.
        Moved nowhere.

 7777.  September 12, 1993        $APGNOT/FILLM         Gustaaf
        In the case of online filling, FILLM will now check changes
        in TELL every 10 seconds. For off-line filling this time
        remains 1 minute.
        Moved nowhere.

 7778.  September 13, 1993        $APGNOT/STARS.FOR     Gustaaf
        Under some circumstances STARS would create RA entries which
        are negative, actually 360 degrees off. Though this does not
        harm the further handling of ST files, I fixed this for reasons
        of esthetics.
        Moved nowhere.

 7779.  September 16, 1993         $APLOOP/ARRAY.FOR    Bill C.
        Modified ARRSAD to accept a complex scalar to add to a complex
        array.  Also added function ARRSMU to multiply an array by a
        scalar; again the scalar is assumed to be the same type as the
        array.
        Moved nowhere.

 7780.  September 16, 1993      $APLSUB/CMPCFL.FOR       Bill C.
        New routine that compresses unused entries out of the lists in
        DFIL.INC commons of the current scratch files and files with
        marked catalog flags.
        Moved nowhere.

 7781.  September 16, 1993   DFIL.INC usage in OOPS      Bill C.
        Both the image and uv data class destructors (IMGZAP, OUVZAP)
        failed to compress scratch file entries from the DFIL.INC
        commons when deleting scratch objects.  The corresponding
        entries were marked as unused but were not compressed from the
        list.  Since new entries are always added at the end of the list
        it could eventually be exhausted.
           Now OUVZAP and IMGZAP call routine CMPCFL to compress these
        commons.  Also OUCFCL and CFLCLR use CMPCFL to compress these
        arrays when clearing a catalog status flag.
        Moved nowhere.

 7782.  September 16, 1993      $APLOOP/UVUTIL.FOR         Bill C.
        Modified UVCLIP to allow optional specification of the Stokes'
        value to be clipped.  This means it now clips by I rather than
        individual RR and LL as before.  As before, clipping by I will
        also flag other polarizations if I is flagged.
        Moved nowhere.

 7783.  September 16, 1993    $QOOP/QINTER                Bill C.
        Added function IMGIAE to interpolate an al-el image at the
        positions of the output image.  Special projections are used in
        the az-el image.
        Moved nowhere.

 7784.  September 17, 1993    OOP uvdata reference freq.  Bill C.
        There were problems in the OOPS uv data handling routines with
        the handling of frequencies in the presence of IF selection,
        especially if IF 1 were not included.  The frequencies passed to
        derived uv data objects were the frequency of the first actual
        IF passed whereas the u,v and ws and the FQ table entries were
        unchanged.  The effect of this is that any derived images have
        incorrect frequencies and the u, v and w terms are not scaled
        appropriately causing a scale error in the derived image.
           Also in the translation of a uv descriptor to an image
        descriptor, the correct reference frequency was not being used.
           There is a new uvdata descriptor (UV_DESC) class public
        member, REFFREQ, available after the object is opened which
        gives the actual reference frequency.  The UV_DESC copy
        functions and frequency functions in UVUTIL.FOR now use this
        value as the output uvdata frequency.
           Affected functions:
           $APLOOP/UVDATA.FOR - OUVOPN
           $APLOOP/UVDESC.FOR - UVDCOP, UVDSCP
           $APLOOP/UVITIL.FOR - UVREFQ, UVFRQS
        Moved nowhere.

 7785.  September 17, 1993 $SYSLOCAL/NOSHARE.LIS	Dave A.
	Added OHGEO.FOR to NOSHARE.LIS.
	Moved nowhere.

 7786.  September 17, 1993    $YPGM/GREYS and CNTR       Pat/Dave Shone
        The size of the INPARM (or whatever) common was incorrectly set
        too large in these programs.  On Solaris 2, this causes other
        stuff to be clobbered, usually the stuff set by ZDCHIC.  I
        wonder how many more of these are lurking...
        Moved to anonymous FTP patch area today.

 7787.  September 18, 1993      $APLOOP/IMAGE.FOR          Bill C.
        Modified function IMCLNX to copy catalog header keywords; this
        should ensure that they get copied under most circumstances.
        IMCLNX now also opens the input  and output images to be sure
        they're fully instantiated.
        Moved nowhere.

 7788.  September 20, 1993      $APLOOP/IMAGE.FOR          Bill C.
        IMGCLN now calls IMCLNX to copy image and array descriptors and
        catalog header keywords.
        Moved nowhere.

 7789.  September 20, 1993         Imaging                 Eric
        I have stumbled across several effects in our imaging process.
        One is the fact that we have been using a very coarse histogram
        to determine which pixels should be searched for components in
        each major cycle of Clean.  This led in some cases to very few
        components being found per cycle and a very long clean.  A
        second is that the user has had no control over how many pixels
        could go into that search in each cycle.  The current limit
        (effectively 20050 most of the time for minpatch 51) is too
        large for some cases and too small for others.  A third is the
        way in which we handle data near the edges of the UV plane while
        gridding.  There is currently a "guard band" of 6 uv pixels to
        prevent mathematical errors in convoluttion.  But that is not
        enough to prevent very high frequency problems from occurring in
        the clean.  The fixes are: (1) a finer histogram, (2) give the
        user adverb control over the clean memory, (3) give the user
        adverb control over the guard band and display information about
        the correct cell size to use to avoid data loss and a warning to
        watch for high frequency effects.  Changed are:
        POPSDAT.HLP   Add adverbs GUARD, MAXPIXEL.
        NEWPARMS.001  Add adverbs GUARD, MAXPIXEL.
        UVMAP.HLP     Add GUARD.
        HORUS.HLP     Add GUARD.
        MX.HLP        Add GUARD, MAXPIXEL.
        APCLN.HLP     Add MAXPIXEL.
        SDCLN.HLP     Add MAXPIXEL.
        APCLN.FOR     Double buffer size, change AP size computation to
                      full size with MAXPIXEL added to limit number of
                      pixels, increase histogram size, remove task name
                      from history message displays.
        SDCLN.FOR     Double buffer size, change AP size computation to
                      full size with MAXPIXEL added to limit number of
                      pixels, increase histogram size.
        MX.FOR        change AP size computation to full size with
                      MAXPIXEL added to limit number of pixels, increase
                      histogram size .  Added GUARD, including telling
                      the user when data exceeds the size of the guarded
                      uv plane.  Set DMPR.INC parms to 0 to avoid
                      disturbing UVGRID.
        UVMAP.FOR     Added GUARD and information to the user about
                      samples outside a sensible guard and the actual
                      guard.
        DMPR.INC      Add parameters for gridding to return the actual
                      and included maximum U and V and to set a guard
                      band.
        GRDMEM.FOR    Added handling of guard band and return of maximum
                      U and V seen and used.
        UVGRID.FOR    Added handling of guard band and return of maximum
                      U and V seen and used.
        UVGRTB.FOR    Added handling of guard band and return of maximum
                      U and V seen and used.
        UVTBGD.FOR    Added handling of guard band and return of maximum
                      U and V seen and used.
        UVTBUN.FOR    Revise edge test to use MAX minus guard bands.
        UVTBUW.FOR    Revise edge test to use MAX minus guard bands.
        UVUNIF.FOR    Previously paid no attention to points off the
                      edge.  Added test so that only weights inside the
                      guard bands are altered.  I don't know what the AP
                      makes of points off the edge!
        IMCREA.FOR    Removed a TAB character.
        Moved nowhere.

 7790.  September 20, 1993      remove unused variables     Eric
        Continuing to winnow unused variables:
        $QYPGNOT/ MX
        $AIPPGM/  FILAIP
        $APLNOT/  CLBSNR, CRDSET, DATGET, EULROT, FFTV2,  FGREFM,
                  MAKGAU, NDXINI, PLNPUT, PTIME,  R3DTAB, SELSMG,
                  SOUFIL, SOUINI, SUSEL,  TABAXI, TABFQ,  TABHDK,
                  TABREQ, TABSRT, TPIOHD, XEULER
        Also:
        CRDSET    Removed lower-case code in DATA, formats as character
                  strings in a WRITE statement.  Both are not allowed in
                  strict ANSI.
        FFTV2     Fixed typo leading to double declaration of variable,
                  corrected code that was branching into a DO loop
                  (having branched out) just to avoid IF-THEN-ELSE,
                  corrected an un-numbered DO (END DO) structure.
        Moved nowhere.

 7791.  September 20, 1993      $SYSUNIX/PROG               Pat
        I got fed up using the brute force WHICH - it uses "find" - to
        figure out which program directory a given program is in.  This
        shell script does it much faster as it only checks the
        directories that have "/PGM" in the name - only 20.
        Moved nowhere.

 7792.  September 20, 1993      $HLPFIL/POPSDAT.HLP         Gustaaf
        Added the various online FILLM commands as AIPS procedures
        containing TELL commands.
        Moved nowhere.

 7793.  September 20, 1993     $QOOP/QUVUTIL.FOR      Bill C.
        Added optional "GUARDBND" to input uvdata object to specify the
        guardband in the uv data grid.
        Moved nowhere.

 7794.  September 20, 1993    OOP CLEAN class        Bill C.
        Added class public members SCALERES and BMSCLSZ to enable and
        control scaling of the residuals to the same units as the
        restored components before the restoration.  The scaling is by
        the ratio of beam areas.  The dirty beam area is determined
        inside a specified box.  Add routine CLSCRS to implement scaling
        and added to both image and uv CLEANs.  Changes in both
        $APLOOP/CLEAN.FOR and $QOOP/QCLEAN.FOR.
           Added class public member MAXNRES to allow control of the
        maximum number of residuals in major cycles.  This parameter can
        be adjusted  to the size of the problem.  The default is the
        older, hard value of 20,000.
           Modified CLEAN residual histogram to 8192 levels and the beam
        histogram to 1030 allowing much larger beam patches.
        Moved nowhere

 7795.  September 20, 1993      $APLOOP/UVUTIL.FOR         Bill C.
        Modified UVCOPY and UV2SCR to select by optional U and V limits.
        Moved nowhere.

 7796.  September 20, 1993       $QPGOOP/WFCLN.FOR        Bill C.
        Added option to scale the residuals by the ratio of the
        restoring beam area to the dirty beam area before restoring
        components.  This allows adjusting the residuals to the same
        physical units as the restored components.  The parameters of
        this correction are the size of the box about the dirty beam to
        be used to determine its area.
           Modified to exclude uv data outside of a region of uv space
        defined by the "guardband" inside the uv grids used.
           Also fixed a bug which caused the scaling of U,v and w to be
        incorrect.
           Implemented new adverbs MAXPIXEL and GUARD to allow user
        specification of the maximum number of residuals to consider in
        a CLEAN cycle and the guardband around the outside of the uv
        data grid.
           Also added documentation in WFCLN.HLP.
        Moved nowhere.

 7797.  September 21, 1993       LISTR.FOR             Bill C.
        Increased PARAMETER MAXSOU in SCANUV (OPTY='SCAN') from 500 to
        2500.  This allows LISTR to do something  sensible for a larger
        number of sources.
        Moved nowhere.

 7798.  September 21, 1993     SETJY.FOR            Bill C.
        Increased the maximum number of sources in the SU table from 300
        to 2500.  Also parameterized this value and added a test that
        the arrys were not being overrun.  In its previous condition,
        SETJY would trash memory and sink without a trace if there were
        too many sources in the SU table.
        Moved nowhere.

 7799.  September 21, 1993       FITLD.FOR              Phil
        Several changes:
        (1) Added the multidimensional DLOC.INC stuff
        (2) Added the ability to read VLBA archive tapes, these are
            different from distribution tapes in that they have SQL
            headers on them, so FITLD needs to know how to skip these
            headers, this is a temporary fix. It won't last here long.
        (3) Tidied up the default naming of output files when reading
            VLBA data.
        (4) Tidied up all the VLBA type includes and all the VLBA ->
            AIPS table translation routines.
        (5) Added the ability to shift the correlator model polynomial
            from the time tags in the IM table to those in the CL table.
        (6) Switched the sign of the phases in the data to make the maps
            come out the right way round, PHASE = -PHASE strikes again!
        Moved nowhere.

 7800.  September 21             $APGNOT/FILLM.FOR      Gustaaf
        Solved bug in online FILLM. FILLM stops automatically at the
        end of the current scan when a) a 'quit' is given, or b) the
        specified VLAOBS changes. But when a 'quit' was given during the
        *last* scan of an observation, after which the change in VLAOBS
        would have stopped FILLM anyway, FILLM became unstoppable! This
        is fixed now. It took Miller Goss to find this one; others had
        never bothered to do a 'quit' during the last scan.
        Moved nowhere.

 7801.  September 22, 1993	$SYSUNIX/AIPSASSN.(C)SH	 Dave
	Added the ONLINE logical to the AOC-specific part of the
	script.
	Moved nowhere.

 7802.  September 26, 1993       PRTLIN, PRTALN          Eric
        Changed the two print subroutines so that the header with DOCRT
        true has the system and release names also.  That info is always
        useful when there are so many machines/releases that can talk to
        the same screen.
        Moved nowhere.

 7803.  September  26, 1993      routines in wrong place       Eric
        If a subroutine calls a routine in $QNOT, then it must be in
        $QSUB or $QNOT.  If it is placed in $APLNOT, then when a task is
        linked only with $APLNOT, there will be an unresolved reference.
        Some computers care about this with shared libraries (Solaris
        guys - our future).  Moved CALRES, MAKCVM, DSKFFT from $APLNOT
        to $QNOT.  IMOPEN, PLOTDA, MODPLT, PLTSET were moved to $YNOT.
        $APLGEN/ZVTVRX was renamed VTVRX and moved to $YSUB.
        FITLD could not run otherwise.
        Moved nowhere.

 7804.  September 28, 1993        Source list size            Eric
        Changed the size of the source list - formerly 500 most places
        to 2500 for the sky survey.  Changed
        PUVD.INC  moved parameters from DSEL to here and increased the
                  source list size.
        DSEL.INC  removed parameters to PUVD.
        DTVF.INC  add include PUVD, set source list by XSTBSZ.
        DSPF.INC  add include PUVD, set source list by XSTBSZ.
        IBLED     changed hard-coded 500's to XSTBSZ.
        TVFLG     changed hard-coded 500's to XSTBSZ.
        SPFLG     changed hard-coded 500's to XSTBSZ.
        SPLIT     changed hard-coded 30 (!!) to XSTBSZ.
        SOUNDX    changed 30 to XSTBSZ, put error message on list
                  overflow, cleanedf up commenting (IT DOES NOT IMPROVE
                  CLARITY TO PUT AN INANAE COMMENT ON EVERY LINE OF
                  CODE.
        CVEL      Removed a locally declared parameter of the same name
                  and usage (but different value) as used by DSEL, but
                  now moved to PUVD.
        Moved nowhere.

 7805.  September 28, 1993          SAD                Eric/Walter
        Walter submitted a very non-standard but lovely little task
        called SAD for search and destroy.  It finds "islands" of flux
        and fits gaussians to them.  I cleaned it up, fixed a small bug
        which caused it to find sources twice sometimes, and added some
        other features.  It writes a MF model fits file, it is
        restartable, it uses the line printer, it writes a residual
        file, etc. etc.  It works in only 1 plane at a time.
        Moved to Leiden today, nowhere else.

 7806.  September 28, 1993        CCNTR                Eric
        Upgraded to plot  MF files too and to use a range of symbols to
        indicate source strength as well (for CC or MF, not ST).
        Moved nowhere.

 7807.  September 28, 1993        $APGNOT/FILLM        Gustaaf
        FILLM, when reading in survey data, did not recognize pointings
        to the same position as the same source, and wrote an extra
        entry in the SU table. This is fixed now. FILLM, when appending
        to an existing file, will now also tell the user what file it is
        appending to.
        Moved nowhere.

 7808.  September 29, 1993         $QPGOOP/OHGEO                 Bill C.
        Made it less picky about the error code from OGET call to read
        catalog header for 'PARANGLE' before deciding to use the value
        passed as an adverb.  OGET was not properly interpreting the
        return code from CATKEY.
        Moved nowhere.

 7809.  September 29, 1993   $APLOOP/OBJMNGR.FOR       Bill C.
        In several places the error codes from CATKEY were returned
        undigested.  Now if the return code from CATKEY is greater than
        20 (Keyword(s) not found) a return code of 1 is substituted.
        This is the usual, not found, code under the circumstances.
        Moved nowhere.

 7810.  September 29, 1993        DISPTV                Eric
        The $QNOT routine DISPTV calls both Y and Q routines.  It must
        either appear in a $QYSUB which we have never made, or be copied
        into each task that needs it.  Moved it into VTESS and UTESS -
        all others that use a DISPTV have their own already.
        Moved to Solaris to try it.

 7811.  September 30, 1993      LIBR.DAT (Sun4, Sol)     Pat/Eric
        I have been told that AIPNOT tasks should never reference
        AIPSUB, as AIPSUB routines can call TV routines.  So I have
        simplified the LIBR.DAT entries -- for Sun and Solaris only --
        in an attempt to see if this solves certain other problems with
        shared libraries on Solaris.
        Required movements to make this so:
        AIPINI  from AIPSUB to APLSUB
        to AIPPGM: AIPSC, BATER, BSTRT1, QMNGR, GRIPR, POPSGN, RECAT
        Removed unused variables from BATER, GRIPR, POPSGN in $AIPPGM
        FIXCAT, SHOPB, and UPDAT in $AIPNOT - removed unusable
        subroutines in the last.
        Moved nowhere.

 7812   October 1, 1993      UVGET.FOR               Bill C.
        Added hook in UVGET to allow specifying the initial visibility
        number to read for a single source (only) file.  Changed the
        following:
        - DSEL.INC: Added integer variable INITVS as the first vis. no.
        - SELINI.FOR: Initialize INITVS to 1
        - INDXIN.FOR: Set FSTVIS to INITVS in the absence of an NX table
        - UVGET.FOR: Added documentation describing INITVS.
        Also modified SELINI to set the default FRQSEL to +1 rather than
        -1 as UVGET now refuses -1.
        Moved nowhere.

 7813.  October 1, 1993     OOP vis. offset on read           Bill C.
        Modified the uvdata class to take advantage of recent changes in
        UVGET.  These changes allow reads to start at an arbitrary
        visibility number in a single source file.  Changed are:
        UVDATA.FOR (OUVOPN): Set DSEL.INC value INITVS to VISOFF before
           opening for read.
        UVDATA.FOR (OUVINI): Set DSEL.INC value INITVS to VISOFF before
           reinit for read.
        UVDESC.FOR:  Updated class documentation.
        Moved nowhere.

 7814.  October 1, 1993             FITLD                     Phil
        Fixed a subtle bug; a local common had the same name as a
        subroutine called by MERGE, took a while to find this one.
        Added the source and antenna mapping functions, now when a file
        from tape is being concatanated onto a file on disc the source
        and antenna tables from the existing file are read into arrays
        and a mapping function set up so that the incoming
        sources/antennas get the correct numbers assigned to them. We
        have to do this because the VLBA correlator can change
        source/antenna numbers during the correlation of an experiment.
        Fixed up the shifting of the correlator polynomials onto the CL
        table, as it was it would stop doing it after the first antenna.
        Moved nowhere.

 7815.  October 5, 1993     $APLOOP/PRINTER            Bill C.
        New OOP class to allow access to printers.  Standard headers are
        generated for uvdata of image objects.  All of the features of
        the standard AIPS routine PRTLIN are available.
        Moved nowhere

 7816.  October 5, 1993     $APLOOP/GENERIC.FOR      Bill C.
        Added new printer class to most generic routines.
        Moved nowhere.

 7817.  October 5, 1993     $APGOOP/RFI.FOR          Bill C.
        New task to look for interference based on high values of
        amplitude RMS.
        Also RFI.HLP.
        Moved nowhere.

 7818.  October 5, 1993         OPTIMIZE.LIS         Phil
        Added FITLD to the list, it can only be optimized to level 1
        on IBMs - otherwise the result is a segmentation violation.
        Moved nowhere.

 7819.  October 6, 1993    $APGOOP/RFI.FOR          Bill C.
        Fixed indexing bug in RFIRMS; the bug had no visible symptoms.
        Changed criterion for picking "worst" correlator; it now must be
        from the set of correlators marked as bad.
        Moved nowhere.

 7820.  October 6, 1993          EPOSWTCH                  Eric
        Moved subroutines CRDSET, CRDTRN, EULROT, MATCH STEPCH, and
        XEULER form $APLNOT to $APLSUB, cleaning them up on the way.
        These are used for position precesion and conversion.  Also
        cleaned up TXTLEN which was already in APLSUB.  Changed AU7 to
        do switch between 1950 and 2000 coordinates as verb EPOSWTCH.
        Changed POPSGN.HLP and NEWPARMS.001 to declare the new verb -
        note that one does not have to do a RESTORE 0 to get this verb,
        just a RUN NEWPARMS.  Also a help file.
        Moved nowhere.

 7821.  October 7, 1993          FFT                      Eric
        Raised all the buffers.  There was one real buffer of 4098 which
        had to equivalence to a complex buffer of NY+1.  This did odd
        things with NY=4096!
        Moved nowhere.

 7822.  October 8, 1993       EPOSW                   Eric
        Changed EPOSWTCH to average the output of the CRD... routines
        and a new subroutine called B2JPOS.  The latter attempts to copy
        the method from The Astronomical Almanac, but has to adopt a new
        inverse matrix since we always force the proper motion terms to
        0.  This is all dubious, but gets us closer to the position
        pairs in the VLA Calibrator book.
        Moved nowhere.

 7823.  October 11, 1993      $APLOOP/ARRAY.FOR          Bill C.
        ARRIO was not keeping track of the maximum and minimum pixel
        values for array planes on the 4th and higher axes.
        Moved nowhere.

 7824.  October 12, 1993      $APLNOT/TABHDR.FOR         Phil
        Now recognizes the TAPE STATISTICS (VT) table from the VLBA
        correlator. John Benson finds this very useful for assessing
        data quality.
        Moved nowhere.

 7825.  October 12, 1993      $APGNOT/GETJY.FOR          Gustaaf
        In correcting the SN table, GETJY did not properly take
        undefined values into account, with distastrous consequences.
        Added test for undefined.
        Moved nowhere.

 7826.  October 13, 1993      $APGOOP/HF2SV.FOR          Pat
        The Alpha compiler barfed at several non-sequitors in this
        source code.  I removed the keyword FILEOPT='EOF' (sun
        extension) and replaced it with code to scan the file to find
        the EOF instead.  Also corrected a format statement that had a
        variable name instead of a format specifier by mistake, and
        generally cleaned it up (no names > 6 chars, no lowercase, move
        data statements after all declarations).  There are still three
        problems but they're not fatal: INTEGER*2 definitions,
        equivalencing character and integer variables, and a GOTO 303
        that comes from outside an IF-block.  Someday when we've got
        time (yeah right).
        Moved nowhere.

 7827.  October 14, 1993    $QNOT/UVTBUW.FOR          Bill C.
        If the "AP" size was too small to handle the entire grid this
        routine was attempting to increase the size of the summing box.
        However, it wasn't doing this correctly and it was giving a
        totally bogus and misleading message.  This routine is used in
        tasks WFCLN and SCMAP.
        Moved nowhere.

 7828.  October 15, 1993         $QOOP/QCLEAN.FOR          Bill C.
        CLNUV was failing to check all fields for previous components on
        restart.
        Moved nowhere.

 7829.  October 15, 1993         $APGNOT/GETJY.FOR         Gustaaf
        See entry 7825. The fix was a little bit too quick, and I had
        overlooked that the SN table was not updated at all. Now it is.
        Mover nowhere.

 7830.  October 19, 1993        $APLNOT/R3DTAB.FOR       Phil
        If a table was of zero size (can happen with VLBA tables) then
        R3DTAB would read the next tape record anyway which would screw
        up the reading of subsequent tables. Fixed.
        Moved nowhere.

 7831.  October 19, 1993       $APGNOT/SNSMO.FOR       Craig/Phil
        Fixed a bad typo (scaled delays by 10**19 instead of 10**-9),
        and also adjusted the rate limits when editing rates.
        Moved nowhere.

 7832.  October 19, 1993              $YPGNOT/CLPLT & VBPLT   Phil
        This must be the oldest bug that I personally have fixed in
        AIPS. The routine the calculated the GAST at a given UT for the
        model plots had an error of ~2 minutes. This showed up when
        plotting the model vs the data for the VLBA first science data
        in which we have very high SNR and 2 sources beating against
        each other producing well defined minima. This must have been
        there since 1982 when Lars first wrote VBPLT.
        Moved nowhere.

 7833.  October 19, 1993              $YPGNOT/VBPLT      Leonid
	The new option 'AUTO' has been installed. Now if you give the
	value 'auto' to the new input parameter OPTYPE the program
	plots the points correspoded to auto correlation. The value ''
	or 'cros' are reserved for cross correlation. Several bugs were
	discovered at the original program and fixed:
	  1. The ploting of weight did not work at regim of time averaging
	     of the signal.
	  2. Timerange limiting did not work at regim of time averaging
	     of the signal.
	  3. The regim of time averaging of the signal did not work
	     correctly. The number of plotting points was wrong.
	Moved nowhere.

 7834.  October 19, 1993          FITTP                   Eric
        Changed FITTP, FITTP.HLP, NEWPARMS.001, and POPSDAT.HLP to reset
        the default for BLOCKING to 10.
        Moved nowhere.

 7835.  October 19, 1993          AIPS                   Eric
        Corrected gross bugs dealing with substrings being assigned to
        variables.  If the substring had no characters in it and was not
        at the beginning of the string, then it would copy blanks all
        over places beyond the end of the string.  Ever wonder about
        adverb values like 1.356316E-19 ?  Fixed ASSGN.FOR.
        Moved nowhere.

 7836.  October 20, 1993          RUN                     Eric
        Fixed one oddity - RUN claimed to find run files locally but
        then used only ones in RUNFIL or RUNSYS.  Corrected HELPS and
        $APLUNIX/ZDIR to support and allow (resp) local versions.
        Moved nowhere.

 7837.	October 20, 1993	$INC/PUVD.INC		Dave A.
	Changed the bseline table size XBTBSZ from 3500 to 7500.
	After talking to Phil, it became apparent that 3500
	would not handle the number of antennas, polarizations,
	and IFs currently available.
	Moved nowhere.

 7838.  October 20, 1993        $APGNOT/DBCON.FOR       Gustaaf
        Put the new DBCON into the system. It allows DOPOS(1,1)=2,
        in which case position shifts are calculated frequency depen-
        dent. This makes DBCON more exact, but also slower. For the
        moment, the new feature only works for input data sets with
        identical sort order. In other cases the user is warned.
        Moved nowhere.

 7839.  October 22, 1993        CLRTEMP                 Eric
        New basic verb CLRTEMP to clear the temporary literal area while
        running procedures.  Changed POPSDAT.HLP and KWICK to add the
        verb.  Changed OERROR, KWICK, GETFLD, CONCAT, and HELPS to make
        a more explicit error message when the temporary area runs out
        of room.  Created new help file.  Changed AIPS, AIPSB, AIPSC,
        and POPSGN to set up the pointers of the temp area.  Changed
        PSEUDO and NEWPARMS.001 to allow and define the new verb.
        Moved nowhere.

 7840.  October 22, 1993         RUN again             Eric
        ZTXMAT was automatically concatenating RUNSYS to whatever RUNFIL
        or VERSION area was being searched for RUN files.  This caused
        a situation in which the same name file was in RUNSYS and RUNFIL
        (with different user numbers) to refuse to procede.  Changed it
        to do the concatenation only on standard file areas and only
        when no match is found.
        Moved nowhere.

 7841.  October 26, 1993       RFI.HLP                    Bill C.
        Now the default solution interval is given.  Also a couple of
        other minor wording changes.
        Moved nowhere.

 7842.  October 27, 1993           $APLOOP/PRINTER.FOR     Bill C.
        Added automatic header for tables.
        Moved nowhere.

 7843.  November 1, 1993           $APLOOP/UVUTIL.FOR        Bill C.
        Fixed indexing bug in UVTAVG addressing baselines in the
        accumulation array.
        Moved nowhere.

 7844.  November 2, 1993      $QPGOOP/WFCLN.FOR           Bill C.
        The default value for NFIELD was not being enforced; a value of
        0 was causing bizzare behavior.
        Moved nowhere.

 7845.  November 2, 1993      $APGNOT/SPLIT.FOR           Gustaaf
        When splitting a database with more than 1 IF, the contribution
        from the SU table to the frequency was removed for all IF's
        larger than BIF! Fixed. Also, added the option to store the full
        source name in two keywords. There is only room for the first
        eight characters in the header. The new option makes it possible
        to store the full source names for single source data.
        Moved nowhere.

 7846.  November 4, 1993     $APLIBM/ZTPOP2.C             Pat
        The command to find out tape attributes (lsattr) did not include
        the path, so it was failing if the user did not have /etc in the
        default PATH.  Added /etc/ to the string.
        Moved nowhere.

 7847.  November 4, 1993 	$APLPGM/PRTAB.FOR	Dave A.
	Added the TY table to TIMTAB, and increased NUMTIM to 8.
	This allows DOHMS=1 to work for TY tables.
        Moved nowhere.

 7848.  November 5, 1993         $APGNOT/DBCON.FOR      Phil
        When DBCON changed source numbers on the incoming file it
        printed out a message each time it did it. Now prints out
        the message the first time only for each change.
        Moved nowhere.

 7849.  November 5, 1993         $APGNOT/USUBA.FOR      Phil
        Added the option to move data to other subarrays by
        specifying by source name. Also updated .HLP file.
        Moved nowhere.

 7850.  October 28-November 5, 1993      tapes           Eric
        Changes for survey and corrections
        PRTTP   Added PRTLEV=-3 to go to text file with 1 short line per
                file .  Changed no movement NFILES from > 1000 to >
                10000.  Also help file.
        FITTP   Changed it to write begin ends of file only when not
                doing DOEOT.  Added a BAKF (1) at the very end just
                before the close.  This gets the IBM OS to skip writing
                an extra unwanted EOF at the end of the tape.
        AU4     Fixed message format.
        ZTAPE   Moved ZTAPE.FOR from $APLBELL to $APLGEN replacing old
                one with one that sends the count of operations to
                ZTAP2.
        Moved the old $APLGEN/ZTAPE.FOR to $APLALLN, $APLCVEX, $APLVAX,
        $APLDEC, and $APL3090 since I have yet to upgrade those areas.
        Changed the following to take the count as an argument.  Also
        SUN/ZTAP2.C      Changed WEOF to leave out the BAKF and ADVF it
                         did for safety's sake, doing only necessary
                         movements at BOT or on 1/2-inch tapes.  Changed
                         BEGW to skip the WEOF at BOT.
        IBM/ZTAP2.C      as for SUN.
        The following already took count as an argument, so changed
        HP/ZTAP2.C       Changed WEOF to leave out the BAKF/ADVF when
                         possible, changed BEGW to write EOFs only when
                         not at beginning of tape and to leave out the
                         BAKF/ADVF when possible, changed AEOI to use a
                         hardware advance to EOD on DAT tapes even
                         though that means not knowing anything about
                         file numbers, corrected and enhanced debug
                         message sections, corrected ADVF following
                         BAKFs since ierr was 4 when that op had to be
                         done.
        Moved nowhere.

 7851.  November 7, 1993
        Make room for more basic verbs - we used up all 100 that we once
        thought were more than enough forever.  Changed:
        POPSDAT.HLP  Changed verbs numbers, adding 100 and then
                     rearranging to leave room for growth.  Change basic
                     pseudoverb numbers too and rearrange to put similar
                     things together.
        VERBS        Changed branch table to match POPSDAT.
        VERBSB       Changed branch table to match POPSDAT.
        VERBSC       Changed branch table to match POPSDAT.
        SGLOCA       Changed SG version number to 14.
        AU2A         Changed SG version number to 14.
        AIPS         Changed range of verb numbers for call to VERBS.
        AIPSB        Changed range of verb numbers for call to VERBSB.
        AIPSC        Changed range of verb numbers for call to VERBSC.
        POPSGN       Changed range of verb numbers for call to VERBS.
        NEWPARMS.001 Dropped almost everything since RESTORE 0 will be
                     required and POPSDAT has all that was in NEWPARMS.
        POLISH       Move error testing to PSEUDO, STORES, ..., clean up
                     pseudoverb numbering.
        PSEUDO       Reorder pseudoverbs to match new, coherent
                     numbering and clean up the code a bit.
        EDITOR       As PSEUDO.
        STORES       As PSEUDO.
        HELPS        As PSEUDO, new verb numbers.
        KWICK        Changed verb numbers for WHILE, THEN, ELSE.
        VERB.HLP     Add option to give synonym rather than number.
        PSEUDOVB.HLP New - like VERB for pseudoverbs.
        DSMS.HLP     Changed variable TYPE to SYTYPE since it seems to
                     be causing the Sun compiler some problem.
        Changed the following for the spelling of TYPE:
        ADVERB ADVRBS ASSGN  AU1A   AU2    COMPIL CONCAT EQUIV  GETFLD
        LTSTOR SUBS   SYMBOL AU2A   EDITOR HELPS  KWICK  OERROR POLISH
        PSEUDO STORES VERBS  VERBSB VERBSC
        Moved nowhere.

 7852.  November 7, 1993              XAS                       Eric
        Changed init.c to check mutiple visuals to pick out the default
        visual.  HP offers 2 pseudocolor visuals in the basic window and
        the second one is the default!  All vislist references became
        subscripted by visnum.  Also fixed a large number of long lines.
        Moved from the HP 755 test machine.

 7853.  November 7, 1993           APROPOS                    Eric
        New pseudoverb implemented in HELPS, AU1A, POPSDAT.HLP.  It
        reports all 1-line help summaries containg the word or words
        specified by the user.  It is case insensitive and minimum
        matching and suprisingly fast.  Created $AIPNOT programs HLPA
        to create the needed list of words from the full help area and
        HLPB to update the list for a specific help file.  Crated a help
        file for APROPOS and the special list help file it uses which is
        called LSAPROPO.HLP.  Unfortunately, putbck is refusing to allow
        new files to be putbck so I cannot putbck the following:
                $HLPFIL/CLRTEMP.HLP
                $HLPFIL/PSEUDOVB.HLP
                $HLPFIL/LSAPROPO.HLP
                $HLPFIL/APROPOS.HLP
                $AIPNOT/HLPA.FOR
                $AIPNOT/HLPB.FOR
        Moved nowhere - and the midnight job won't help on these either!

 7854.  November 8, 1993           BLING                    Chris
        If the region around the peak in delay-rate space was flat
        then BLING would calculate an initial set of model parameters
        that would cause underflow and loss-of-precision problems on
        machines that used IEEE-754 arithmetic.  These would usually
        lead to floating-point exceptions during the least-squares fit
        to the peak and may have been responsible for the wild peak
        positions that have occaisionally been reported.  BLING now
        uses a fixed oversampling factor of 2 in the FFT to prevent
        the excessive interpolation that would sometimes result from
        adjusting the oversampling to fill the AP.  In addition BLING
        checks that all values neighbouring the peak are at least 10%
        less than the peak before going ahead with the least-squares
        fit; this should also catch the case where the peak value in
        the search window is the shoulder of a maximum outside the
        search window.
        Moved nowhere.

 7855.  November 8, 1993        APROPOS                Eric
        Various due to APROPOS:
        HLPA        Changed to include the category words and reject
                    duplicate entries.
        HLPB        As HLPA.
        AU1A        Changed to sort the matches in alphabetical order.
                    Before they were alphabetized by the actual word
                    matched and secondly by the symbol name.
        BLING.HLP   Add VLBI to category and fringe fit to 1-liner.
        FRING.HLP   Add VLBI to category and fringe fit to 1-liner.
        HF2SV.HLP   Fix up pre-cursor remarks which were left unedited
                    by the task's author.
        UVNOV       Task and help removed from system.
        UVNOU       New task and help = the actual UVNOV task, but with
                    the comments and name fixed to describe what it
                    actually does.
        There will be a lot more of this.
        Moved nowhere.

 7856.  November 9, 1993       $APGNOT/FITLD.FOR          Phil
        Fixed up the subroutine that recognizes global keywords so that
        it initializes them before reading values from the incoming
        table and also it will now recognize the RDATE keyword that
        has been added to all VLBA tables.
        Moved nowhere.

 7857.  November 10, 1993       $APGNOT/FITLD.FOR         Phil
        FITLD now deals correctly with data that cross the midnight
        boundary. Did not think I would have to deal with this but the
        correlator starts a new job at midnight (most times) and since
        it has no global view of an observation it doesn't know that
        this is day n>1 of a processing run. Still need some work on
        some of the tables in this area.
        FITLD also does the source mapping correctly now, I had all the
        logic in place but forgot to update the source random parameter.
        Will now print a visible warning if output file has zero
        visibilities.
        Moved nowhere.

 7858.  November 11, 1993        $YPGNOT/IBLED.FOR       Phil
        Minor logic error resulted in the user not being able to switch
        between 1-IF and ALL-IF flagging, same for ALL-CHANNEL and
        1-CHANNEL.
        Moved nowhere.

 7859.  November 11, 1993     2 new adverbs                 Phil
        To keep Craig happy - he can walk to my door in < 10 seconds -
        I have added 2 new adverbs. SYMBOL to allow the user to choose
        a plotting symbol, will be in VBPLT/CLPLT soon; and PLVER to
        replace INVERS in those routines that display PL files. Will
        modify the relevant HLPFIL's soon.
        Added .HLP files for both adverbs.
        Moved nowhere.

 7860.  November 11, 1993      $DOCTXT/PRIMARY.TXT         Pat
        This is a simple file with a list of (currently 8) primary
        keywords that are allowed in help files.  The checkout system
        will shortly be modified to check this file (and a SECONDARY.TXT
        that doesn't exist yet) to make sure the help file conforms.  If
        not, the putbck will be rejected.
        Moved nowhere.

 7861.  November 11, 1993      Gustaaf's complaints       Eric
        Changed CNTR, PCNTR, GREYS to put back the extra SETLOC call
        before the call to STARPL.  It is needed because the location
        common is buggered for odd axis labeling types (i.e., relative
        axes).  Changed HLPA, HLPB to add tasks, verbs, ... (i.e. the
        plurals) to the stop lists.  Changed APROPOS.HLP to clarify
        where the words are found and what is displayed.
        Moved nowhere.

 7862.  November 11, 1993      Bill's complaints       Eric
        Fixed the AVEOT message in AVTP to give the correct information
        on no error rather than incorrect info only on error.
        Moved nowhere.

 7863.  November 12, 1993          IBLED               Eric
        Fix some fucked up logic with the handling of single channel
        and/or single IF flags.  Someone changed .OR. to .AND. and then
        that same someone I suspect decided months later to remove the
        flags due to this error.  Restored to their original state.
        Moved nowhere.

 7864.  November 12, 1993      TCOPY                  Bill C.
        New task.  This utility copies selected contents from one
        tape to another.  It's especially designed to copy many tapes
        to one tape which is difficult to do properly with unix
        utilities.  Disk FITS files are also supported.  Also TCOPY.HLP.
        Moved nowhere.

 7865.  November 12, 1993        CLCAL                Craig/Phil
        Putbck a modified version of CLCAL for Craig. This now has the
        option of fitting a polynomial to the SN values of the residual
        rate and writing the fit to the CL table. This compiled and
        worked on the Sun but apparently does not compile on the
        IBM/Alpha machines. Eric is fixing up the illegal Fortran.
        Moved nowhere.

 7866.  November 12, 1993         VBPLT                   Phil
        Added the ability to choose the plotting symbol. Only has two
        choices for now, a '+' or a '|'.
        Moved nowhere.

 7867.  November 12, 1993     clean up the shit again      Eric
        CLCAL was just putbck with a bit of stupid and wrong code.  It
        does the silly thing of trying to pass a subroutine name as a
        call argument.  Technically this is legal, but practically it
        usually causes trouble.  In this case however, the routine was
        declared to be CHARACTER*(*) which it is not.  EXTERNAL would
        probably work, but why play games passing a fixed single
        argument?  Changed it to do the obvious.
        Corrected numerous long lines of comments and other minor bits.
        Moved nowhere.

 7868.  November 12, 1993           Plot display tasks        Phil
        Changed INVERS to PLVER in the plot display tasks TXPL, TKPL,
        TVPL, QMSPL, PRTPL (is this ever used now?), LWPLA and CANPL.
        This will remove the annoyances caused by the global nature of
        INVERS.
        Moved nowhere.

 7869.  November 15, 1993       NCCBOX, CCBOX            Phil
        2 new adverbs for Craig for his forthcoming CC editing task.
        He wanted this because he uses the new task in a procedure
        with MX and does not want to override the NBOXES and BOX
        adverbs.
        Moved nowhere.

 7870.  November 15, 1993   New procedure: $RUNSYS/BOX2CC      Craig/Phil
        A new procedure that will convert up to NBOXES BOX values
        in pixels to CCBOX values in arcseconds.
        Moved nowhere.

 7871.  November 15, 1993       $APLSUB/FPARSE.FOR         Phil
        Recognize keyword NAXIS, and set logical if GROUP structure
        present. Needed for PRTTP.
        Moved nowhere.

 7872.  November 15, 1993      $APLPGM/PRTTP.FOR              Phil
        Added the ability ro recognize VLBA binary FITS files and
        print out the pertinent information. Also fixed up the
        counting of the # bytes on the tape, PRTTP was missing most
        of the bytes in the extension tables.
        Moved nowhere.

 7873.  November 16, 1993      TCOPY                  Bill C.
        Fixed format problem, missing comma.
        Moved nowhere.

 7874.  November 16, 1993         HELPS                Eric
        APROPOS moved things around a bit in HELPS.FOR and I forgot to
        change the part of the code that covers up for the user saying
        GO to a verb.  Fixed it up.
        Moved nowhere.

 7875.  November 16, 1993   SLAMCH and DLAMCH in APLNOT      Chris
        Added the single-precision numerical inquiry routine SLAMCH
        to the system.  Also merged the DLAMCn routines back into
        DLAMCH.FOR.  DLAMCH and SLAMCH are now identical to the
        LAPACK versions apart from the addition of AIPS header
        comments.  Optimization is disabled for both.
        Moved nowhere.

 7876.  November 16, 1993           BLAPP                 Chris
        BLAPP will now abort if no solutions are found instead of
        trying to apply an empty SN table (this was the cause of
        the bogus sort error messages from SN2CL).  An incredibly
        stupid error in calculating the time range has been fixed
        and the SLAMCH code has been moved out to the AIPS library
        (see above).  Two new adverbs have been added.  ANTWT allows
        the user to give greater weight to data from baselines to
        certain telescopes and OPCODE controls whether the solutions
        are applied to the CL table automatically.
        Moved nowhere.

 7877.  November 18, 1993         FWRITE                  Eric
        Changes to call sequences require programmers to use GREP to
        find all uses of the routine.  FPARSE was changed, but FWRITE
        was not.  So TPHEAD was bust.  Fixed.
        Moved nowhere.

 7878.  November 18, 1993         UPDCONTROL              Pat
        Modified the copying of the control files so that success of
        copying is dictated by (a) a successful return status from the
        actual copy, and (b) a checksum comparison.  This involved
        modifying the checkout software so that it always puts the
        checksum of the *.UPD files in *.UPD.SUM in addition to the
        change to UPDCONTROL itself.  The latter now tries to copy the
        .SUM file over if the .UPD file made it, gets the numeric
        checksum from it, and compares it with the actual checksum of
        the copy.
        Moved to various MNJ locations today.

 7879.  November 18, 1993          BLING                  Chris
        Improved the calculation of the degree of coherence.  This
        should now represent the ratio of the vector sum of the
        amplitudes over the scalar sum of the amplitudes in a scan
        after fringing and should not go over 100% for strong
        fringes any more.  This change will result in the degree
        of coherence being about 1/3 of what it was before in
        most cases.
        Moved nowhere.

 7880.  November 22, 1993        New adverb: CLINT         Phil
        No this is not pronounced after whathisname Westwood, but
        is 'CL int(erval)'. A new adverb for FITLD to enable the user
        to specify the CL interval the desire. Should maybe also
        move into INDXR, FILLM, MK3IN and VLBIN.
        Moved nowhere.

 7881.  November 22, 1993       New task: CCEDT          Craig/Phil
        Craig has written a task within the OOP package to edit
        CC extensions based on a cutoff flux and/or their positions.
        Uses NCCBOX and CCBOX to specify boxes. There is a procedure
        called BOX2CC in $RUNSYS to convert between a BOX specified in
        pixels to the CCBOX in arcsec needed by CCEDT.
        Moved nowhere.

 7882.  November 22, 1993        BLING                    Chris
        Modified the calculation of the coherence to compensate for
        the fact that the grid is not completely filled due to over-
        sampling and flagged data and implemented a new method for
        calculating the SNR.  The new method assumes that all power
        that is not in the immediate neighbourhood of the peak is
        noise and is evenly distributed over the grid.  This will
        overestimate the noise level if the peak is blurred but
        this is probably desirable.
        Moved nowhere.

 7883.  November 23, 1993         $QNOT/VSCDFT.FOR        Bill C.
        Implemented correction for shift between tangent point and
        observing position for bandwidth smearing correction.  This
        correction was formerly stubbed and this change should allow
        UVADC to to this correctly.  Also fixed bug in telling the
        fraction of the work done.
        Moved nowhere.

 7884.  November 23, 1993       $QPSAP/QPTADC.FOR         Bill C.
        Fixed a number of fundamental problems in the table lookup.
        These problems affected relatively large bandwidth smearing
        corrections.  Affected task = UVADC.
        Moved nowhere.

 7885.  November 23, 1993       $QPGNOT/CVEL.FOR        Phil
        CVEL now determines if the data comes from the VLBA correlator
        by examining the ANAME keyword in the AN(tenna) table. If it is
        'VLBA' then CVEL assumes that all data have been fringe-rotated
        to the same reference point (the centre of the Earth) and will
        determine the velocity correction accordingly. If the VLBA
        string is missing then CVEL assumes a MkII or MkIII correlator
        and, although these correlators do the fringe-rotation
        differently, CVEL knows how to deal with them. A message is
        printed if CVEL makes the VLBA assumption.
        Also added text to the helpfile explaining this.
        Moved nowhere.

 7886.  November 23, 1993       $YPGM/BLANK.FOR         Gustaaf
        Small change allows user to specify - if DPARM(5) > 0 - by what
        value the blanks have to be replaced (formerly only 0).
        Moved nowhere.

 7887.  November 23, 1993       $HLPFIL/IRING.HLP       Gustaaf
        Changed one-liner since APROPOS RING did not list IRING !
        Moved nowhere.

 7888.  November 27, 1993         AP size                  Eric
        If the AP size exceeds some limit, AP addresses may no longer be
        stored accurately in the floating-point AP core memory.  For
        IEEE single precision, this limit occurs at 2**24, or 16 Mwords.
        The reason to store integers as floating arose because we wished
        to roll AP memory as fp buffers to disk and back again in order
        to share a true AP among users.  Problems with integers arose
        when the host and ap did not have the same fp format so that a
        translation had to occur.  It is our guess that this situation
        will never again arise.  The combination of external device with
        different format and multiple simultaneous users will not occur.
        Thus, we can set the roll times to infinity even if the other 2
        conditions arise.  Therefore, we can now store integers
        correctly in the AP memory.  To do this, changed:
        QCLNSZ   $QPSAP - changed to full AP memory.
        QCLNSZ   $QSUN, QIBM - removed.
        QRLSE    $QVEX - removed.  It was overriding KAP2WD
                 unnecessarily.
        QMAKMS   Fixed it to set in 1's for when vector A < C.  Before
                 it set in 0 for A < C and A >= C.  Fortunately, nothing
                 seems to use this routine.
        QMULCL   Word 0 for each field descriptor changed to integer.
        APCLN    Changed APSIZ to integer, fixed 1 roller call to roll
                 more than the 64K words.  Changed to load an integer
                 for the field address.
        SDCLN    As APCLN.
        MX       Changed to enter integer addresses for each field in
                 the AP memory.
        QCLEAN   $QOOP - Changed to enter integer addresses for each
                 field in the AP memory.
        UVTBUN   Changed to send integer addresses into the weight
                 summing and fetching routines.
        UVTBUW   Changed to send integer addresses into the weight
                 summing and fetching routines.
        QIHIST   $QPSAP - new routine does histogram of integers with no
                 scaling.  Complains if the range is wrong.
        QVINDE   $QPSAP - changed to use integer-valued gather vector.
        QWTCNT   $QPSAP - changed to use integer-valued gather vector.
        QINTP    $QPSAP - cleaned up index computation hoping to avoid
                 floating point.
        QINT     $QPSAP - as QINTP and changed call sequence to get
                 integer pointers to arrays rather than integer pointers
                 to fp addresses of those arrays.
        QUVIN    $QPSAP - changed to pass the integer array pointers to
                 QINT.
        GRDSUB   Corrected test on rotation which was performed before
                 the rotation parameters were set.  The consequence of
                 the bug was the use of ALGSTB under all circumstances,
                 never ALGSUB.
        ALGSUB   Changed to pass in integers to the AP for addresses.
        ALGSTB   Changed to pass in integers to the AP for addresses.
        Q1GRD    $QPSAP - changed to pass integer addresses in to QGRD4
                 rather than via indirection (and fp)
        QGRD4    $QPSAP - changed call sequence to expect actual AP
                 addresses rather than fp-valued locations of the
                 addresses.  Changed to try to force integer addresses.
        QGRD1    $QPSAP - changed to try to force integer addresses
        QGRD2    $QPSAP - changed to try to force integer addresses
        QGRD3    $QPSAP - changed to try to force integer addresses
        UVGRID   Changed to put integer values of addresses in AP.
        UVGRTB   Changed to put integer values of addresses in AP.
        UVTBGD   Changed to put integer values of addresses in AP.
        GRDMEM   Changed to put integer values of addresses in AP.
        GRIDR    Changed APSIZ to integer throughout.
        APGS     Removed unused reference to APSIZ as KAPWRD * 1024.0
                 and other unused variables.
        APVC     Removed unused reference to APSIZ as KAPWRD * 1024.0
                 and other unused variables.
        STEER    Removed unused reference to APSIZ as KAPWRD * 1024.0
                 and other unused variables.
        Moved nowhere.

 7889.  November 29, 1993          ALGSUB                   Eric
        In order to avoid 320 buffer copies each of 41000 words, I
        changed the address of the QVMOV call to reuse the full AP
        memory.  After much pain, got all the +- 1's correct.  I did not
        notice this because all my APs were too large to care.
        It blew off small APs - e.g. 5 Mbyte ones with 1024 on a side
        MX.
        Moved nowhere.

 7890.  November 30m 1993         HLPB                     Eric
        Cleaned up error return at end.  The EOF on the input was
        leading to an assumed actual error.
        Moved nowhere.

 7891.  November 30, 1993       more AP stuff               Eric
        (1) Changed the handling of the clean patch in MX, APCLN, SDCLN
        to allow for much larger beam batches.  Changed them to call
        QCLNSZ to get the correct AP size for cleaning even on vector
        computers and to use the DDCH.INC variables for gridding and
        component subtraction.  Cleaned up the help files too.
        (2) Renamed DAPS.INC to PAPC.INC since it is a parameter include
        for DAPC.INC.  Added another parameter to it to define the max
        AP to use in QCLNSU.  Changed DAPC.INC, SETPAR, SETSP, FILAIP,
        and FILAI2 to use the new include name.  Changed $QPSAP QCLNSZ
        to use the new parameter include and to limit its answer with
        the new parameter (PKPWDC) in it.
        Moved nowhere - more to come.

 7892.  December 1, 1993      $AIPSPUBL/AIPSOOF.TEX, .PS        Bill C.
        Final version of the AIPS OOPS documentation (at least by me).
        Moved nowhere - no more to come.

 7893.  December 1, 1993      $AIPSPUBL/AIPSMEMO51.TXT        Gareth
	This general memo by Alan Bridle from 1987 still gives a good
        outline of the AIPS project.  Although, Alan says it was checked
        in, it was somehow lost.  This was scanned from the original
        by Gene Runion.  I checked (most!) of the generated typos.
        Moved Nowhere

 7894.  December 1, 1993      AVGCIF in APLSUB                 Chris
        AVGCIF was calculating output indices using the index number
        of the Stokes axis (JNCS) instead of the Stokes axis
        increment (INCS).  This resulted in visibilities being
        partly overwritten if more than one polarization was present.
        This has been fixed.  CLPLT and VBPLT are affected.
        Moved nowhere.

 7895.  December 1, 1993    $QNOT/GRDCRM.FOR              Bill C.
        Increased tolerance from 1% to 5% that a component is allowed to
        be from a exact grid cell before complaining.
        Moved nowhere.

 7896.  December 1, 1993         Vector APs              Eric
        Changed booboos in $QPSAP version:
        QMULCL     one address computation still affected by floating.
        Changed Convex versions:
        DAPC.INC   to use PAPC.INC
        PAPC.INC   to define parameters including the clean limit which
                   is here not the full AP
        QINT       Changed call sequence, broke up address computations
                   to try to avoid the use of floating, dropped unused
                   variables.
        QGRD4      Changed call sequence, broke up address computations
                   to try to avoid the use of floating, dropped unused
                   variables.
        QMULCL     Changed pick up of address to integer, dropped unused
                   variable.
        Changed Alliant versions:
        DAPC.INC   to use PAPC.INC and dropped unused complex arrays
                   which were 1 word longer than the things they were
                   equivalenced to.
        PAPC.INC   to define parameters including the clean limit which
                   is here not the full AP
        QINT       Changed call sequence, broke up address computations
                   to try to avoid the use of floating, dropped unused
                   variables, changed scratch work vector from 7 to 9
                   since only 9 is unknown to non-QALN.
        QGRD3      Broke up address computations, dropped unused
                   variables.
        QGRD4      Changed call sequence, broke up address computations
                   to try to avoid the use of floating, dropped unused
                   variables, changed scratch work vector from 7 to 9
                   since only 9 is unknown to non-QALN..
        QMULCL     Changed pick up of address to integer, dropped unused
                   variable.
        QCFFT      Changed scratch work vector from 7 to 9 since only 9
                   is unknown to non-QALN, dropped unused variable.
        Moved nowhere.


 7897.  December 1, 1993          UVBOX                  Eric
        Changed the help files for CXPOLN, GRIDR, HORUS, MX, SCMAP,
        UVMAP, and WFCLN to allow UVBOX values up to 128.  The previous
        limit was 10.  Large values of UVBOX apparently help in the beam
        pattern of the VLA but cost a lot of computing and require a
        large pseudo AP.
        Moved nowhere.

 7898.  December 2, 1993         Vector APs continued         Eric
        Changed CRI versions:
        DAPC.INC   to use PAPC.INC and dropped unused complex arrays.
                   Changed from dimensions of (1) to correct dimensions
                   which stops errors from the compilers.
        PAPC.INC   to define parameters including the clean limit which
                   is here not the full AP
        QMULCL     Changed pick up of address to integer, dropped unused
                   variable, corrected array declaration.
        QCFFT      Changed scratch work vector from 7 to B since only A
                   and B are unknown to non-QCRI, dropped unused
                   variable.
        QRFFT      Changed scratch work vector from 7 to B since only A
                   and B are unknown to non-QCRI, dropped unused
                   variable.
        QPHSRO     Changed scratch work vector from 8 to A since only A
                   and B are unknown to non-QCRI, dropped unused
                   variable.
        QRFT       Changed scratch work vector from 2 to B since only A
                   and B are unknown to non-QCRI, dropped unused
                   variable.
        Moved nowhere.

 7899.  December 2, 1993         FITS binary tables            Eric
        Binary extension tables are now called BINTABLE.  Added that
        string to IMLOD, UVLOD and GSCAT lists of synonyms for binary
        tables.  Phil will do FITLD.  FITTP needs to be changed too but
        only after the release date.
        Moved nowhere.

 7900.  December 2, 1993    $APGNOT/FILLM.FOR             Gustaaf
        FILLM now recognizes Q-band.
        Moved nowhere.

 7901.  December 2, 1993         FITTP                  Eric
        Dropped dangerous and mostly ignored adverb DOTABLE.  Changed
        DONEWTAB to refer to calling binary tables BINTABLE vs calling
        them A3DTABLE.  Dropped all ascii table writing and any
        conversion of FQ to CH and back.  Also help file of course.
        Moved nowhere.

 7902.  December 3, 1993       $APLOOP/POLSN.FOR       Bill C./Kari Leppanen
        Fixed incorrect logic in determining R-L phase offset.
        Moved nowhere.

 7903.  December 3, 1993      ZACTV9 in APLUNIX         Chris
        Added code to explicitly close open file descriptors in the
        first generation children.  Without this, the file positions
        in the UNIX file table entries used by the parent could be
        trashed by its children.  This was spotted as a partial
        rewinding of RUN files on some machines and also appears to have
        been the cause of the line of garbage that appeared when starting
        a task under the debugger under Sun OS 5.
        Moved nowhere.

 7904.  December 3, 1993     ZACTV9 in APLUNIX           Chris
        ZACTV9 no longer closes file descriptors that might refer to
        the message terminal.  Messages should no longer be lost and
        the message server will no longer be any wierder that it normally
        is.  This also required a modification to ZTTOP2 in APLUNIX so
        that the file descriptor for the message terminal is stashed
        when it is not the controlling terminal.
        Moved nowhere.

 7905.  December 3, 1993        $APGNOT/FITLD         Phil
        Several changes:
        (1) Now recognizes BINTABLE as a valid table id, re Eric's change
        7899.
        (2) Deals with VLBA LSB data, reflects the LSB spectrum and
        negates the phases.
        (3) When reading VLBA data tells user about latest bug fixes.
        (4) Contains kludge to deal with the problem of VLBA correlator
        scre-up of cross hand polzns. This is very temporary.
        (5) Can now deal with different data mapping functions for
        different freqids'
        (6) If there is a 30sec time gap in the data a new NX record is
        written.
        (7) Mapping function deals with compressed/uncompressed data.
        Moved nowhere.

 7906.  December 5, 1993         $APGNOT/FITLD               Phil
        Missed some 3DTABLE -> BINTABLE strings.
        Moved nowhere.

 7907.  December 7, 1993      $APLUNIX/ZLPCL2.C, ZLASC2.C    Pat
        Changed the way in which the temporary file is removed.
        Unlinking it right away will often remove the file before the
        spooler has had a chance to get to it.  There is now a 300
        second delay before printing, implemented via a fork and sleep.
        Also, replaced the system command with a popen/pread/pclose
        combination; this will remove the need for an IBM-specific
        version of these routines (the system call there was returning
        error 10).  This has the side effect of making the output of the
        ZLASCL and ZLPCL2 shell scripts go through MSGWRT and they get
        put in the message file too.  Looks a little weird due to
        wrapping.
        Moved nowhere.

 7908.  December 9, 1993        UVTBUN                      Eric
        The routine had an ill concieved + 0.001 in an integer
        expression causing it to mess up values of negative array
        locations.  It did this once, not twice, so the weights for
        points with u=0, v < 0 got too much by rather more than half.
        Moved nowhere.

 7909.  December 9, 1993         BLING                     Chris
        Made several changes to BLING.
        - Removed AVS dump option.
        - Improved error reports so that lost scans are identified.
        - fixed a bug in the noise calculation that could cause
          floating-point exceptions if windows were in effect.
        - Provided access to relative-function convergence and
          X-convergence criteria through CPARMs.
        - Removed width parameters from the fit to the peak in
          order to reduce the chances of singular convergence.
        - Tidied up HELP and EXPLAIN files.
        Moved nowhere.

 7910.  December 14, 1993         BLING                   Chris
        Changed CPARMs so that the user can request that scans
        where interpolation fails are to be retained with reduced
        weight.  This may bail some users out of sticky situations
        at the cost of allowing them ample rope to hang themselves.
        Also rewrote the explain file section on interpolation in
        an attempt to clarify the use of the CPARMs.
        Moved nowhere.

 7911.  December 16, 1993        COMRPL                   Pat
        Gave this overweight script a thorough going-over.  The main
        concern was that it was not handling errors right when
        processing an "at" file or list of files.  Now it keeps track of
        whether or not there was any error, tries the other files
        regardless and at the end gives the ok or error message
        depending on the "loop" status.  I also cleaned up the options
        checking somewhat.
        Moved nowhere.

 7912.  December 16, 1993               POSSM          Phil
        Added a line to the annotation specifying whether calibration
        was applied when making the plot, and if so which CL or SN table
        was used.
        Moved nowhere.

 7913.  December 17, 1993      $APLOOP/POSITION                 Bill C.
        PSNCV3: The radial dependent scaling was on offsets in RA and
        dec rather than in projected coordinates.  This was blowing up
        near the poles.  This change affects task OHGEO.
        Moved nowhere.

 7914.  December 17, 1993        COMLNK                   Pat
        See entry #7911 for COMRPL.  Did same thing here.
        Moved nowhere.

 7915.  December 17, 1993           UVNOU                 Eric
        Corrected the wording to state correctly what the program does.
        It is the V axis at which u = 0 at which for all baselines the
        fringe rate goes through 0 which is why this program is useful.
        Moved nowhere.

 7916.  December 17, 1989            GUARD                Eric
        Clearly this option is causing problems.  Users do not seem to
        grasp what it is doing or why one doesn't want data all the way
        out to (and off) the edge of the UV plane.  Changed the limits
        on GUARD in the help files and code to 0.9 as an upper limit.
        Changed:
        (1) Help files for MX, HORUS, WFCLN, and UVMAP to limit GUARD to
            < 0.9 and not to imply that larger values -> a default.
        (2) Added test on GUARD so that values outside 0 - 0.9 are taken
            as 0 in subroutine UVUNIF and changed the 0.6 limit to 0.9
            in GRDMEM, UVGRID, UVGRTB, UVTBGD, UVTBUN, and UVTBUW
        (3) Added upper limit to tests on GUARD in MX, UVMAP, and HORUS
            and changed the setting of the default in WFCLN to be
            similar to the others (with no taper term however).
        Moved nowhere.

 7917.  December 17, 1993       $QPSAP/QPTAD.FOR         Bill C.
        Fixed logic bug in computing address in lookup table.  This
        error could cause the task to blow up.  Used in UVADC.
        Moved nowhere.

 7918.  December 17, 1993       $YPGNOT/POSSM             Leonid
        The number of BP table is printed now if the data is coming
        from the table. The header information at output file has
        been fixed
        The statement: 'The outfile is written only if NCOUNT=0'
        is added at the description of OUTFILE at POSSM.HLP file

 7919.  December  19, 1993      $QPGNOT/FRING           Phil/Leonid
        At multyband delay solution, the INDE was appearing at SN table
        for all IF at DELAY and RATE column and only for the first IF
        at REAL and IMAG column. REAL was equal 1 and IMAG was equal 0
	insted of INDE for the rest IF. This bug was fixed at subroutine
        FRNMS.

 7920.  December 20, 1993          BLING                  Chris
        Fixed an index error in G2MOD.  This was causing the
        Jacobian to be calculated incorrectly for the single-IF
        case and was responsible for the excessive number of
        interpolation errors.  Also fixed a bug in setting
        the FORTRAN unit number for DGLG debugging output.
        Moved nowhere.

 7921.  December 20, 1993     $SYSAIPS/AREAS.DAT          Pat
        Moved $APLLINUX to the bell side of the tree.  It is probably
        more appropriate there than on the Berkeley side, though it's
        still somewhat of a toss-up.
        Moved nowhere, but need to create/delete areas.

 7922.  December 20, 1993          XAS.SHR               Eric
        The PC port of XAS pointed up a call seq error in our calls to
        XShmDetach --- the 2nd arg is an address of a structure not its
        first value.
        Moved nowhere.

 7923.  December 20, 1993         $APGNOT/FITLD         Phil
        More in the series of changes aimed at making FITLD more robust
        as we see different types of VLBA observation pass through.
        (1) Added the adverb CLINT to .HLP, enables the user to set the
            CL time interval. Necessitated writing a new subroutine to
            fill in the values. Ensured that a scan has entries at the
            beginning and end and then every CLINT minutes.
        (2) Several changes in the area of file concatanation. FITLD can
            now run through a tape with ~100 VLBA data files and
            successfully read and concatanate them.
        (3) Unfortunately the correlator can occasionally write records
            out of time order, added logic to skip these records and
            carry on with data loading. Will allow up to 5% of file to
            be out of time order, or bad for other reasons, before
            skipping the rest of the file.
        (4) Corrected the logic in creating and adding to history
            records. Also the catalogue header was not being updated
            after the HI file was copied to it.
        (5) Sorted out the problems with the write status disappearing
            from the file after the first file was loaded from tape.
        (6) Will now deal correctly with frequency changes every scan.
            AT the end of a FITLD run a routine will run through the
            SU/CL tables and fill in the freq. offsets correctly.
            Difficult to do this on the fly.
        (7) FITLD now prints the latest bug fixes when it first starts
            up. Temporary situation only.
        (8) Added useful messages to user as reading progresses.
        (9) Fixed a bug that caused the task to fail if the number of
            antennas changed while concatanating.
        Moved nowhere.

 7924.  December 20, 1993        BLING              Chris
        Added linear bounds for the parameters of the Gaussian
        models used for interpolation (which required switching
        driver routines from DGLG to DGLGB).  The peak is now
        constrained to lie within the bounds of the grid cell
        in which the maximum amplitude was found.  Without these
        bounds DGLG(B) would sometimes find a route to a local
        minimum of chi-squared that first reduced the peak value
        and then shifted the peak by several cells in delay before
        increasing the peak value again;  this would occur if the
        peak were highly skewed and corresponded to a solution
        where the data used for the fit corresponded to the
        shoulder of a fictitious Gaussian located in the direction
        of the shallowest fall-off.  Extremely skewed peaks will
        now sometimes cause interpolation errors as DGLGB beats
        its brains out against the bounds but should never cause
        wildly erroneous delays (whether or not interpolation
        fails).
        Also rewrote the interpolation section of the explain
        document to reflect the fact that end-users shouldn't
        fiddle with any CPARMs other than CPARM(1) and then
        only in desperate circumstances.  Also added references
        for the optimization routines used in interpolation.
        Moved nowhere.

 7925.  December 21, 1993         VBPLT               Chris
        Changed the HELP-file descriptions of the defaults for
        BCHAN, ECHAN, BIF and EIF to correspond to what the
        program really does.
        Moved nowhere.

 7926.  December 21, 1993          PROFL               Eric
        Added comments to the help file about using TRANS when the
        hidden line algorithm has trouble.  Changed the dimension of the
        string labeling variable which was assumed 2 but declared 1.
        This prevented LTYPE 4,5,6 from working.  The strings are
        suppressed in PROFL in the interest of simplicity, but are
        computed by the low level routines.
        Moved nowhere.

 7927.  December 22, 1993          $APGNOT/UVCRS.FOR   Leonid
        The new task finds the crossing points of UV-ellipses,
        calculates the average ratios of the amplitudes at the crossings
        points and findss the solution for the gains of antennas by
        a least squares approach minimizing the deviation of the
        ratios from 1.  Also UVCRS.HLP.
        Moved nowhere

 7928.  December 22, 1993  $APGNOT/ANCAL.FOR  Phil/Lincoln Greenhill
        Added the A22o, A22e and A30 terms of the 140ft spherical
        harmonic description of its gain curve to the task. Needed to
        expand the keyin section because they went in the middle -
        that's always a pain.
        Updated the .HLP also.
        Moved nowhere.

 7929.  December 22, 1993           VBPLT                  Chris
        The BASAVG subroutine assumes that the random parameter
        and visibility buffer are unaltered between calls.  PLTVB
        altered them anyway which lead to points being misplaced in
        x and y when SOLINT was not zero.  This was most obvious
        when they fell outside the bounds of the plot.  Modified
        SOLINT to save and restore these variables at appropriate
        times.
        Moved nowhere.

 7930.  December 23, 1993           ZFREE                 Eric
        Deleted $APLUNIX/ZFREE.FOR - it made too many assumptions about
        the form of disk names and hence had bad displays under many
        circumstances.  Fixed up $APLGEN/ZFREE to show the last real
        characters of the disk name up to 22 with a '<' character to
        show that characters are missing at the left.
        Moved nowhere.

 7931.  December 23, 1993         DEC ALPHA               Eric
        Corrected $APLALPHA version of ZFRE2.C.  I don't know why
        anyone thought it was working - it did a multiply when a
        subtract was correct, passed the address of a string pointer
        rather than the pointer to strcpy, and expected a return code
        of 1 rather than the 0 that always means success.  Removed the
        old form of ZTAPE.FOR and put in $APLDEC a rewritten ZTAP2.C
        that looks a lot like most of the others.  Changed ZMOUN2.C to
        set the density code in the tape name and to report back what
        tape device was found - again done in $APLDEC.
        Moved nowhere but pongo.

 7932.  December 23, 1993         HOLGR             Mike Kesteven
        Changed the holography task and help:
        1.  The "surface rms" is now the half-path rms, weighted by the
        illumination amplitude.  Its value is recorded in the history
        file.
        2.  The gains are estimated at the observing frequency and at K
        and Q band.
        3. Some extension to the input parameters (largely dictated by
        the VLA requirements)
        a.  INFILE.  if set to "ANT", HOLGR will look for a file in the
        FITSarea with the name HOLOnnSS.EDT where nn is the antenna
        number, specified in APARM(9) SS is a stokes identifier, in
        APARM(10) : 1..LL; 2..RR; 3..LR;  4..RL
        b. APARM(2) :   nominally the satellite elevation;  if negative,
        it is assumed that the true holography coordinates, rather than
        azimuth and elevation offsets from the target.
        c.  BPARM(3,4) : if negative, you get a radial taper, down  50%
        at the specified |u|
        d.  BPARM(9) : 2000 will disable the focus offset calculations,
        but retain the pointing.
        Moved nowhere.

 7933.  December 27, 1993     UVNOU.HLP                  Tim C.
        Changed the strange comments in the help file to reflect
        why the task is useful.
        Moved nowhere.

 7934.  December 29, 1993      $YPGNOT/POSSM            Phil
        2 minor fixes, one removes the attempt to close the plotfile
        when it was never filled, that occasionally happens; the second
        ensures that the average bandpass weight is only computed when
        data have been averaged.
        Moved nowhere.

 7935.  December 29, 1993      $APLUNIX/ZIGNAL.C         Pat
        Checked it out to insert an #ifdef for linux; it has an
        underscore where SunOS has a hyphen in one of the structures.
        Not sure if what I did is really kosher but it makes the darn
        thing work under Linux and other systems.  While doing this,
        noticed a comment "/ Sun OS */" (missing * after the first /)
        and a missing semicolon in the SYSV #ifdef part.  I wonder what
        will change now.  I really shouldn't do this from home...
        Moved nowhere.

 7936.  December 29, 1993       $QPGNOT/BPASS.FOR       Phil
        Ensured that, when in total-power mode, the BP table does not
        contain totally flagged entries. This scres up the DOBAND=2
        option, totally flagged entries have never been written for
        cross-power bandpassses.
        Moved nowhere.

 7937.  December 29, 1993       $YPGNOT/GAL.FOR         Gustaaf
        Added the adverb OUTFILE. GAL optionally appends a one-liner
        containing results from the fit to this OUTFILE. Is useful
        when applying GAL to many rings. One option is 'redirect'
        OUTFILE to STARS which allows one to plot the fitted major
        axis.
        Moved nowhere.

 7938.  December 30, 1993          UVINIT               Eric
        Changed it to allow NVIS = 0 on reads only.  The first UVDISK
        call will return no (more) vis's.  This should cover cases in
        which, due to flagging, there are no vis's for a particular
        source.
        Moved nowhere.

 7939.  December 30, 1993         RUN                   Pat
        Added more functionality than this poor little script was ever
        supposed to have.  Arguments now include: program name, "DEBUG"
        or "-d", "LOCAL" (debug forces local), and the already present
        da= disk selection option.  Order is irrelevant (resistance is
        futile).  I put case insensitivity into the argument loop.  If
        the environment variable $DBUGR is not set, you will be prompted
        for the name of the debugger.  It doesn't go through the
        theatrics that START_AIPS does to check this, so if you type fbx
        instead of dbx, it'll crash and burn.
        Moved nowhere.  Do I get the last change of 93?

 7940.  December 30, 1993         $YPGNOT/VBPLT.FOR           Phil
        Sorry Pat, you don't. The line that copied the user specified
        timerange into the array used by UVGET was commented out so all
        the data were being read for scaling and plotting, although the
        timerange was used when placing points into the plot. Was this
        why VBPLT was so slow?
        Moved nowhere.

 7941.  December 30, 1993        $APGNOT/FITLD.FOR         Phil
        More changes:
        (1) Added data selection by source, qualifier, calcode and
        timerange.
        (2) Changed error codes for data out of sequence and bad day
        number, they could be confused with EOT codes.
        (3) Tidied up the logic for concatanation and # files to
        skip/read, depending on whether incoming data is from tape or
        disc.
        (4) Ensured that file being written to is marked with write
        status always, this flag was lost when concatanation occurred.
        (5) Fixed the antenna renumbering logic, and also when #
        antennas increases due to new antennas in an incoming file the
        NO_ANT keyword in the CL table was not being set, fixed.
        (6) Removed the polzn cross-hand kludge, the data are now
        correct coming out of the correlator.
        Also updated help file.
        Moved nowhere.

 7942.  January 1, 1994         ABOUT                 Eric
        New pseudoverb to display the list-like help files.  Changed
        HELPS and AU1A to do the verb, POPSDAT.HLP and NEWPARMS.001 to
        declare the pseudoverb, and created ABOUT.HLP to describe the
        verb.  Changed woprding of HELP.HLP to account for ABOUT.
        Changed HLPA, HLPB to ignore ZZ*.HLP files.
        Changed VERMAT, TXTMAT, ZTOP0EN, ZTXMAT, and, $APLUNIX/ZDIR to
        allow the help file name to be somewhat longer than 8 characters
        (plus the .HLP).  Changed call sequence to ZTXMA2 in areas
        $APLDEC, $APLSUN, $APLUNIX, $APL3090 and changed OFMDIR to
        match.
        Also created SHOPH.FOR to create the list-like help files
        and to maintain them.  One runs SHOPA on a list of the help
        files, sorts the output, and then runs SHOPH.  This last copies
        the precursor and all other lines from the pre-existing list
        file in $HLPFIL up to the first blank line.  Then it compares
        the list in $HLPFIL with the one it has made from the sorted
        SHOPA output.  If they are different, the user is told of the
        need to update.
        Created list files in $HLPFIL:
        ZZADVERB.HLP     ZZIMAGING.HLP    ZZRUN.HLP
        ZZANALYSIS.HLP   ZZINFORMAT.HLP   ZZSINGLEDI.HLP
        ZZAP.HLP         ZZINTERACT.HLP   ZZSPECTRAL.HLP
        ZZASTROMET.HLP   ZZLINE.HLP       ZZTABLE.HLP
        ZZBATCH.HLP      ZZMAP-UTIL.HLP   ZZTAPE.HLP
        ZZCALIBRAT.HLP   ZZMODELING.HLP   ZZTASK.HLP
        ZZCATALOG.HLP    ZZOBSOLETE.HLP   ZZTV-APPL.HLP
        ZZCOORDINA.HLP   ZZOOP.HLP        ZZTV.HLP
        ZZCUBE.HLP       ZZOPTICAL.HLP    ZZUTILITY.HLP
        ZZDELETE.HLP     ZZPARAFORM.HLP   ZZUV-UTIL.HLP
        ZZEXT-APPL.HLP   ZZPLOT.HLP       ZZUV.HLP
        ZZFITS.HLP       ZZPOLARIZA.HLP   ZZVERB.HLP
        ZZGENERAL.HLP    ZZPOPS.HLP       ZZVLA.HLP
        ZZHARDCOPY.HLP   ZZPRINTER.HLP    ZZVLBI.HLP
        ZZIMAGE-UT.HLP   ZZPROCEDUR.HLP
        ZZIMAGE.HLP      ZZPSEUDOVE.HLP
        Moved nowhere.

 7943.  January 3, 1994           WFCLN                 Eric
        Changed WFCLN to set some parameters into the clean object(s)
        before calling the uniform weighting instead of after.  Changed
        QUVUTIL routine OUNFWT to avoid a divide by 0.  Both of these
        will stop a bug in which CHINC = 0 slipped through and caused a
        0 divide.
        Moved nowhere.

 7944.  January 5, 1994          CLPLT                  Phil
        Added the SYMBOL adverb to CLPLT. Also updated the help file.
        Moved nowhere.

 7945.  January 5, 1994              PLCUB                     Eric
        Made all the buffers much bigger.  It was  limited to rows of
        512 without really checking for it!
        Moved nowhere.

 7946.  January 5, 1994             HELP                       Eric
        Corrected all versions of ZTXMA2.C to truncate the file name at
        the last period, not the first.  Names like VLAD.OLD.HLP were
        confusing it.  Changed AU1A to put the full name of the help
        file in the displayed title, not the min match.  Also COMRPL'd
        HELPS which I forgot to do in public areas.
        Moved nowhere.

 7947.  January 5, 1994           PRTAC                       Eric
        Pat's neat fix to the file deletion problem has an interesting
        sidelight.  By forking from a running process, all file lock
        connections are inherited by the forked process and hence held
        for 5 minutes until it departs.  This can be nasty.  PRTAC
        called LPCLOS before closing the accounting file which was then
        locked for 5 minutes while the task shut down waited (bleating
        forlornly every 30 seconds) in ACOUNT called by DIETSK.
        We will have to check that all functions doing line printing
        close their open files before calling LPCLOS.  Sigh...
        Moved nowhere.

 7948.  January 6, 1993          RTIME                 Eric
        New task to test machine timings on loops.
        Moved nowhere.

 7949.  January 6, 1993        $APGNOT/AFILE.FOR          Phil
        Two minor changes, first the experiment numbers for MkIII
        correlations are now > 1000, so had to change the format for
        reading that number from I3 to I4. Secondly, the logic for
        selecting by processing date collapsed if an observation was
        correlated over the New Year, fixed so that it checks the year
        number also.
        Moved nowhere.

 7950.  January 6, 1994        Socket codes                Eric
        Removed the getsockopt calls for tcp max segment size.  The
        answer was not actually used in the tape codes.  The TV code
        used it, so I changed the TV code to be like the tape code,
        raising buffer sizes should that ever be needed.  Changed
        $APLUNIX versions of ZVTPO2, ZVTPO3, ZVTPX2, ZVTPX3, ZSSSO2, and
        ZSSSX2.  Lots of link edits.
        Moved nowhere.

 7951.  January 7, 1994        $APGNOT/MODVF.FOR           Gustaaf
        MODVF stands for MODel Velocity Field. This task will create
        a model of a galaxy velocity field. As in GAL, information
        about the orientation of the galaxy with respect to the
        observer is contained in APARM. Detailed information about the
        rotation curve and warps are read in from INFILE. The warp is
        specified in terms of the angular momentum vector change from
        ring to ring, which makes it far easier to enter specific warp
        models than previous similar software, where warps had to be
        given in terms of position angle and inlination.

 7952.  January 7, 1994       $APLUNIX/ZCPU.C             Pat
        Added an #ifdef for __linux__ so that it gets the CPU units
        right.  Now it won't show 100 cpu seconds for 60 seconds of
        wallclock time anymore!
        Moved nowhere.

 7953.  January 7, 1994       $APLUNIX/ZLPCL2.C           Pat
        Removed the code that did a fork() and had the child process
        sleep for a while and then delete the scratch file.  This was
        causing all sorts of problems as the child inherited the locks
        of the parent.  Instead, made it do a popen() on a pipe to a
        shell command "((sleep xxx; rm -f yyy)&)".  Thus a grandchild
        process will do the sleeping and removal, and will not
        (hopefully) have any locks as the process is a simple shell, not
        a copy of AIPS or LWPLA or whatever.
        Moved nowhere, but I have to do the IBM version too...

 7954.  January 7, 1994      $YSERV/XAS.SHR               Pat
        Mostly editing the comments in the Makefile so that the LIBDIRS
        and INCDIRS variables can possibly be set automatically via
        INSTEP1 (wish I had time to learn more on make; it'd be easier
        I'm sure).  Also put in an "install" target so that you have to
        type "make" to make xas, and "make install" to move it to the
        destination (usually $LOAD).  I think "make install" will do
        everything if it all needs done.
        Moved nowhere.  Why do I do these things on Fridays?

 7955.  January 10, 1994        SAD                      Eric
        Put back my latest version.  It offers the option of trying 2
        sources whenever the residuals of a single-source fit are
        excessive.  The MF file has more (!) columns for polarization
        and for the residual rms, peak, and sum.  The help file was
        improved rather generally.  I don't think this is the final
        version of SAD, but it should be good enough to release.
        Moved nowhere.

 7956.  January 10, 1994        SOUELV                  Leonid
        The longtitude - STNLON(ANTNO) was multiplied by coefficient
        1.002738. But the longtitude need not to be multiplied by a
	coefficient. So it has been remooved.
        Moved nowhere.

 7957.  January 10, 1994        CLCOR                   Leonid[B
        The new option 'ANAX' has been added for correction of phase,
        delay and rate for antennas' axis shifts. The AN table is modified
        as well.
        Moved nowhere.

 7958.  January 11, 1994         LP close                 Eric
        Changed JTRIM to terminate strings on all non-printable
        characters (char < ' ') except "ht" (horizontal TAB) and to not
        count ht as a printable character when looking for the last
        non-blank.  Created $APLGEN/ZTAB to return a ht character to
        JTRIM.   Changed ZLASC2 and ZLPCL2 to send messages only up to
        64 characters and corrected the placing of any remaining
        characters in a 2nd message line.  Simplified the code (JTRIM
        will fix new-line and other odd characters and messages do not
        need to be blank filled if they are null or new-line
        terminated).  Probably ought to relink everything for JTRIM, but
        did not do so yet.
        Moved nowhere.

 7959.  January 12, 1994          MSGWRT                  Eric
        Changed onset of file too big message from 750 to 5000 and
        frequency from every 21 messages to every 210.
        Moved nowhere.

 7960.  January 13, 1994         $APLNOT/BPASET.FOR        Phil
        Changed a variable defining a buffer size for the sort routine
        from 4096 to UVBUFSL, this was causing the application of
        bandpasses from the AT to fail when a large number of channels
        were used.
        Moved nowhere.

 7961.  January 13, 1994       ZACTV8, ZACTV9               Eric
        Added a ZERROR call message to all possible error completions in
        ZACTV9 including those from child and grandchild.  The latter
        would not get back to ZACTV8 to call ZERROR and so were omitted
        or avoided by calling exit rather than return.  Many sources of
        error were then left more mysterious than they needed to be.
        Dropped the ZERROR call from ZACTV8 as a consequence.  Also made
        this fix to $APL3090/ZACTV9 upgrading it to use zmsgwr.
        Moved nowhere.

 7962.  January 13, 1994         PC found                Eric/Pat
        Changed a number of routines for inconsistent call sequences
        involving character strings.  These matter since UNIX systems
        changed a Fortarn string into 2 arguments, putting them
        somewhere in the call sequence (time and OS dependent places).
        In other cases, the call sequences just were missing arguments.
        CORER     A subroutine had too few arguments, so IERR was never
                  set.
        UVLSF     A call to HENCOO had the out class given twice and no
                  out sequence number for the BASFIT file.
        XBASL     Used a floating buffer to avoid having another
                  character variable for a ZPHFIL/ZOPEN pair.
        XGAUS     Used a floating buffer to avoid having another
                  character variable for a ZPHFIL/ZOPEN pair.
        CANPL     Used a dummy 0 for an in/out character buffer in a
                  call to close ZLASIO, left out 2 arguments (used) in
                  calling its own CNTPLT and CANVEC.  This could never
                  have worked.
        DCONV     Sent character string 'BLNK' (as if that were the
                  magic value blanking used in AIPS) to LINIO.  A real
                  was expected - and used most places in DCONV.
                  Droppped unused variables.
        FILLR     Sent 2 arguments to MCANT where none were declared or
                  used, used a CHAR argument to ZILI16 and ZC8CL where
                  an integer is expected.
        GSCAT     Left out the offset argument in a call to CHFILL.
                  This must have never been used (blanked character
                  column in the GS table).
        HOLGR     The DFT routine called the data retrieval routine
                  without one of its arguments.  Changed call to DFT to
                  pass that one through.
        IMLIN     Used a floating buffer to avoid having another
                  character variable for a ZPHFIL/ZOPEN pair.  Removed
                  unused variables, corrected list-directed READ from a
                  string with calls to GETNUM.
        IMLOD     Fixed several calls to ZC8CL in the non-FITS sections.
        JMFIT     Changed 1 call to H2WAWA which was passing in a
                  character string where a hollerith was required.
        MK3IN     Changed 1 call to TABIO for clos which used a
                  character string for a dummy argument.
        SDTUV     Changed 1 call to TABIO for clos which used a
                  character string for a dummy argument.
        UVLOD     Changed several calls to TABIO for clos which used a
                  character string for a dummy argument.  Changed a call
                  to GETCRD that used a dummy string in place of an
                  integer.
        UVSIM     Changed 4 calls to CHR2H used to attempt to set real
                  character strings to blank.
        VLBIN     Changed 1 call to TABIO for clos which used a
                  character string for a dummy argument.
        The OOP package and more still need this done.
        Moved nowhere.

 7963.  January 14, 1994       Deletions                     Eric
        Moved $APGNOT/BLFIT.FOR and $HLPFIL/BLFIT.HLP to $APLCONTR since
        this routine was not upgraded when the CL file format was
        changed and is reputed not to have worked properly.  It can be
        rescued if anyone needs it and wants to do the work.  Also moved
        $INC files CATDAT.INC, CATREC.INC, and CONDAT.INC.  They are not
        used (fortunately since they are in DEC PDP-11 specific forms).
        Moved nowhere.

 7964.  January 16, 1994      New adverbs                   Phil
        Created the new adverb set IN4NAME, IN4CLASS, IN4SEQ, IN4DISK
        and IN4TYPE. These will be needed for the new VLBA/VLBI task
        VBGLU that will glue together data from multiple passes through
        the VLBA correlator. It will have to deal with 28 channel MkIII
        Mode A data that requires 4 passes, so I will have to deal with
        up to 4 simultaneous input files. May as well do it properly.
        Created .HLP files for all the new adverbs.
        Moved nowhere.

 7965.  January 16, 1994        More from the PC              Eric
        Corrected:
        MAPCOP   Corrected a dummy argument to CATDIR to be character.
                 The routine got it right 5 lines after getting it wrong
                 which is why it was found.
        TABINI   Corrected a call to ZDESTR using a hollerith file name.
                 It could never have worked for correct error recovery.
        GRITP    One buffer was left character rather than hollerith in
                 calls to ZTPMIO and ZC8CL.  It would not have read
                 tapes.
        RSTOR    The parameter OLD was left out of the declaration of
                 FILES causing IERR not to be set and hence the task
                 proceded even if there were problems with the inputs,
                 scratch files, etc.
        IMVIM    One of the clean up on error calls to DELEXT sent in
                 IERR for the version and no address at all for IERR.
                 It would have blown up if called.
        TVMON    Call to AIFM gave an extra, unused buffer.
        GAPLT    Dropped unused arguments to GAPANT.
        BLING    Added IRET to declaration in INITNL.
        CXCLN    Changed a pile of get and put routines to use one of
                 the 2 parameters as a DUMMY or CDUMMY.
        FRCAL    Changed a pile of get and put routines to use one of
                 the 2 parameters as a DUMMY or CDUMMY.
        OHGEO    Changed a pile of get and put routines to use one of
                 the 2 parameters as a DUMMY or CDUMMY.
        SCMAP    Changed a pile of get and put routines to use one of
                 the 2 parameters as a DUMMY or CDUMMY.  Corrected a
                 long line that caused an object name to be 3 rather
                 than 32 characters long.
        WFCLN    Changed a pile of get and put routines to use one of
                 the 2 parameters as a DUMMY or CDUMMY.
        Moved nowhere.

 7966.  January 17, 1994            BLING               Chris
        Fixed a misplaced end-of-loop that caused multipolarization
        data not to be written to the BS table correctly.
        Moved nowhere.

 7967.  January 18, 1994            SOUELV              Leonid
        Returned back the coefficient 1.002738D0 after STNLON(ANTNO)
        at line ANTLST.
        Moved nowhere.

 7968.  January 21.1994             SNPLT               Leonid
        Fixed two bugs occured at OPCODE 'PLIF'.
        1. In the labelling in the header of the plotfile the second line
           was too long when OPTYPE's represantation requires more than
           5 characters: AMP - Gain amp, PHAS - Gain phs, DOPL - doppler
           offset, etc. As the result the antenna name was trancated.
           I was especially confusing at the VLBA case when the name were
           truncated to "VLBA_".
           The second line has been splitted on two lines. So the header
           has three lines now.
        2. If FRING failed to find solution for a particular antenna,
           SNPLT stopped plotting at that antenna and closed down after
           reporting an error even though there may be perfectly valid
           solutions for the next antennas of the list.
           The new version prints 'NO DATA SELECTED' for the 'bad' antenna
           and continues analysis of the next ones. The antenna's number
           and name is printed now to help understanding of the process.
        Moved nowhere.

 7969.  January 24, 1994           FITLD             Phil
        Usual long list of changes:
        (1) Added code to skip over non FITS files if encountered.
        (2) Ensured that when multiple files are open for writing that
        the HI records are piped to the correct one.
        (3) Ensured that if a file is just created the LSTTIM (time of
        last record is reset).
        (4) Changed GET3DT error codes from 2, 3 -> 12, 13 to avoid
        confusion with error codes from other routines.
        (5) Fixed error that caused catblk to be copied into wrong save
        array when multiple files open.
        (6) Ensured that write flag is set on current output file.
        (7) Changed some call sequences to ensure that character strings
        are not passed as dummy non-character variables - for PC-AIPS.
        (8) Added code to add day number offset to VLBA-style tables on
        the fly as they are read in, maybe should improve this.
        (9) Added code to skip over source numbers <= 0
        (10) Tidied up the code that counts bad records.
        (11) At end of UV data have tapio read to eof, rather than skip.
        If there were only a few unknown records (due to padding) then
        the skip option would jump over the next file.
        (12) Change the logic for renumbering sources/antenna during
        concatanation, now only keep a list of those to be changed
        rather than all possible ones. This was causing a very subtle
        bug.
        (13) Have the data mapping function switch the sign of all
        sidebands only when cross-power data encountered. This is a very
        complex area.
        Moved nowhere.

 7970.  January 17-21, 1994           OOP                    Eric
        Changed all calls to GET and PUT routines in $QPGOOP, $APGOOP,
        $QOOP, and $APLOOP (and there are a lot of them) so that they
        use a non-character and a character variable in the correct
        place.  Also changed PUTs and other places to use the
        parameterized data type codes (OOAINT, OOCAR, etc.).
        Moved nowhere.

 7971.  January, 24, 1994       AREAS.DAT, APLULTRIX         Pat
        Made new area $APLDEC/ULTRIX = $APLULTRIX, moved routines
        ZFRE2, ZDELA2, and ZCREA2 from $APLDEC to $APLULTRIX, moved
        $APLALPHA versions of same routines to $APLDEC, and modified
        AREAS.DAT accordingly.  Ran AREAS locally; the MNJ _should_ take
        care of it elsewhere.
        Moved nowhere.

 7972.  January 25, 1994          VBPLT                 Phil
        When averaging in time VBPLT was losing track of the subarray
        number in the scaling routine. Fixed.
        Moved nowhere.

 7973.  January 25, 1994          SNPLT                 Leonid
        I splitted the second line of the header on two lines to exclude
        possible truncating of IF number when OPTYPE is represented by
        many characters, for example 'multyband delay'
        Moved nowhere.

***********************************************************************

        Changes while 15JAN94 was NEW:

***********************************************************************

 7974.  January 28, 1994     $HIST/CHANGE.DOC (this file)           Pat
        Initialized this file as part of the quarterly update.
        Moved nowhere, but also edited TST (15JUL94) version
        accordingly (i.e. emptied it).

 7975.  January 30, 1994         AIPS, VERBS                 Eric
        Moved the VERBS* subroutines inside the AIPS* program files.
        VERBSC referred to some routines which are in AIPSC only,
        causing unresloved external references.  The VERBS routines are
        only used by the single programs anyway.
        Moved from 15JUL94 this date.

 7976.  January 30, 1994            ZDCHIN                  Eric
        Added the PAPC include and tests on KAP2WD.  This parameter was
        being used before the call to QINIT and hence the software did
        not have a chance to defend itself from bad settings in the SP
        file.  Now one should set the SP file to the largest for any of
        the 3 versions and the others should be able to take cae of
        themselves.
        Moved to 15JUL94 this date.

 7977.  January 31, 1994            LIBR                  Eric
        Changed most of the LIBR.DAT files - they specified $AIPSUB for
        $AIPGUNIX which is incorrect.  The $SYSUNIX one and a couple of
        others had already been corrected.
        Moved to 15JUL94 yesterday.

 7978.  January 31, 1994        PRTLIN, PRTALN            Eric/Dave
        Changed PRTLIN and PRTALN to call ITRIM rather than JTRIM for
        the page header line.  JTRIM was dropping the line due to the
        special character (form-feed) we wanted in the line.
        Moved to 15JUL94 this date.

 7979.  January 31, 1994       MX, ZEROSP                  Eric
        Dropped the option of allowing ZEROSP(2-4) to give the widths of
        a finite gaussian as the zerospacing.  It takes too many cells
        to represent one for the gridding to handle and messes up the
        beam.  We need to meet this need in other ways - placing extra
        vis samples in the uv data set.  Also shortened long line in MX
        output.
        Moved from 15JUL94 this date.

 7980.  February 1, 1994       FILLM.HLP, BAND.HLP         Gustaaf
        Added the Q-band information to the HLP files. FILLM already
        handled Q-band for some time, but there was no way for the
        user to know.
        Though not in the 'urgent' category, moved it to 15JAN94
        nonetheless.

 7981.  February 1, 1994       TBSUB, TABLE               Eric
        Corrected TABLE.FOR subroutine TABOPN to set EXISTS =
        STATUS.EQ.'READ'.  Otherwise, it set NCOL et al. to zero when
        trying to create a table (with a default OUTVERS).  It then
        failed of course.  Fixed two character declarations in TBSUB,
        one of which caused the first character of each column to appear
        as the column label of the first output column, and the other
        output labels were blank.
        Moved from 15JUL94 this date.

 7982.  February 1, 1994         UVCOP                  Phil
        UVCOP forced the first IF-offset in the FQ table to be 0.0 even
        when no IF selection or freq. scaling was being done. Added an
        IF statement that forces this only when necessary.
        Moved from 15JUL94 this date.

 7983.  February 1, 1994          FRING                Phil
        FRING selects/calibrates/flag etc the data to a scratch file and
        does the fitting from that scratch file. However it sets up its
        solution intervals based on the NX table from the original input
        file. When any data selection was done the solution intervals
        could be wrong because there was no check made to see if the NX
        record read was a deselected one. Added those checks and we now
        get the correct solution intervals on short-scan VLBI data.
        Moved from 15JUL94 this date.

 7984.  February 2, 1994       $APLOOP/UVUTIL.FOR            Bill C.
        UVCLIP wasn't handling the case of doing Ipol when one of the
        two parallel hands was already flagged.  Now Ipol is computed
        from either of the two parallel correlators if only one is good.
        Moved from 15JUL94 this date.

 7985.  February 2, 1994   $APGNOT/MAPBM                      Bill C.
        New task.  Uses a VLA raster made in holography mode (with no
        reference antennas) and makes images of the BEAM in I, Q, U and
        V with RMS uncertainties in each.  The input is a calibrated
        multisource uv data set and the total and polarized intensities
        of the source.  In Q, U and V the resultant images are
        fractional polarization and the Q and U images can be used by
        VLABP to correct widefield snapshot VLA images for off axis
        instrumental polarization.  Also help file.
        Moved from 15JUL94 this date

 7986.  February 2, 1994    $QPGNOT/VLABP                   Bill C.
        New task. Task to apply widefield instrumental polarization
        corrections to a snapshot VLA polarization image.  The imput
        images can be either a set of I, Q and U images or a
        polarization cube containing the three and a set of instrumental
        polarization images.  This task interpolates and rotates the
        instrumental polarization image to align with the observed
        image, rotates between Q and U to counter the effects of the on
        axis calibration of the off axis instrumental response,
        multiplies times the Ipol image and subtacts from the (Q + iU)
        image.  The parallactic angle of the observation can be passed
        either as a header keyword or an adverb.  This will ONLY work
        for snapshot images.  Also help file.
        Moved from 15JUL94 this date

 7987.  February 2, 1994        $QPGNOT/FRING                 Phil
        The FRING fix I put in yesterday did not check for the code
        running off the end of the NX table. Now does.
        Moved from 15JUL94 this date.

 7988.  February 2, 1994         FITLD                      Phil
        3 small changes. 1) allow FITLD to look at more than one disc
        when deciding on concatanation; 2) Benson has moved the
        correlator history records to the base header (where they should
        have been all along) - added code to ensure that the string
        FITLD is appended to these records; 3) when an antenna number is
        changed during concatantion and as a result a baseline direction
        has to be changed it was not doing it, fixed now.
        Moved from 15JUL94 this date.

 7989.  February 3, 1994       $SYSSOL/LIBR.DAT             Pat
        The $AIPGUNIX area only references two libraries: APLSUB and
        APLSOL (in this case).  It needs to repeat these for the loader
        to resolve all references, at least when shared libs are not
        used.
        Moved from 15JUL94 this date.

 7990.  February 3, 1994      $SYSSUN/COLOR,PRINT           Pat
        These shell scripts were never part of AIPS formally.  Modified
        them to use the AIPS printing scheme, automatically selecting
        the first appropriate printer if none is specified, and allowing
        the PR=n command line printer selection.
        Moved from 15JUL94 this date.

 7991.  February 3, 1994      AJAX.FOR                      Pat
        As part of the clean-up (sorry, couldn't resist!) I do with the
        quarterly update, I noticed that this task failed to link on
        Solaris.  It has a call to DESCR which is in AIPSUB, and AIPNOT
        tasks are not supposed to call AIPSUB routines.  So I moved it
        to AIPPGM.  This cures the problem.
        Moved from 15JUL94 this date.

 7992.  February 4, 1994     WFCLN.FOR            Bill C.
        Fixed serious bug in WFTAV which averaged the times in the uv
        data set to determine the average observing geometry.  This was
        being done in solar time which caused serious problems if there
        were observations over several days.  Now it averages in
        sidereal time modulo 1 day.
        Moved from 15JUL94 this date.

 7993.  February 9, 1994       FITTP, UVLOD, FITLD        ERIC
        Changed FITTP to leave the projection type on the U, V, and W
        random parameter.  It does this as 'UU  -SIN' for DONEW false
        and as 'UU---SIN' for DONEW true.  Changed UVLOD to recognize
        either 'UU  ' or 'UU--'.
        Moved from 15JUL94 plus did FITLD myself.

 7994.  February 11, 1994       $SYSUNIX/TVDEVS.SH      Pat
        In Multi-site configurations (i.e. where there is more than one
        SITE specified in HOSTS.LIST; this is useful when you want
        opposite endian architectures to share the same $AIPS_ROOT) the
        selection of HOSTS, TVSERVS and XTERMS was not discriminating on
        the SITE name.  Fixed via a simple "grep".
        Moved from 15JUL94 this date.

 7995.  February
