-----------------------------------------------------------------------
;  Copyright (C) 1995-1997
;  Associated Universities, Inc. Washington DC, USA.
;
;  This program is free software; you can redistribute it and/or
;  modify it under the terms of the GNU General Public License as
;  published by the Free Software Foundation; either version 2 of
;  the License, or (at your option) any later version.
;
;  This program is distributed in the hope that it will be useful,
;  but WITHOUT ANY WARRANTY; without even the implied warranty of
;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;  GNU General Public License for more details.
;
;  You should have received a copy of the GNU General Public
;  License along with this program; if not, write to the Free
;  Software Foundation, Inc., 675 Massachusetts Ave, Cambridge,
;  MA 02139, USA.
;
;  Correspondence concerning AIPS should be addressed as follows:
;         Internet email: aipsmail@nrao.edu.
;         Postal address: AIPS Project Office
;                         National Radio Astronomy Observatory
;                         520 Edgemont Road
;                         Charlottesville, VA 22903-2475 USA
-----------------------------------------------------------------------
     This file must be used to record any changes made to the the
master version of AIPS kept in Charlottesville.  An entry is:

   line 1:   Date Program name Your name
   line 2:   What was done (may span multiple lines)
   line n-1: Where has this change been moved (e.g. 15JUL94, nowhere)
   line n:   Blank

 The details of line 1 are important since programs are used to find
 specified strings and do conversions on them.  It MUST be typed as
 follows: 1 blank, 4 digits, a period, two blanks, then the Month,
 day, comma, year, some space, a title, some more space, your name.


                    Changes to 15JAN96

***********************************************************************

        Changes while 15JAN96 was TST:

***********************************************************************

***********************************************************************

 8670.  July 3, 1995           $SYSUNIX/LINK                 Pat
        Fixed a subtle but nasty bug in LINK.  If the LINK environment
        variable set in the $SYSLOCAL/LDOPTS.SH file contained a qualifier
        that started with -n (e.g. -native on SunOS), the bourne shell
        command "LINK=`echo $LINK | sed -e ...`" to change it to something
        else will not work as expected.  "echo" will see the "-n" and
        apparentyly ignore the rest of the string, thus resetting the
        variable to empty.  In the LINK script, this was happening to the
        LDOPTS variable when it tried to "squeeze out extra blanks" via a
        sed command like the above.  Removed the offending command (we can
        live with a few extra spaces).
        Moved from 15JUL95 this date.

 8671.  July 4, 1995           ZACTV8, FILEBOX              Eric
        A couple of fixes I could not do during the freeze:
        AU5C    Fix the default naming for the 1st field
        ZACTV8  Be self-defensive on the returned path name
        Moved to 15JUL95 this date.

 8672.  July 10, 1995             VBGLU                    Chris
        Increased MAXBAS, which dimensions some bookeeping arrays, to
        1,000,000.  The previous value of 30,000 was far too puny for
        for some VLBA experiments.  This is a band-aid solution: there
        must be some way of getting around the need for these arrays.
        Moved nowhere.

 8673.  July 11, 1994            Help files                 Eric
        Fixed the one-liner for WTSUM and re-ran SHOPH.  This stated
        that changes were needed to 8 ABOUT files: ANALYSIS, ASTROMET,
        IMAGING, SINGLEDI, SPECTRAL, TABLE, TASK, and VLBI.  Updated
        these help files and changed COOK13 and COOK0 and RECIPE.TEX to
        adjust for it all.
        Moved to 15JUL95 as needed.

 8674.  July 12, 1995             FILEBOX                   Eric
        Redisigned FILEBOX in AU5C to write a complete backup file in
        the user's area with a related (but scratch) name and then zap
        and re-write the output file.  The backup is kept if there is
        any error and its name reported to the user.  The $FITS area is
        used only if the user does not include a logical area in the
        input file name.
        Moved to 15JUL95 this date.

 8675.  July 12, 1995           $APGNOT/CLCOR.FOR          Leonia
        I have discovered a confusion with left/right hand coordinate
        system in OPCODE=ANTP. Left handed coordinate system is used
        in VLA. Right handed coordinate system is used in VLBA. But
        the task required opposite coordinate system for both VLA
        and VLBA to provide the correct correction.
        I think the task worked succesfully with VLA only because
        users used default value of CLCORPRM(4)=0. It provided
        right hand coordinate system (in accordance with HELP) which
        is wrong for VLA but fits with the formulas in the task.
        Users have not used probably the OPCODE=ANTP for VLBI, that
        is why the wrong definition of the coordinate systems had not
        detected early in this case.
        I have changed the codes to have an agreements with HELP and
        make the task provide a correct correction with default
        value of CLCORPRM(4)=0 for VLBA and VLA.
        The relevant change of HELP has been done as well.
        Moved nowhere

 8676.  July 12, 1995          $APGNOT/UVCRS.FOR          Leonia
        The task has not worked if a start day is more than 1.
        I have fixed it
        Moved nowhere

 8677.  July 12, 1995          $YPGNOT/VPLOT.FOR          Leonia
        The task plots different baselines for ANTENNAS=0,
        BASELINE=list and BASELINE=0, ANTENNAS=list. Inspite of
        exhaustive comment in HELP complains occurs somtimes.
        I have added a couple of warnings.
        Moved nowhere

 8678.  July 12, 1995          ZACTV9 in APLUNIX         Chris
        Stopped ZACTV9 changing the process name of the debugger
        to that of the task.  Revision 3.0 and later of the
        SPARCworks debuggers use the process name to search for
        icon files and to obtain license-manager tokens and will
        not run if the process name is messed with.
        Moved to 15JUL95 on this date.

 8679.  July 12, 1995             SPLIT                 Chris
        Added a trap to detect when SOUNDX has stripped all of
        the requested sources from the SOURCES adverb because they
        don't match the frequency ID selection.  The program will
        now terminate when this happens instead of interpreting
        the now-empty list as a request for all sources.
        Moved nowhere.

 8680.  July 12, 1995               GNU                     Eric
        Created a GNUGPL.HLP from the short text in the help and the
        full GPL text in the Explain sections.  Changed AIPS.FOR to put
        out some lines witb info.
        Moved to 15JUL95 this date.

 8681.  July 13, 1995           PP and PROG             Pat
        (separate issues).  Modified PP so that you can debug the
        preprocessor itself by saying PP DEBUG module-to-process.  It will
        use a PP.EXE in current directory if it's there, otherwise the
        PP.EXE in $SYSLOCAL.
        Modified PROG so that it uses PRINTENV, not printenv.
        Moved to 15JUL95 this date.

 8682.  July 13, 1995              PP                       Eric
        Removed "new version" message - it's not that new anymore.
        Corrected variable name that caused it to include the gnu
        copyleft stuff at first level includes.
        Moved to 15JUL95 this date.

 8683.  July 13, 1995             SCMAP                     Eric
        Corrected saving of WINdows - it used the old 50 boxes dimension
        rather than the parameterized one (now 500).  Later routines
        were correct and OOP defended itself.
        Moved to 15JUL95 this date.

 8684.  July 13, 1995           PLAYR                       Eric
        Corrected minor errors in help file.  Typed up a new
        HLPPLAYR.HLP file since the old one was lost in a putbck
        screwup.  Corrected the code to allow for HLPPLAYR and to see
        that graphics planes are off when empty.
        Moved to 15JUL95 this date.

 8685.  July 14, 1995            OTFUV                      Eric
        Changed OTFUV to add time smoothing - an averaging interval and
        an output increment - to the task.  This should save disk space
        without comromising the imaging.  It has suprisingly large
        effects on SDGRD's output, but after baseline removal an
        averaging of 2 or 3 has only a little effect.
        Moved to 15JUL95 this date.

 8686.  July 14, 1995        $APGNOT/ACCOR                  Leonia
        The task has put unit in the SN table in the case of data absence
        for a given time interval. It provided some errors in result of
        application of output SN table near gaps of the data.
        I have changed the unit on blank.
        Moved nowhere

 8687.  July 18, 1995              EGETNAME                 Eric
        Fixed AU8 to do EGETNAME again.  It got lost in the code
        clean-up accompanying the new GET4NAME...
        Moved to 15JUL95 this date.

 8688.  July 18, 1995           IMAGR, SCMAP                 Eric
        Fixed both tasks to force the IMSIZE to be a power of two.
        Changed SCMAP to set NITER to 300 if the user sets it <= 0.
        Moved to 15JUL95 this date.

 8689.  July 18, 1995            AIPS                        Eric
        Tried centering the GNU message to see if that's more readable.
        Moved to 15JUL95 this date.

 8690.  July 18, 1995    $APGNOT/PCLOD.FOR   $HLPFIL/PCLOD.HLP  Athol
        Upgrade PCLOD, which reads VLBA pulse-cal information from
        an ASCII text file, to correctly handle data with multiple
        freq. ID's. In addition, now reads the NX table to assign source
        ID's to the SN table entries and is more robust in handling
        mixed state count/pulse cal. modes.
        Moved to 15JUL95 this date.

 8691.  July 20, 1995        $YSERV/XAS.SHR (Makefile*)       Pat
        Made some changes to the Makefile that avoid the need to edit the
        file on most systems.  Ultrix (4.3) needs its own; its version of
        make is more primitive.  Otherwise it works without editing on
        all our other architectures.  It now includes the -R option for
        Solaris 2.x systems to burn in the library locations.
        Moved to 15JUL95 this date.

 8692.  July 20, 1995               ZMSSRV                   Jeff/Eric
        Corrected the length argument to gethostbyaddr.  Giving it too
        much was okay with everybody until Solaris 2.4.
        Moved to 15JUL95 this date.

 8693.  July 20, 1995            HISTORY, SCMAP              ERic
        Added more adverbs to history from SCMAP and corrected HISTORY
        which had too small a buffer for possible adverbs to go to
        history.  Raised it from 50 to 500 - CLBOX requires 200.
        Moved to 15JUL95 this date.

 8694.  July 21, 1995            FITLD                        Phil
        We have known for a few weeks now that AIPS has problems in some
        areas, especially fringe-fitting, if the reference frequency is
        not in IF 1. FITLD would always sort the incoming VLBA data into
        increasing freq. order but would not adjust the reference IF
        from that labelled at the correlator. Now it performs the
        adjustemnt so that IF 1 always contains the ref. freq.
        Also increased the size of a couple of buffers to deal with the
        large number of channels being routinely generated by the VLBA &
        ATNF.
        Moved nowhere.

 8695.  July 21, 1995 $QPGNOT/LPCAL.FOR & LPCAL.HLP  Kari Leppanen via Athol
        New polarization calibration task, contributed by Kari Leppanen.
        Algorithm is described in his thesis, also Leppanen, Zensus and
        Diamond, 1995, ApJ (in press).
        Moved to 15JUL95 this date.

 8696.  July 21, 1995   $APGOOP/CCEDT.FOR   CCEDT.HLP  K.Leppanen/ Athol
        New features in CCEDT which are required by new polarization
        calibration task LPCAL. These include the ability to write
        multiple CC output tables and an option to automatically
        select CC boxes satisfying a flux constraint.
        Moved to 15JUL95 this date

 8697.  July 21, 1995   $APGNOT/FITLD.FOR                        Phil
        When FITLD encountered a file with a large number of FQIDs the
        output FQ table did not correctly describe the data due to an
        indexing bug in labelling the rows of the FQ table as it was
        being written.  Fixed, also increased the maximum number of
        FQIDs to 100 from 10.
        Moved nowhere yet.

 8698.  July 24, 1995   $APGNOT/PCCOR.FOR                       Leonia
        The new task PCCOR corrects instrumental phase and delay offsets
        using pulse-calibration information in the PC table.
        Pulse-calibration tones are injected into the VLBA receivers and,
        in conjunction with the cable calibration system, can be used to
        measure and track instrumental variations in delay and phase
        between separate baseband converters. The measured phases of the
        tones allow the connection of the phase across all the IFs.
        The phase difference between two tones in the same IF allows the
        estimation of the instrumental single-band delay for that IF.
        The measurement of single band instrumental delay is however
        subject to ambiguity due to the 2pi*N ambiguity in measured
        phase. To resolve this ambiguity, the task uses observed
        visibility data taken on a calibrator. The ambiguity factor is
        determined by the condition of maximum coherence. The ambiguity
        factor is determined in this manner for each polarization, IF and
        antenna relative to the reference antenna. The adverbs, TIMERANG,
        CALSOUR and FREQID select both UV and PC table calibrator data.
        Currently PCCOR assumed only two tones are measured for each IF.
        Each FREQID and SUBARRAY must be processed separately.
        Moved nowhere.

 8699.  July 25, 1995     $AIPPGM/RECAT.FOR                  Pat
        Modified it to give very obvious warning messages if a Catalog
        Block file is either zero length or generates some other error
        when it tries to read it.  Also warn the user that files may
        need to be deleted by hand if one or more CB files generate
        problems on the read call.
        Moved nowhere yet, may move to 15JUL95 jury duty permitting...

 8700.  July 27, 1995     $HLPFIL/CLCOR.HLP                 Leonia
        The confusion with left/right hand coordinate system which I
        discovered in OPCODE=ANTP (see measage 8675) is a difference in
        the definition I was taught in Russia. I am sorry about the
        additional confusion. Right handed coordinate system is used
        in VLA. Left handed coordinate system is used in VLBA.
        I have edited HELP a litle bit to have an agreement with the
        correct definition.

 8701.  July 28, 1995        New adverb: DELCORR              Phil
        Added a new adverb to control the generation of the CQ table in
        FITLD. The default is to create the CQ table. Once generated,
        and when delay corrections are applied to VLBA data at a later
        point, the 2nd order corrections described in Athol's AIPS Memo
        90 will be applied to the data.
        Moved to 15JUL95 today.

 8702.  July 28, 1995             FITLD                      Phil
        Added the DELCORR adverb and ensured that CQMAKE is called if
        necessary.
        Moved this and all previous changes to 15JUL95 today.

 8703.  July 28, 1995             FITLD                      Phil
        Enabled FITLD to select data by frequency and/or bandwidth.
        Moved nowhere.

 8704.  July 30, 1995     Update HLP files                   Athol
        Update some help files in preparation for the new release:
        FXVLB.HLP:  Add EXPLAIN section
        ANTAB.HLP:  Document DPFU=RCP,LCP mode more clearly
        PCLOD.HLP:  Change contact person for PCLOD text files.
        Moved to 15JUL95 today.

 8705.  30 July 1995     VLBA delay decorrelation           Athol
        Perform delay decorrelation corrections for VLBA data using
        information in the CQ table. These include spectral averaging
        and segmentation loss corrections, which are further described
        in AIPS Memo. 90. This method replaces the previous use of the
        SPEC_AVG keyword in the AN table so that these corrections
        are implemented in a more robust form that is less sensitive
        to changes in the frequency structure of the uv-data during
        calibration. Several options which are possible in the VLBA
        correlator, but not yet implemented, have been anticipated
        in the new format. For further information, consult the
        AIPS Memo. mentioned above or type EXPLAIN FXVLB.
          Changes include:
        $INC/DSEL.INC - Add new arrays to contain the information
           required for the segmentation corrections.
        $APLNOT/SELINI.FOR - Reset new DSEL.INC variables.
        $APLNOT/GAININ.FOR - New call format to DSMEAR
        $APLNOT/DSMEAR.FOR - Re-written to use CQ information
        $APLNOT/FXSEG.FOR  - New routine to calculate segmentation
           losses.
        $APLNOT/DATGET.FOR - pass subarray number to DATCAL
        $APLNOT/DATCAL.FOR - add segmentation corrections, also
           warning if VLBA data with no CQ information but delay
           solutions are being applied.
        Move to 15JUL95 on Aug 1, 1995.

 8706.  30 July 1995       $APGNOT/SPLIT.FOR              Athol
        Disable copy of the GC and CQ tables. Also add a history
        record noting whether the CQ table in present and hence
        VLBA delay decorrelation corrections are activated.
        Move to 15JUL95 on Aug, 1, 1995.

 8707.  July 30, 1995        Convolving functions           Eric
        Add circular functions and a type 6 = BESSJ1(x)/x * exp.
        Changes:
        CONVFN   Add type 6 and circular storage
        GRDFLT   Add type 6 and circular; clean up code.
        BESSJ1   Steal from UVMOD.
        Change help files to mention type 6 (only):
        CONPL   GRIDR  HORUS    MX    UVMAP   CXPOLN   WFCLN
        IMAGR   SCMAP  MAPIT_MX
        Changed code to know type 6 name:
        CONPL   GRIDR  HORUS    MX    UVMAP
        Changed GRIDR help to recommend SDGRD and fixed XPARM variable
        name in PGEOM help to APARM.
        Moved nowhere.

 8708.  July 30, 1995               SDGRD                    Eric
        Changed QGRD6 and QGRD7 to do circular as well as separable
        convolving functions.  Changed SDGRD to allow for circular
        functions, Bessel functions, and functions specified in arc
        seconds rather than cells.
        Moved to 15JUL95 as SDGRD with revised subroutines appended.

 8709.  July 31, 1995               OTFUV                    Eric
        Change output header to put the SD 12m beam width in the Clean
        beam major and minor axis.
        Moved to 15JUL95 this date.

 8710.  July 31, 1995               LWPLA                   Eric
        The grey-scales have been put into characters ! through ~ - 94
        levels.  Unfortunately, this leaves a finite chance that a %
        sign will be the 1st character in a line.  PostScript says that
        % is a comment, so PostScript-like things which have not done a
        full POstScript interpretation of the file may think that these
        are comments (or even the %'s inside lines).  The TeX tool psfig
        is one of these not-too-intelligent processors.  Changed LWPLA
        for now to use characters & through ~, 89 levels instead.  We
        should probably use 255 levels via HEX, but the present change
        is enough for 15JUL95 to be safe.
        Moved to 15JUL95 this date.

 8711.  August 1, 1995            LWPLA                    Eric
        Changed from 89-level character representation of grey scales to
        255-level hexadecimal representation.  This doubles the size of
        the file (or the grey part anyway), but gives a smoother looking
        output.
        Moved nowhere.

 8712.  August 1, 1995         $APGNOT/UVCOP.FOR  $APLNOT/CQSEL.FOR   Athol
        Modify UVCOP to renumber the IF's and FQ_ID's in the CQ table if
        UVCOP applies frequency selection. New routine $APLNOT/CQSEL.FOR
        added for this purpose.
        Moved to 15JUL95 this date.

 8713.  August 1, 1995         $APGNOT/VBGLU.FOR                      Athol
        Disable copy of CQ table.
        Moved to 15JUL95 this date.

 8714.  August 2, 1995         $APGNOT/FITLD                          Phil
        When loading multiple files FITLD depends on the reference
        frequency keyword when deciding whether files should be
        concatanated. In one case we had 2 freqids and most files had a
        ref. freq corresponding to the first freqid, but the final file
        had the second as a ref. freq. In this case FITLD created a 2nd
        file. Fixed it to check all extant freqids when deciding if
        concatanation is possible.
        Moved nowhere.

 8715.  August 2, 1995         $YPGNOT/APCAL.FOR                      Athol
        Found a typographical error in an error message regarding
        missing gain curve information. The antenna number was reported
        incorrectly.
        Request pending to move to NEW.

 8716.  August 3, 1995         FITLD                                Phil
        Somehow some TAB characters crept into the code changes I made
        yesterday. The Sun compiler didn't mind but the IBMs caught
        them. Fixed.
        Moved nowhere.

 8717.  August 1 and 3, 1995           TVRGB and friends           Eric
        Added the adverb RGBGAMMA to POPSDAT.HLP and NEWPARMS.001, wrote
        a help file for it, and changed AU5E, OFMGAM, TVDEVICE, and
        GAMMASET.HLP to allow RGBGAMMA as an (optional) output adverb from
        GAMMASET.  Changed TVRGB and its help to provide the option of
        writing out a color PostScript output file (printed or saved)
        using all 24 bits.
        Moved nowhere.

 8718.  August 3, 1995       $APLNOT/CQMAKE.FOR                    Athol
        Fixed typographical error in buffer usage.
        Request pending to move to NEW.

 8719.  August 3, 1995          FITLD                            Phil
        Minor change to now overwrite CQ table when necessary. Will work
        now that Athol has fixed CQMAKE (see #8718).
        Request pending to move to NEW.

 8720.  August 3, 1995          $APGNOT/SPLIT.FOR                Athol
        Update to #8706, disable CQ table copy.
        Request pending to move to NEW.

 8721.  August 7, 1995            Buffer size                    Eric
        Raised buffer sizes (soma as small as 512) in $APGNOT for
        CANDY  DCONV  FETCH  GLENS  IMFLT  IMLIN  IMMOD  MANDL
        MATHS  MODVF  MOMFT  MOMNT  MWFLT  NINER  NNLSQ  PADIM
        PATGN  POLCO  RGBMP  RM     SHADW  SKYVE  SMOTH  SUMSQ
        WARP
        Changed grossly long strings in LWPLA.
        Moved nowhere.

 8722.  August 8, 1995           Excess copylefts           Eric
        Removed excess Copyleft statements from
        $AIPPGM:  AIPS    AIPSB   AIPSC
        $APGNOT:  BLWUP   CLCAL   FXPOL   STRAN   UVCOP
        $QPGNOT:  CVEL
        $QYPGNOT: UTESS
        $YPGNOT:  FRMAP   SNPLT   TVFLG   VBPLT   VPLOT
        Also removed the "All rights reserved" and "Copyright 1988"
        statements found in REQBAS, CVEL, FRMAP, VPLOT.  These are not
        legal and never were.
        Moved nowhere.

 8723.  August 8, 1995           KWICK                     ERic
        Changed the end-of-loop test which was subject to floating-point
        inaccuracy problems.
        Moved nowhere.

 8724.  August 9, 1995           $SYSAIPS/AREAS.DAT        Jeff
        Added $INCRL as $INC/NOTST/READLINE for GNU readline library
        include files.  I'm also regenerating the AREAS.{SH,CSH} scripts
        to instantiate the change.  (I'm pretending I speak C++ there...)
        Moved nowhere.

 8725.  August 10, 1995     $INCRL, $INCGNU, AREAS.*       Jeff
        Moved $INCRL to $INCGNU (as $INC/NOTST/GNU).
        Updated $SYSAIPS/AREAS.DAT, $SYSUNIX/AREAS.{SH,CSH} to reflect
        change in logical.
        Moved nowhere.

 8726.  August 11, 1995  $AIPSUB/RLHIST.FOR $APLGEN/ZGRLHI.FOR  Jeff
        RLHIST is the top-level routine for initializing (recalling)
        and saving cross-session command-line history for the GNU
        readline library's history-recall functionality.
        $APLGEN/ZGRLHI is simply a stub routine that returns IERR
        indicating that no history was saved or recalled.
        Neither of these routines actually access any readline
        library functionality.
        Moved nowhere.

 8727.  August 11, 1995      $AIPPGM/AIPS.FOR                   Jeff
        Added RLHIST calls to open/close 'RL' (GNU readline command-
        line history) files across sessions.  This functionality is
        stubbed until I put libreadline.a in place ($LIBR/GNU) on
        all arch's and check in the $APLUNIX/ZGRLHI.C routine.
        (Other preparatory changes are needed as well, such as to
        LIBR.DAT files.)
        Moved nowhere.

 8728.  August 13, 1995            OOP                      Eric
        Changed UVDESC to declare REFFPIX, the input uv data set's
        reference pixel.  Changed UVDATA (OUVOPN) to set it and UVUTIL
        (UVREFQ) to use it.  Relinked all of OOP.
        Moved nowhere.

 8729.  August 14, 1995      $APGNOT/ANTAB.FOR                  Athol
        Code that was designed to deal with experiments going over
        year-end failed when the uv-data reference date was later
        than the first day number found in the calibration file.
        Corrected this error. Task would fail reporting an invalid
        time stamp.
        Moved nowhere (should go to the patch area).

 8730.  August 14, 1995      $APGNOT/TABED.FOR                  Athol
        The table buffer sizes were inadequate to deal with the
        larger table records encountered with current data. This
        is particularly true of VLBA BP tables. Increased the
        buffer sizes from 2048 to 8192. Task would fail requesting
        a larger table buffer.
        Moved nowhere.

 8731.  August 14, 1995      $APGNOT/SNCOR.FOR                  Athol
        Option XFER, which transfers solutions from one IF to another
        with frequency scaling, had been injured in a previous fix.
        Antenna number (KANT) was no longer defined in the correction
        routine XFER. Mis-addressing then added 1 radian of phase to
        all solutions. The task ran to completion without any outward
        signs of failure.
        Moved nowhere.

 8732.  August 14, 1995            TVMENU                  Eric
        Changed the call sequence to TVMENU, adding a parameter
        specifying how far down the page to begin the menu.  Changed
        TVDEVICE (TVDMEN) similarly to pass the parameter through.
        Changed TVRGB, QCLEAN, SCMAP, PLAYR to the new call seq.
        Moved nowhere.

 8733.  August 14, 1995         TABLE object               Chris
        Added a public subroutine (TABEXI) to test for the existence
        of a table.
        Moved nowhere.

 8734.  August 15, 1994          $APGNOT/FITLD             Phil
        The recent changes concerning frequency selection etc have gone
        to great lengths to ensure that the first FREQID value written
        to the output file is always 1. However there was one case that
        slipped by. When the user specified source and time-range
        selection the output FREQID was not trapped. Ensured that it now
        is and that if FREQID 1 has not been written that renumbering
        occurs.
        Moved nowhere.

 8735.  August 15, 1995          $APGNOT/VBGLU            Phil
        VBGLU was failing on compressed data in that the data in file #1
        were being scaled on output with the scale appropriate for the
        input file rather than the output file. This caused offsets to
        appear between IFs, although the data within the IFs still
        contained the correct relative scales.
        Moved nowhere.

 8736.  August 15, 1995            OOP                    Eric
        Changed INPUT.FOR, adding a routine called AV2INT which is
        AV2INP but for interactive tasks.  Actually created a private
        subroutine INSTRT and made AV2INP and AV2INT call it and then
        just handle the AIPS restart parameters.  Also added RESAIP to
        resume AIPS in the middle of a task that used AV2INT.
        Changed PLAYR to call the new routine.
        Moved nowhere.

 8737.  August 16, 1995            XAS                    Eric
        XAS had a bug that caused it to skip displaying the TV screen
        when zooming with no grey planes turned on.  Fixed it by
        trapping cur_chan = 0 when the channel was > NGREY and doing the
        display.
        Moved nowhere.

 8738.  August 16, 1995   ZPRMPT.C ZGRLHI.{FOR,C} LIBR.DAT   Jeff
        GNU readline versions of ZPRMPT.C and ZGRLHI.C put in $APLUNIX.
        Non-readline (old) versions of ZPRMPT.C put into $APL* for
        ARCH's that are as yet not using GNU-RL (ALLN, CRI, CVEX, DEC,
        IBM3090), ditto for stub versions of ZGRLHI.FOR (same file as is
        found in $APLGEN).  LIBR.DAT files for ARCH's that now support
        GNU-RL (SUN4, SOL, IBM, ALPHA, HP, LINUX, SGI) modified to
        include links to $LIBR/GNU/libreadline.a and -ltermcap for all
        $AIPPGM tasks.
        Moved nowhere.

 8739.  August 17, 1995   $QPGNOT/FRING.FOR                  Athol
        In copying the FQ table from the input u-v file to the calibrated
        scratch file, FRING did not correct for possible changes in the
        reference frequency made by UVGET:DGHEAD. As there is no IF
        selection in FRING this only affects datasets where the freq.
        offset of IF.1 in the FQ table is non-zero, or there are
        significant source-based freq. offsets (and CALSOUR set
        explicitly to select a single source). FITLD only produced
        files where IF.1 had a non-zero offset for a short period of
        time and such files should be rare. This error affected the
        scaling of the fringe rates, which were then not properly
        removed when applied.
          Also added unrelated code to print the coarse search spacing
        in delay and fringe rate for print levels greater than 1. This
        is useful in determining how the AP memory is being subdivided.
        Moved nowhere.

 8740.  August 17, 1995   $AIPSUB/AU8A.FOR                  Athol
        EXTL failed on VPLOT files (plot type 21). Several IF statements
        checked only for VBPLT rather than VBPLT and VPLOT. EXTL
        would fail with an exception or print garbage, depending on the
        operating system.
        Moved nowhere.

 8741.  August 17, 1995  $APL{DEC,ULTRX}/{ZPRMPT.C,ZGRLHI.FOR}  Jeff
        Moved non-GNU-RL version of ZPRMPT.C and stub of ZGRLHI.FOR from
        $APLDEC to $APLULTRX so that $ARCH=ALPHA would pick up the
        readline functionality.  This corrected a screw-up on my part.
        Moved nowhere.

 8742.  August 17, 1995   $SYS{SUN,SOL}/LDOPTS.SH            Pat/Jeff
        Fixed for USESHARED use of GNU readline; it has to be handled
        (linked) differently if AIPS is built to use shared lib's.
        Doing this in LDOPTS.SH, vice in LIBR.DAT.SHARED, makes more
        sense.
        Moved nowhere.

 8743.  August 17, 1995            TVFLG                    Eric
        Changed a few comments in TVFLG and SPFLG related to flag tables
        and single-source files.  Changed the typing for longer lines in
        the help area (72 character lines are ok).
        Moved nowhere.

 8744.  August 18, 1995    $APLUNIX/ZPRMPT.C                 Jeff
        Changed so that if input to AIPS is not coming from an
        interactive tty (as in from a shell-script "here document") then
        readline() will not be called and AIPS will fall back to the old
        input method of fgets().
        Moved nowhere.

 8745.  August 18, 1995        $APGNOT/AVSPC             Phil
        AVSPC ran into a subtle problem if there were > 1 FREQIDs and a
        FG table was applied. With > 1 FREQIDs CHNDAT would object when
        reading data if the fqid had not been set, it would then jump
        out without closing the FQ table. The FQ table had been opened
        with LUN 30 and the routine that opened the FG table also used
        LUN 30, so we had a clash. Unfortunately MSGSUP was set such
        that all useful messages were not printed. Fixed.
        Moved nowhere.

 8746.  August 21, 1995 $SYSUNIX/LINK LIBR.DAT.SHARED LDOPTS.SH Jeff/Pat
        Cleaned up linking of GNU readline library when using shared
        libraries under SUN4 and SOL.  It was acting a bit senile when
        AIPS was compiled DEBUG with shared libraries.
        Moved nowhere.

 8747.  August 21, 1995    $APLUNIX/ZGRLHI.C                   Jeff
        Unbinds TAB key for libreadline to prevent the confusing and
        useless TAB-expansion of filenames in the current directory
        under AIPS.  This key (and any other key-sequence in fact) can
        be overridden/changed in ~/.inputrc.
        Moved nowhere.

 8748.  August 21, 1995        $APGNOT/FITLD.FOR             Phil
        A minor indexing error caused the FITLD frequency selection to
        fail under some circumstances.
        Fixed.

 8749.  August 21, 1995        $HLPFIL/MOVE.HLP              Athol
        Correct line which remained in the file from the SUBIM
        template, incorrectly describing the task function.
        Moved nowhere.

 8750.  August 21, 1995        $APGNOT/UVCOP.FOR             Athol
        Memory overwrite errors arose in UVCOP if the number of
        sources exceeded 500, the dimension of the array used to
        track all sources copied. The task failed silently, but
        the CL table consolidation was corrupted in antenna
        selection. The symptoms were operating system specific.
        Increased the maximum number of sources allowed to
        16384 and added a warning if more are found.
        Will move to patch area.

 8751.  August 22, 1995           MCUBE             Gustaaf/Eric
        When the program created a SEQ.NUM axis it failed to insert the
        number of points on this axis in the input image header (1) and
        so looped 1 to 0 which is not at all now that we have Fortran 77
        compilers.  Either headers used to have 1s in the unused
        dimensions (a distinct possibility) or this option was last used
        under a Fortran 66 compiler.  Changed the message level about
        blanking so that it also goes to the message file.
        Moved nowhere.

 8752.  August 22, 1995  $SYSUNIX/AREAS{C,}SH.SED       Pat/Jeff
        Now allows (read: handles correctly) logicals with lower-case
        characters in the path; lower-case is usually required for a
        directory to be usable for $MANPATH-accessed man-pages (man is
        not a forgiving animal).
        Moved nowhere.

 8753.  August 22, 1995  $SYSAIPS/AREAS.DAT                Jeff
        Added $SYSMAN logical ($SYSUNIX/manl).  Re-generated
        $SYSUNIX/AREAS.{C,}SH.
        Moved nowhere.

 8754.  August 22, 1995       $APGNOT/FITLD                Phil
        When performing the adjustment of the ref. freq. to IF 1 I had
        overlooked the case of mixed lower/upper sidebands. In such
        cases the ref. freq would have been in IF2 not IF1 and files
        that were concatanated to the first file loaded would have had
        all their sources labelled with freqids 2 not 1. Fixed.
        Moved nowhere.

 8755.  August 22, 1995        $APGOOP/SPECR           Chris/Phil
        Chris repaired SPECR which was dying on Suns with a FP exception
        since I was trying to overwrite a DATA'd integer.
        Moved nowhere.

 8756.  August 24, 1995        $QPGNOT/CVEL.FOR           Athol
        The number of words read by GTPARM was incorrectly set
        at 192 rather than 170. On Solaris GTPARM then overwrote
        some crucial file handling variables and CVEL failed on
        start-up, reporting message file problems. Fixed this;
        also doubled the BP buffer size to 8192 to cater for
        large current BP tables.
        A patch may be warranted.

 8757.  August 27, 1995              ZTREAD                   Eric
        Changed output buffer from CHARACTER*80 to CHARACTER*(*).  The
        former does not allow for variation, which there may be.  The
        latter should ALWAYS be done.
        Moved nowhere.

 8758.  August 28, 1995        $SYSUNIX/F2PS.C            Pat
        As the old K&R C compilers (like /bin/cc on SunOS 4) do not
        permit aggregate initialisation of automatic variables, F2PS
        could not be built on a system lacking an ANSI C compiler (acc,
        gcc on SunOS 4).  Moving the page coordinate information up and
        making the variables static makes the program palatable to both
        flavours of C compiler.
        Moved nowhere.

 8759.  August 28, 1995         Real-time helps               Eric
        Changed TSKHLP to take a string input rather than the column and
        row number.  This means menus no longer have to have a fixed
        format and the HLP*.HLP files will not need so much editing when
        one changes a menu.  The new HLP*.HLP format is a C--------
        line separating each section, with the string naming the section
        left justified in the next line.  The comparison is case
        sensitive.  Changed TVMENU to pass the string to TSKHLP and to
        pass out not the row and column numbers but only the subscript
        in the CHOICS list that was selected.  Calling routines should
        do their case statement on the strings, not col and row numbers
        anyway.  Also changed TVMENU call seq to take a list of logicals
        to say whether the menu is turned off after the selection or
        not.
        Changed TVDMEN in TVDEVICE to match and changed TVFLG, SPFLG,
        IBLED, TVHUI for the change in TSKHLP, TVRGB for the change in
        TVMENU, QCLEAN, PLAYR, SCMAP for the change in TVDMEN.
        Changed the real-time help files HLPCLEAN, HLPIBLED, HLPPLAYR,
        HLPSCMAP, HLPSPFLG, HLPTVFLG, HLPTVHUI, and HLPTVRGB to the new
        format.
        Changed TVRGB's handling of options and changed TVHUI to use
        TVMENU with better handling of options.
        Moved nowhere.

 8760.  August 28, 1995              SNEDT                    Eric
        New task to do interactive editing - a la IBLED - of SN and CL
        tables.  This is mostly the EDIT class utility library.  New:
        SNEDT      New task - a calling routine mostly
        SNEDT      Help file for new task
        QEDIUTIL   $QOOP: edit utilities for this form of editing
        HLPEDISN   Real-time help file for EDITSN in QEDIUTIL.
        Changed:
        EDIT       $APLOOP: add TBEDIT as known internal, fix error msg
        TVTPOS     $YSUB: a <= was supposed to < so infinite wait reads
                   became quickies
        TVDEVICE   $APLOOP: add capabilities of (1) return visible
                   corner pixel numbers, (2) interact with TV cursor in
                   usual way with calling routine to handle results, (3)
                   read and change (write) zoom parameters.  Correct
                   precursor comments and channel handling in TVDCHR.
        Moved nowhere.

 8761.  August 28, 1995            SNPLT                     Eric
        Changed help and Fortran to have FREQID = -1 mean all, before
        the help lied and and FREQID got made > 0.
        Moved nowhere.

 8762.  August 28, 1995           MULTI                     Chris
        Fixed a subtle bug that caused the sequence number to be
        be written as zero in the header for the output file.  This
        caused some confusion using the OOP UVDATA interface and
        would, I assume, have been potentially dangerous if a
        catalogue containing an output file from MULTI needed to
        be rebuilt.
        Moved nowhere.

 8763.  August 29, 1995    $SYSUNIX/START_AIPS              Jeff
        Added a "norl" startup option that will disble GNU readline
        extensions if someone wants to fall back to the old behavior for
        some reason.  (Also makes a good troubleshooting aid.)
        Moved to $AIPS_ROOT in CV this date.

 8764.  August 30, 1995             OMFIT       Ketan
        Added new task akin to UVFIT that has the following advantages:
        Simultaneously model-fits and self-calibrates UV-data
        Uses Singular-Value-Decomposition to better determine parameters
        Employs Levenberg-Marquardt Non-linear convergence methods
        Will be able to  solve for multiple self-calibration models [one for
        each model component]
        comments to kdesai@nrao.edu

 8765.  August 30, 1995             OMFIT.HLP   Ketan
        HELP file for OMFIT, described above, This program uses an
        INFILE, a sample INFILE is appended to OMFIT.HLP
        comments to kdesai@nrao.edu

 8766.  August 30, 1995          FITLD                   Phil
        The updated correlator code is beginning to be tested. One of
        the new features is that the FFT twiddle tables are much better
        and the level of FFT artifacts in the total-power spectra are
        reduced to the level of invisibility. We added an FFT_TWID
        keyword to the MC table, FITLD now checks for this and if it has
        a value of 1 will no longer perform the artifact corrections.
        Also ensured that the subarray frequency written into the AN
        table is corrected for roundoff error.
        Moved nowhere.

 8767.  August 31, 1995           ZDCHIN                   Eric
        Correctd the display of the GNU copyleft.  It was writing a
        132-char line to terminals - 70 would have done and resulted in
        less double spacing.
        Moved nowhere.

 8768.  August 31, 1995            SNEDT                    Eric
        It forgot to get the parameter DODELAY, so did not display delay
        at all.
        Moved nowhere.

 8769.  August 31, 1995             UVSORT                 Eric
        It zapped the SC files it made, but did not lower NSCR, the
        count of SC files.  So, if it is called a lot, it can blow the
        bank of 128 SC files.
        Moved nowhere.

 8770.  August 31, 1995           CookBook                  Eric
        Changed the COOK82.MAC and COOK82G.MAC macro sets to write out
        index files and added \indx, \Indx, \tndx, \Tndx, \iodx, \Iodx,
        \todx, and \Todx macroes to index a word or phrase.  The ones
        with t or T put the word in tt font, the capitals put the page
        number in bold type (for primary references), the odx ones do
        not put the word in the actual document, the others do.  Also
        made up some macros for tex setting the Index and a Fortran
        program COOKNX.FOR to read the sorted index list and a procedure
        COOKIT to run the sort, COOKNX, and tex set of COOKNX.TEX.
        Changed chapters 0, 1, 2 and 10 so far.  Changed 1 to mention
        the index and 2 to correct for new XAS parameters.
        Moved nowhere.

 8771.  September 1, 1995    OPTIMIZE.LIS, FDEFAULT.SH      Pat
        Knocked the optimization for OMFIT down to OPT1 on the IBM's.
        The optimiser dies a horrible death otherwise.  Also increased
        the maxmem parameter for IBMs from 32k to 64k.
        Moved nowhere.

 8772.  September 1, 1995             DFIL.INC                Eric
        Changed DFIL.INC to put the dimensions of the arrays into
        parameters.  Then changed
           $APLSUB/ MAPCR MAPSNC SCREAT
           $APLNOT/GRIDTB IMCREA INTMIO SDGET SETGDS UVGET
           $APLOOP/ IMAGE UVDATA (128 -> parameter)
        to check these limits and die if they are exceeded.  Corrected
        an error handling the scratch count in CCMERG which caused
        scratch files not to be deleted.
        MOved nowhere.

 8773.  September 4, 1995   $APLNOT/SNSMO.FOR                Athol
        Subroutine SNSMO (called by CLCAL) did not check for preceding
        blanked values in extrapolating the phase to remove 2pi
        ambiguities.
        Moved nowhere.

 8774.  September 5, 1995      $APGNOT/UVCOP                    Phil
        Due to a logical array being declared to be of size 1024 UVCOP
        was restricted to copying files whose product of IFs and
        channels did not exceed that. Changed it to a large value that
        should not be exceeded by any existing correlator.
        Moved nowhere.

 8775.  September 5, 1995      $APGNOT/UVFIT.FOR               Athol
        UVFIT had convergence problems related to the initial guess
        for the inverse Hessian diagonal terms as passed to the fitting
        routine DVDMIN. These were estimated as 0.001 times the initial
        values. Although DVDMIN appears fairly insensitive to this
        input parameter, it did not converge or explore a sufficient
        region of parameter space in some cases, particularly when
        fitting VLBI components. Changed UVFIT to estimate the
        approximate order of the Hessian terms from the gradient. This
        rough approximation gives broader convergence for both VLA
        and VLBI test data.
        Moved nowhere.

 8776.  September 6, 1995       ZGRLHI                         Jeff
        Reworked the "hierarchy" for ZGRLHI.C (readline version) and
        ZGRLHI.FOR (stub version).  There's now a copy of the
        readline-capable version in the $APL directory for each OS that
        readline is supported under, and a copy of the stub in $APLGEN
        and $APLULTRX (to override the $APLDEC, a.k.a. Alpha, version).
        Added handling of readline-disabling (via starting AIPS with the
        "norl" option) in ZGRLHI.C.
        Moved nowhere.

 8777.  September 6, 1995       ZPRMPT.C                       Jeff
        As with ZGRLHI, I re-did how the hierarchy works for ZPRMPT.C.
        The non-readline version now resides in $APLUNIX, and the
        readline-capable versions, for OS's that libreadline is
        supported under, now reside in $APL$ARCH.  ($APL3090 and
        $APLULTRX have to have additional copies of the non-readline
        version from $APLUNIX due to the layout of the hierarchy--I
        forgot about the 3090, deleted the non-readline version of
        ZPRMPT.C, and then had to restore it again.)
        The readline-capable version of ZPRMPT.C now sets
        signal-handlers for SIGTTIN and SIGTTOU just before the
        readline() call, and resets these signals back to SIG_DFL
        immediately after readline() returns; this appears to eliminate
        some, ahem, interesting behavior under SunOS and AIX (especially
        AIX, where a backgrounded AIPS session would lock the terminal
        hard once it wanted input again).  The signal-handler does a
        kill(getpid(),SIGTSTP), effectively redirecting the other
        signals into one that appears to behave better in this
        situation.  (Who says that programming is not an empirical
        science?)  libreadline's attempt at this sort of signal-handling
        does not appear to be very smart, and behaves very
        inconsistently across different OS's.
        There are now two versions of the readline-capable ZPRMPT.C
        scattered among the readline-supported OS's $APL$ARCH
        directories; one re-prep's the terminal (fixing the echo) within
        the signal-handler immediately after the kill() call, and one
        doesn't.  Again, this is due to varying behavior among
        OS's--behavior that does not appear to follow any real pattern
        (BSD, SYSV, etc.)--it's a real scatter-shot.  HP/UX appears
        really hosed on all of this, so I have temporarily removed
        readline support for it until I can get it figured out.
        Disabling ^Z under AIPS would eliminate all of this nonsense,
        but we'd really need to add some sort of shell-out functionality
        to make up for its loss.
        Also added handling of readline-disabling (through the "norl"
        startup option).
        Moved nowhere.

 8778.  September 6, 1995  $SYSUNIX/AIPS.L $SYSMAN/{AIPS,aips}.l  Jeff
        Moved man-page from $SYSUNIX/AIPS.L to $SYSMAN/AIPS.l.  Added
        sections on basic GNU readline functionality and the new "norl"
        startup option.  Did other minor nroff cleanups.  Created aips.l
        file that simply sources the AIPS.l page.
        Users with $SYSUNIX (not $SYSMAN!) in their $MANPATH will pick
        up any stuff that we put in $SYSMAN (which is $SYSUNIX/manl).
        Moved nowhere.

 8779.  September 6, 1995       $APLHP/{ZPRMPT,ZGRLHI}.C          Jeff
        Restored readline support for HP/UX--but without attempts at
        signal-handling for SIGT{TIN,TOU,STP}.  If someone backgrounds
        AIPS under HP/UX with GNU readline enabled, it could behave
        strangely.  (This is in the "functions but still needs some
        work" category right now.)
        Moved nowhere.

 8780.  September 6, 1995       $AIPSPUBL/COOK9.TEX & COOK9.PS   Athol
        Put back an updated VLBI chapter, which should be complete
        up to 15JUL95.
        Moved nowhere.

 8781.  September 6, 1995        $APGNOT/UVCOP           Phil
        Following Eric's suggestion I have changed the size of the
        logical array to use MAXCIF rather than UVBFSS.
        Moved nowhere.

 8782.  September 6, 1995        $YPGNOT/VPLOT             Leonia
        VPLOT has been modified.
           1. Now VPLOT can be used for editing
        data to recognise the points which have a big amplitude
        deviation. The amplitude of each individual point in the
        average interval is compared with the mean value. The rms is
        estimated for  the solution interval sumulteneously. If
        the deviation of the amplitude from the mean is larger than
        the specified multiple of the rms then that point is marked
        in a new flag table. Plots are not generated in the bad
        points recognition mode. It is rather comfortable to flag
        the bad points and look the result by the same task.
           2. Optionally the vertical lines that specified the minimum
        and maximum of the amplitudes found in the average interval
        are ploted together with the mean amplitudes. These lines
        help to identify the average intervals with bad points.
           3. Run time has been decreased approximately in 2 times
        in any case and even more in the case of TIMERANG is less
        than the time interval of the data.
           4. Scalar average has been added to the vector average
        which has already been present. The information about the
        type of averaging has been added to the header of the plots.
        Moved nowhere.

 8782.  September 12, 1995         CookBook                  Eric
        Finished putting back the CookBook.  Changed Chapter Y to have
        it mention DATs and Exabytes and to be written better.  Created
        COOKI.TEX and a template COOKI.TEMP.  The latter is used by
        $AIPNOT/COOKNX.FOR to write the former.  A bit of henad editing
        is needed to getr everything nice afterwards, unfortunately.
        Moved nowhere.

 8783.  September 12, 1995         ZSTRTA, ZACTV8          Eric
        Several character strings in these were limited to 48 characters
        even though they could carry the fully qualified path name.
        Changed them to 256.
        Moved nowhere.

 8784.  September 13, 1995   $HLPFIL/READLINE.HLP          Jeff
        Checked in initial revision of the 'readline' help-file.  I'll
        be polishing this up and adding information to it as I find free
        time.  (Hahaha!  <shrieks down hallway toward coffee pot...>)
        Moved nowhere.

 8785.  September 13, 1995       LWPLA, TVCPS, TVRGB          Eric
        Added the COPIES adverb to these.  It applies only when the
        POstScript is going directly to the printer and is implemented
        with the "copypage" PS command.
        Moved nowhere.

 8786.  September 14, 1995         Missing help files         Eric
        Created help files that were missing.  They are adverbs
        BOXFILE   CHANNEL  CMETHOD   CMODEL    COPIES    DONEWTAB
        DOTWO     ERROR    NOISE     NUMTELL   OUT2CLAS  OUT2DISK
        OUT2NAME  OUT2SEQ  PBSIZE    REFDATE
        Procedures:
        BREAK    FEW      MANY      QUIT      STOP      TELFLM
        Moved nowhere.

 8787.  September 14, 1995        EHEX, REHEX                 Eric
        Changed AU8, NEWPARMS.001, POPSDAT.HLP and created help files
        EHEX and REHEX to make these procs also available as verbs.
        Moved nowhere.

 8788.  September 15, 1995        $APGNOT/FILLM.FOR        Gustaaf
        FILLM's behavior with data the frequencies of which lie
        outside the official boundaries of a certain band is erratic.
        The Q-band receivers appear to give useful data outside the
        original range from 38 -- 52 GHz; this range has now been
        extended from 33 -- 56 GHz.
        Moved nowhere.

 8789.  September 16, 1995        $APGNOT/PCCOR.FOR        Leonia
        Testing PCCOR for the case of ungomogenious IFs I have
        discovered some errors which affect this case. The errors
        have been fixed.
        Moved nowhere.

 8790.  September 19, 1995        $APGNOT/MK3IN.FOR        Athol
        MK3IN was vulnerable to an array boundary error in one of
        the visibility buffers for very large record sizes. This
        error discovered when loading data with 28 IF's and
        220 spectral channels per IF. Increased this buffer as
        well as an FQ table buffer and added a check on the buffer
        size to prevent this happening in the future.
        Moved nowhere.

 8791.  September 19, 1995         $YPGNOT/APCAL.FOR      Athol
        Initialize the MB delay field to zero in the SN table.
        Was set to FBLANK but this upset the geodetic software.
        Moved nowhere.

 8792.  September 19, 1995          UTESS                  Eric
        Changed number of parameters to GTPARM.  It was 198, but the
        common only had 195 words.  The extra 3 replaced the POPS number
        and the user number and caused a little havoc.  Solaris seems
        always to put the message common after the inputs common.
        Moved nowhere.

 8793.  September 19, 1995         CHNDAT                 Eric
        When the FQ table has one entry, FQMATC is its wisdom sets the
        desired FQ number to -1 (=> all ?).  Then CHNDAT sees that -1 is
        requested, there is only one, sets the request to 1 and then
        dies if the FQ in the file is not 1.  Changed the latter
        beghavior to select the 1 FQ in the file no matter what its
        value, so long as the requested FQ is <= 0.  Errors are returned
        if the request is > 0 and not present in the file or the request
        is <= 0 and there is more than 1 in the file.
        Moved nowhere - link a whole lot.

 8794.  September 19, 1995         $APLNOT/CHEBY.FOR      Athol
        New routine to calculate a Chebyshev polynomial sequence
        using the standard recurrence relation. Needed by the
        forthcoming polynomial BP software.
        Moved nowhere.

 8795.  September 19, 1995         $APLNOT/BPCOEF.FOR     Athol
        New routine to compute a complex polynomial bandpass.
        Phrased such that it can be called from any point where
        BP conversion may be required (eg. DATBND, POSSM; this code
        centralised in one routine for BP fitting and application.
        Moved nowhere.

 8796.  September 19, 1995        FIXWT                  Chris
        New task that makes a copy of a data set with weights
        derived from estimates of the standard deviation of
        amplitudes in the data.  The resulting weights should
        be a better approximation of the inverse variance
        weights than those given by most input sources.
        Moved nowhere.

 8797.  September 20, 1995           OTFUV                  Eric
        Changed it to allow for more simultaneous scan numbers - it was
        limited to a range to 4096.  Now it is limited to a range to
        32768.  Added adverbs BCHAN and ECHAN in case people are so
        foolish as to not want all their channels.  Added test for
        INFILE = IN2FILE which cannot be right.
        Moved nowhere.

 8798.  September 20, 1995             PATGN                  Eric
        Added operation to make single-dish beam patterns - like PBCOR.
        Moved nowhere.

 8799.  September 20, 1995         AIPS.HLP                 Eric
        Updated to include the latest from the man page - the readline
        stuff, tpok, tvok, changed remote, etc.
        Moved nowhere.

 8800.  September 22, 1995        CookBook                 Eric
        Chapter 2:  Add the readline and other aips man changes
        Chapter 3:  Hex -> extended hex and mention EHEX, REHEX
        Chapter 5:  Mention FIXWT
        Chapter 12: Hex -> extended hex and mention EHEX, REHEX
        Chapter 0:  WWW more prominant, chapter 2
        Chapter I:  Index always changes with anything
        Moved to ftp/www area.

 8801.  September 22, 1995              CLCAL                 Eric
        The call to FQMATC passed in the user adverb XFREQ, a real*4.
        But FQMATC expected a REAL*8 so the user value of -1 led to a
        bad multiply and an abort on the DEC machines.
        Moved nowhere.

 8802.  September 22, 1995              VPLOT                Leonia
        The min/max lines which were installed for amplitude early
        (#8782 September 6, 1995) have been implemented now for phase,
        real and image. The plotting of real and image was available
        only for SOLINT=0. Now these options function in the average
        mode also.
        Moved nowhere.

 8803.  September 23, 1995    ZGRLTC,ZGRLHI,ZPRMPT,RLHIST    Jeff
        For all 7 OS's that support GNU readline in $APL$ARCH:
        Removed TAB-key unbinding in ZGRLHI.C.  Added TAB-key expansion
        functionality via new file ZGRLTC.C.  Changed ZPRMPT.C to check
        prompt character and to disable the TAB key when prompting for
        user number (prompt character of '?').
        Added hook in $AIPSUB/RLHIST.FOR to initialize and activate
        TAB-key expansions immediately after initialization of GNU
        readline and history recovery.
        Added stub routine $APLGEN/ZGRLTC.FOR for OS's without readline
        support.  Returns IERR=1 to indicate that TAB-key expansion is
        disabled.
        Moved nowhere.

 8804.  September 24, 1995        VPLOT                     Leonia
        The COMLNK of VPLOT (#8800 September 22, 1995) failed on
        the IBMs. The reason was in a careless line I added recentely
        and in another one which existed since the time when VBPLT
        was modernized to VPLOT. It is strange there was no a complain
        on the second careless line during several modernisation of
        VPLOT. I have fixed the both lines.
        Moved nowhere.

 8805.  September 25, 1995      ZGRLTC.C                    Jeff
        Made TAB-completion interface smarter about quoted arguments (it
        no longers diddles the case on them), disabled all hooks to
        filename-completion for arguments (to prevent user confusion).
        Also cleaned up code and made it generally more efficient, fixed
        bug with finding the file containing the completion list.
        Moved nowhere.

 8806.  September 27, 1995      Polynomial banbpasses             Athol
        Modifications to allow the application of polynomial bandpasses
        as generated by the forthcoming task CPASS. This is achieved
        by added a keyword BP_TYPE to the BP table. If this string is
        blank or not present then the bandpass is assumed standard, else
        the keyword identifies the type of polynomial coefficients
        stored in the BP table. BPASS generates standard bandpass
        solutions and CPASS generates polynomial bandpass solutions.
        There is no impact on the DOBAND or BPVER adverbs from the
        user perspective; the bandpass type is determined during
        calibration and polynomial bandpasses are expanded as needed.
        For data correlated at the VLBA correlator, frequency shifts
        arising from antenna-based fringe-rotation are included before
        the bandpass is computed.
           Specific modifications:
        $INC/DCVL.INC - added LTYPBP*8 identifying the BP_TYPE keyword.
        $APLNOT/BPINI.FOR - add new keyword BP_TYPE; change calling
           sequence accordingly.
        $APLNOT/BPASET.FOR - modify BPINI calls.
        $APLNOT/BPREFM.FOR - modify BPINI calls.
        $APLNOT/DATBND.FOR - expand polynomial bandpasses on the fly;
           incorporate VLBA specific fringe rotation frequency shifts
           directly in expansion.
        $APLNOT/BPFSEL.FOR - renumber only IF's and not frequency channels
           when a polynomial BP is subject to frequency selection.
           Modify IBCHAN to reflect that the polynomial BP is shifted.
        $APLOOP/TABLEUTIL.FOR - change calling sequence to OBPINI to
           reflect new BP_TYPE keyword.
        $YPGNOT/POSSM.FOR - modify subroutine POSSBP to deal with
           polynomial bandpasses when plotting BP tables.
        $APGNOT/BPCOR.FOR - disable smoothing of polynomial bandpasses
           in BPCOR for now.
        $APGNOT/UNCAL.FOR - add blank BP_TYPE keyword to BPINI calls.
        $QPGNOT/BPASS.FOR - modify BPINI calls; do not allow user
           to append standard BP solutions to an exisitng table
           containing polynomial bandpasses.
        $QPGNOT/CVEL.FOR - modify BPINI calls in subroutine CVBPST to
           mirror BPASET. Modify CVBAND to match new DATBND. Correct
           pre-existing buffer offset error in VLBA FFT shift (found
           by PJD); also fixed minor shift error for VLBA XP bandpasses.
        $APGNOT/FITLD.FOR - modify subroutine BA2BP to write blank
           BP_TYPE keyword. Note: BA tables not yet written by
           correlator.
        Substantial re-linking.
        Moved nowhere.

 8807.  October          $APGNOT/PCCOR.FOR            Leonia
        The task has not coppied source ID from a PC table row to
        the SN table row leaving it equal zero. It's fixed.
        Moved nowhere.

 8808.  October          $YPGNOT/VPLOT.FOR            Leonia
        During last modernisation I put a mistake in the block of
        frequency/IF averaging. As a result VPLOT has not plot the
        average amplitude for some range of bchan, echan. It's fixed.
        Moved nowhere.

 8809.  October 4, 1995                $QYPGNOT/UTESS.FOR        Dave
        Caught UTESS up on some changes which had been put into
        VTESS but not UTESS over the years. Specifically, item 7690
        (adding code for when NOISE=0 to avoid arithmetic exception),
        7722 (clearing read status of the beam), and 8048 (writing
        the history file to the output maps).
        Moved nowhere.

 8810.  October 5, 1995                $APGNOT/LTESS.FOR        Dave
        Similar change as yesterday for UTESS; the read status
        of the first map was not being cleared. Changed 'READ'
        to 'REST' in the second call to CATIO.
        Moved nowhere.

 8811.  October 6, 1995          QCLEAN                   Eric
        Changed the TELL section to put the beam parameters into each
        Clean field.  Putting them in the parent Clean object did not
        cause them to end up on disk.
        Moved nowhere.

 8812.  October 7, 1995          $APLNOT/BPCOEF.FOR       Athol
        Force BPCOEF to require FBLANK termination of polynomial
        coefficients in BP tables. No user impact.
        Moved nowhere.

 8813.  Oct 7, 1995              $QPGNOT/CPASS.FOR        Athol
        New task to determine polynomial bandpass response
        functions. Writes BP tables which are applied with
        adverbs DOBAND and BPVER in the standard manner.
        Moved nowhere.

 8814.  October 10, 1995              JMFIT               ERic
        Changed the convergence EPS from 1E-10 to 1E-14.  Images with
        goood signal to noise and peaks of 100's of microJy iterated too
        fast and never solved for widths etc.
        Moved nowhere.

 8815.  October 10, 1995  $APGNOT/TBOUT.FOR & TBIN.FOR    Athol
        Increased some internal buffers to cope with larger tables,
        such as the BP tables produced for spectral line VLBA
        datasets.
        Moved nowhere.

 8816.  October 12, 1995	$APGNOT/GSTAR.FOR	Dave
	IncorrectNPARMS was causing problems. Changed to 12,
	things seem to work now.
	Moved nowhere.

 8817.  October 13, 1995            MX                      Eric
        MXSEL did not correctly determine the max frequency when
        averaging spectral channels and so excluded data for no good
        reason at all.  UVLIMT messages did appear when this happened.
        Moved nowhere.

 8818.  October 13, 1995             FFT                   Eric
        Happily created cubes and then FFT'd the 1st plane only.
        Changed to loop over planes.
        Moved nowhere.

 8819.  October 13, 1995        $APLPGM/SQASH.FOR       Gustaaf
        SQASH would determine sum or average over one or more
        planes of a cube. I added the two options to write out
        the maximum or the minimum along the specified axis/axes.
        I also changed the default: DPARM(1)=0 to specify average,
        and DPARM(1)=1 to specify sum; this is more in line with
        the SUMIM convention. Added plenty warning messages to
        alert the user. Other DPARM(1) values lead to min and max.
        Moved nowhere.

 8820.  October 14, 1995        $APLNOT/BPCOEF.FOR      Athol
        Make more resistant to bad inputs. No user impact.
        Moved nowhere.

 8821.  October 14, 1995        $QPGNOT/CPASS.FOR       Athol
        Optimize the code by computing the polynomial terms less
        frequently.
        Moved nowhere.

 8822.  October 16, 1995            UVPRT                    Eric
        Once again I forgot that UVGET changes the uv structure.  A
        multi-source in  is not a multi-source out if only 1 source is
        included.  So MULTI true but ILOCSU = -1.  Fixed source number
        test.
        Moved nowhere.

 8823.  October 16, 1995           CVEL                      Eric
        Corrected it to use the buffers that were actually there.  Two
        of them had BUFSZ = 4096 * 2 but were 8192 words long.  There
        are some really large buffers declared, but then a lot of small
        ones are used.  With 4096 words, a 512 channel, 2 IF data set
        has trouble.  So the doubling I did just postpones the problem.
        Moved to siamang today.

 8824.  October 17, 1995            UVPRT                   Eric
        Changed it to do a better job with the source info.  The choice
        of MULTI should be made only after UVGET ('INIT' call.  The 1
        source will then be in the header if there is only 1.
        Moved nowhere.

 8825.  October 17, 1995            ALGSTB               Athol/Eric
        Corrected an addressing bug.  In the case with tons of uv
        samples on a single row of the grid, the buffer could hold more
        samples than the ap and too many would get loaded to the ap.
        Changed ILENBU to MIN (MAXREC and LENBU).
        Moved nowhere.

 8826.  October 17, 1995            IMAGR                  Eric
        Did not read circular windows from the window text file
        correctly.  It turned them into rectangular from the BLC.
        Moved to siamang today.

 8827.  October 17, 1995   DADEVS.SH, DADEVS.PL, DATOUCH   Pat
        Modified the scripts to allow for site-specific DADEVS.LIST and
        .dadevs files as follows: if $NET0/DADEVS.LIST.$SITE exists, it
        is used in place of $NET0/DADEVS.LIST.  Likewise if a user has a
        file ~/.dadevs.$SITE it will be used in place of ~/.dadevs.
        This is dependent on the "SITE" variable as used in HOSTS.LIST;
        here in CV we have two sites: NRAOCV for big-endian systems and
        VCOARN for the little-endians (Linux, Alpha).  Thus I will now
        be able to have separate DADEVS files for these two incompatible
        "sites".  Done at the request of Debbie Haarsma at MIT.
        Moved nowhere yet.

 8828.  October 17, 1995      $APGNOT/VBGLU.FOR            Athol
        VBGLU concatenates samples which are aligned in time by less
        than a tenth of an integration period. The integration time
        was stored in the wrong units. Also modified subroutines
        GETPTR and DAMATC; some records were not matched correctly.
        Moved nowhere.

 8829.  October 17, 1995      $APGOOP/POLSN.FOR    K.Leppanen/Athol
        Added Kari Leppanen's modifications to POLSN to the system.
        These include: i) Compute R-L delay and phase average for
        each solution interval; ii) ensure amplitude of each solution
        is normalized.
        Moved nowhere.

 8830.  October 17, 1995            imaging                  Eric
        Found a bug applying to gridded subtraction when field 1 is
        empty.  Changed GRDAT to set CELLSG on any field, CCSGRD to not
        init TFLUXG, and GRDSUB to init TFLUXG.
        Moved nowhere.

 8831.  October 18, 1995             GRIPE                   Eric
        Changed the gripe verb to e-mail the gripe to aipsmail (and me
        at least for now).  Changed AUC and CHGRIP to create and write a
        text file and call ZGMAIL.  Created ZGMAIL ($APLGEN stub and
        $APLUNIX) and ZGMAI2.C; modified GRIPE.HLP; updated GRIPR.
        Moved nowhere.

 8832.  October 19, 1995       $YPGNOT/VPLOT.FOR          Leonia
        The English of the message printed after the task starts up was
        not good enough. It has been improved following Athol advise.
        Moved nowhere.

 8833.  October 20, 1995            SYSTYP in DDC.INC        Eric
        Changed meaning of SYSTYP which used to be only VMS vs UNIX into
        a full $ARCH sort of value.  Changed ZDCHIC to take this as an
        input only argument - we will set it for keeps in ZDCHI2.
        Changed:
        ZDCHIC  $APLGEN (stub), $APLUNIX, $APCRI - also put in
                Z_systyp[5] C common
        ZDCHIN  $APLGEN (typos), $APLCRI, $APL3090 - update to modern
                form
        ZDCHI2  Changed 'UNIX' to something else closer to $ARCH
                $APLCRI   -> CRI    $APL3090 -> 3090    $APLHP  -> HP
                $APLLINUX -> LINX   $APLSOL  -> SOL     $APLSGI -> SGI
                $APLALLN  -> ALLN   $APLCVEX -> CVEX    $APLDEC -> DEC
                $APLNRAO1 -> CVEX   $APLIBM  -> IBM     $APLSUN -> SUN
                $APLVLAC1 -> CVEX   $APLVAX  -> VAX
        ZDCHI2  Removed $APLBELL created $APLMASC, $APLULTRX
        ZTPOPD  Removed extraneous $APLDEC, changed $APLGEN to check all
                Digital SYSTYP's (VMS, DEC, ULTR) and change LRECL to
                words
        Moved nowhere.

 8834.  October 20, 1995            GRIPE mail                  Eric
        Changed AUC to leave out all To: Subject: etc lines.  Changed
        $APLUNIX/ZGMAIL to pass an extra argument to ZGMAI2 saying how
        to insert the subject (1 insert in file for ALPHA and SOL, 0
        others use 's " "' option), change ZGMAI2 to use mail rather
        than rmail, to use pipes instead of system calls, and to use
        unlink to delete the file rather than a system call.
        Moved nowhere.

 8835.  October 20, 1995            VLBIN                    Eric
        I doubt that this old chstnut still works.  Nontheless, it was
        assuming that all SYSTYP = 'UNIX' had to be translated from Vax
        floating to IEEE and then used IEEE and also called ZI16IL for
        some reason for Unix machines.  SYSTYP no longer hjas this value
        so I changed all of it to examine the actual floating format
        codes and to do the changes correctly (I hope).
        Moved nowhere.

 8836.  October 20, 1995     START_AIPS in SYSUNIX           Chris
        Added the CDE desktop's terminal emulator (dtterm) to the list
        of TERM values recognized as belonging to X11 terminal emulators.
        Moved nowhere.

 8837.  October 21, 1995    $SYSPERL/check_version.pl       Jeff
        Added Perl version 5.000 to list of "tested" versions; they're
        running 5.000 under Solaris (at least) here at the AOC, so I
        guess you could say that things are quite well tested under that
        version by now.
        Moved nowhere.

 8838.  October 21, 1995              PCNTR                  Eric
        Corrected the drawing of polarization lines and Clean beams.
        They both tried to plot simple angles on the page.  One cannot
        do that in the presence of rotation or non-square pixels.  All
        such plots have been wrong.  Changed PLTBEM and PCNTR.
        Moved to patch area tomorrow.

 8839.  October 21, 1995    $SYSUNIX/DADEVS.PL               Jeff
        Made slight (functionally insignificant) modifications to Pat's
        enhancements for site-specific data-disk files; "dot"
        concatenation of strings is somewhat inefficient in Perl, is not
        needed in this case for the @DADEVS array assignments, and makes
        the code look kinda' funky.
        Moved nowhere.

 8840.  October 23. 1995             TPMON                   Pat
        Added a somewhat crude but effective host-based authentication to
        TPMON.  The (new) file $NET0/TPHOSTS will now contain a list of
        hosts from which TPMON will accept requests.  ALL others will be
        rejected.  The format of this file is fairly simple: one host per
        line, blank and comment (#) lines ignored, and you can have a
        SINGLE wildcard as the first character of a hostname, e.g.
        *.aoc.nrao.edu accepts all AOC machines.  The comparison of
        hostname with entries in this file is performed regardless of
        upper/lower case.
        Also added a help file for TPMON, mainly for AIPS managers.
        Moved nowhere yet, will move to patch area shortly.

 8841.  October 24, 1995           CookBook                  Eric
        Rewrote Chapter 10 and 11 into 1 chapter called 11. EXITING
        FROM, and SOLVING PROBLEMS IN, AIPS.  The description of Gripes
        was changed to include the e-mail on GRIPE and GRDROP.  The
        problem solving was altered to include modern machines and
        conditions .  Changed references to 10 in Cpaters 1, 3, and, Z.
        Fixed chapter number references to other chapters in 7.  Started
        on Chapter 10 SINGLE-DISH DATA IN AIPS enoughh to do preliminary
        Table of Contents and Index.  Putback chapters 1, 3, 7, 11, and
        Z, but am still holding 10, 0, and I.
        Moved to WWW, nowhere else.

 8842.  October 24, 1995          GRDROP                      Eric
        When a grip is typed in, it is e-mailed to aipsmail.  If the
        user then decides he/she has made an error, he/she can GRDROP
        it, but we still won't know that.  It would be best if he/she
        entered another gripe saying ignore previous I goofed or
        whatever.  Changed AUC to e-mail to aipsmail the text of any
        gripe being dropped with GRDROP.  That at least will tell us
        that the user appears to have changed his/her mind.
        Moved nowhere.

 8843.  October 24, 1995            SCMAP                   Eric
        Changed SCMAP, IMAGR, and UVUTIL to check for a max u baseline
        in the header before copying the data.  Otherwise, the header
        ended up with the max u of the last subarray (or whatever)
        appended to the file.  This led to failures in weighting,
        gridding, and gridded subtractions.  Changed message levels in
        CATKEY - they were anoying when they should be suppressed.
        Moved nowhere.

 8844.  October 25, 1995           KNTR                    Eric
        Dashed contours were being drawn with a ddudu (d-> pen down, u->
        pen up) pattern.  With LPEN=3 in LWPLA, the PostScript pen width
        more or less filled in the pen up parts of the plot.  Changed
        the pattern to dduu or dduuu or dudu for bigger images.  Usrs
        who do too many frames of large picture must use LPEN=2 or even
        1 if they hope to see the dashed contours.
        Moved nowhere.

 8845.  October 26, 1995             IMAGR                   Eric
        Fixed:
        (1) Boo-boo made 2 days ago in which I passed in a constant to
        get an output value having to do with max baseline.
        (2) $QPSAP/UVSRT - MAPCLR changes the number of files to zero as
        it ends for no good reason.  This means that each call must have
        a newly initialized count.  We cannot put that count in a DATA
        and assume it is good.  Sigh...lots of SC files left behind.
        (3) $QOOP/QUVUTIL - the order of the code was such that taper
        was not applied to NAtural weighted images.  Corrected the
        order.
        (4) $QOOP/QCLEAN - add field clean flux to clean(field) object
        and total flux to overall clean object
        (5) Read in the field and total clean fluxes and number of
        components for the field and add them to the history.
        (6) Upgrade SCMAP history to be more like IMAGR
        Moved nowhere.

 8846.  October 27, 1995         ZVTPO3/ZVTPGC (TPMON)      Pat

        Modified these routines to check all aliases for the connecting
        host as well as the official name.  Also, for any entry
        beginning with a digit in TPHOSTS, assume it's an IP address and
        compare the connecting IP address with it (not the hostname or
        aliases).  Finally, allow crude wildcarding by IP addresses,
        e.g. 192.33.115.* (only a single trailing wildcard allowed, but
        this also covers, e.g. 192.33.* if desired).  Modified ZTPOPR so
        that the error messages "PERMISSION DENIED" and "FILE ALREADY
        EXISTS" are issued in appropriate circumstances.
        Moved nowhere yet, perhaps should update patch area...

 8847.  October 27, 1995         IMAGR, SCMAP              Eric
        The new history routines would fail if TFLUX had not been added
        to the Clean object by Cleaning.  In IMAGR, at least, NITER=0 is
        common and that provoked the failure.  Corrected it to handle
        the missing TFLUX as a signal to omit the Cleaning HIstory
        rather than a signal to fail.
        MOved nowhere.

 8848.  October 27, 1995           Alignment              Eric
        REAL*4 and REAL*8 are not interchangable.  For one, the 1st 32
        bits usually do not have the same format and for two the use of
        a REAL*4 where a REAL*8 is expected causes the following 32 bits
        to be overwritten and a possible alignment error (on Dec which
        cares to point it out - most machines have some trouble with
        misaligned values).  SOURNU declared FREQO and RESTFQ to be
        real*4 and than called TABSOU which (very sensibly) assumes thes
        to be REAL*8.  Unfortunately, this will require an INSTEP4 to
        repair since ACTFRQ calls SOURNU, FQMATC calls ACTFRQ, and UVGET
        and lots of others call FQMATC.
        Moved nowhere.

 8849.  October 27, 1995           SNPLT                  Eric
        The error above cannot be regarded as really accidental, but
        this next one is deliberate sabotage:
                  INP = 0
                  TEXT(INP:INP+3) = ' ' // TYPE // ' '
        causes 1 byte ahead of TEXT to be overwritten.  This made
        illegal plot files on Dec machines and overwrote God knows what
        on other machines.  This gem appeared 3 times in SNPLT.
        Character strings and most everything else begin at 1.
        Moved nowhere.

 8850.  October 27, 1995             SDGRD                     Eric
        Forgot to add round convolving functions to QGRD5 and QGRD8.
        This forced the addition of the increment parameter to the call
        to QGRIDA which forced additions to UVMAP and GRIDR.  Corrected
        a message actually in SDGRD and the call to QGRIDA.
        Moved nowhere.

 8841.  October 30, 1995            $APGNOT/SETJY.FOR          Athol
        SETJY did not correctly incorporate source-based frequency
        offsets found in the SU table when calculating the total
        frequency used in the velocity calculations. Fixed this.
        Impact is limited to those cases where the SU table has
        a non-zero frequency offset which is significant with respect
        to the rest frequency.
        Moved nowhere.

 8842.  October 31, 1995      $APLUNIX/ZVTPO3, ZVTPGC (TPMON)  Pat
        The loop over possible aliases in the logic to match hostnames was
        faulty; the relevant pointer was not being incremented.  This
        caused infinite loops and puzzled workstation owners.  I'm still
        not sure I've nailed the problem but at least it outright rejected
        me instead of sitting there dumbly... more to follow no doubt.
        Moved to my login area at the AOC for testing...

 8843.  October 31, 1995             GRCLEAR                 Eric
        Fixed the inputs section of the help file to allow a value of 0
        (all).  Added a couple of comments.
        Moved nowhere.

 8844.  November 1, 1995            OTFUV                  Eric
        Added a routine to make an antenna table to attach to the output
        uv data set.  This should keep some programs happier and will
        provide the antenna coordinates should azimuth or elevation need
        to be computed.
        Moved nowhere.

 8845.  November 1, 1995            INDXR                   Eric
        Changed it to be forgiving on sort order (T* not TB required)
        and to handle a missing source table/parameter happily.  Added
        the ability to write CS tables for single-dish and use the scan
        random parameter if present.  Corrected a bug: if more than one
        subarray was present, then the CL table written was wrong.  It
        would make entries for only one subarray at any one time and
        then wipe out the full antennas used list rather than only the
        part of that list for the present subarray.
        Moved nowhere.

 8846.  November 1, 1995      $APLUNIX/ZVTPO3, ZVTPGC (TPMON)  Pat
        The logic that was deciding whether a host was authorized got
        broke when I added the loop over host aliases ("auth = 0" was set
        inside this loop, not outside).  Fixed, and also fixed the
        printout TPMON gives (to stderr) when access is denied to print
        the official hostname and also the IP address.
        Moved to the AOC (aguila only) this date.

 8847.  November 1, 1995             ALTDEF                   Eric
        Changed AU7 so that the correct result would be found when
        ALTDEF is done on a header having velocity in the main part of
        the header.  It referred to KDARV+I-1 but the alternate ref
        value is not an axis and should never have the +I-1 part.  This
        never worked (except if velo was axis 1).
        Moved nowhere.

 8848.  November 2, 1995           Misc                      Eric
        Changed LSTHDR and KWIKHD to display the clean beam parameters
        even for uv data.  This location is for the single-dish
        beamwidth in sd data.  Change ZGMAI2.C to mail the gripes to
        additional addresses incl aipgripe@zia.aoc.nrao.edu.
        Moved nowhere.

 8849.  November 2, 1995        TPMON/ZVTPO3/ZVTPGC          Pat
        Fixed bugs in the string comparison that made it impossible to use
        if there was a case mismatch in the alias and the contents of the
        TPHOSTS file.  Also added extensive debugging info bracketed by
        appropriate #if directives.
        Moved nowhere.

 8850.  November 2, 1995       $SYSUNIX/DADEVS.PL            Jeff
        Added small sanity check to ensure that calling scripts/programs
        pass a PID (or something "unique") as the first argument.
        DADEVS.PL now dies (with an explanation message) if not.
        Moved nowhere.

 8851.  November 4, 1995       $APLNOT/BPCOEF.FOR            Athol
        Removed stray TAB character from source code. No user impact.
        Moved nowhere.

 8852.  November 7, 1995       $APLNOT/GETSOU.FOR      Leonia/Athol
        Precess single source coordinates to return correct apparent
        coordinates. Was previously returning mean coordinates of
        epoch as apparent coordinates in the single source case.
        Moved nowhere.

 8853.  November 7, 1995        SDMOD                   Eric
        new task.  Modifies single-dish uv data replacing data with up
        tp 4 Gaussians plus noise or adding Gaussians to data.
        Moved nowhere.

 8854.  November 7, 1995        $APGNOT/PCCOR.FOR            Athol
        Contained dormant local routine TBTIME which was never
        called. Removed this dead code: no user impact.
        Moved nowhere.

 8855.  November 8, 1995        $HLPFIL/HFPRT.HLP            Ed F
        Changed a few words for clarity in HFPRT help file.  No
        changes made to code in $APGOOP/HFPRT.FOR.
        Moved nowhere.

 8856.  November 8, 1995        $APGOOP/HF2SV.FOR            Ed F
        Fixed time round off to prevent seconds = 60.  Changed
        experiment number of 0.
        Moved nowhere.

 8857.  November 8, 1995        $APGOOP/CL2HF.FOR            Ed F
        Fixed several bugs:  correction of phase rate; added
        table sort; fixed uv-scaling, fixed phase difference.
        Moved nowhere.

 8858.  November 8, 1995        $APGOOP/MBDLY.FOR            Ed F
        Improved a few output formats.
        Moved nowhere.

 8859.  November 8, 1995        $HLPFIL/IMFIT.HLP            Ed F
        Claified zero level use in help file.
        Moved nowhere.

 8860.  November 8, 1995         $APGNOT/FITLD.FOR           Phil
        Made a series of minor changes. Increased some buffer sizes to
        parameterized values. Ensured that the FFT artifact correction
        message is only written to the HI file when it is applied.
        Tidied up the printing of the frequencies found when FITLD runs.
        Moved nowhere.

 8861.  November 8, 1995            DBCON                  Eric
        Changed to set DOPOS to 0 when single-dish data and when there
        is no position difference.  Otherwise it was talking about
        shifts even though (one hopes) nothing much shifted.
        Moved nowhere.

 8862.  November 9, 1995           DISMOUNT.HLP             Eric
        Corrected typo, improved wording.
        Moved nowhere.

 8863.  November 9, 1995           UVPLT                   Eric
        Corrected code that depended on UVGET defaulting because it
        might be invoked before UVGET is called (if the plot scales are
        set by the user).  Changed it to recognize single-dish data and
        call things more sensible names and units.  Corrected bug
        handling plots including more than one spectral-line channel.
        It had a bad error in figuring out the default scaling since an
        array of (3,*) was called an array of (2,*).  This affects
        interferometer data too.
        Moved nowhere.

 8864.  November 10, 1995        $QPGNOT/CPASS.FOR           Athol
        Corrected time mis-labelling in the BP table which could
        occur for SOLINT=0.
        Moved nowhere.

 8865.  November 13, 1995        $APLNOT/UVTIME.FOR          Athol
        Add new subroutine UVTIME, which determines the start and
        stop times in a multi-source or single-source uv-data file
        which is sorted in TB order. This is a copy of local routine
        TBTIME which was in use in five tasks in almost identical
        form (including an upcoming change to UVFLG). The local
        TBTIME routine was removed from the following tasks and the
        call to TBTIME replaced by a call to UVTIME:
          $APGNOT/VBGLU.FOR
          $APGNOT/ACCOR.FOR
          $YPGNOT/FRMAP.FOR
          $YPGNOT/POSSM.FOR  - pending.
        Moved nowhere.

 8866.  November 14, 1995      $APGOOP/MBDLY.FOR             Pat
        Removed EXTERNAL references to unused BLAS routines ISAMAX and
        SMIN; they're not used in the code and generated a link error on
        the Alpha.
        Moved nowhere.

 8867.  November 14, 1995      $YPGNOT/FRMAP.FOR           Leonia
        FRMAP was wtitten especially for VLBI data to use fringe rate
        for mapping spot sources distributed over large scale.
        Originally I thought this program was not useful for VLA data
        because the fringe rate's angular resolution is not high for VLA.
        But having reduced the methanol masers observed in the A configuration,
        I discovered the spots distributed on the scale of tens of arcseconds.
        In this case FRMAP can be effective to determine the windows
        for clean mapping. So I've updated FRMAP for VLA data, taking
        into account the RH system of coordinates (instead of LH for VLBI)
        and direction of X axis in the local meridian (instead of
        greenwich for VLBI).
        Moved nowhere.

 8868.  November 14, 1995           POSSM                  Eric
        Correct output format remark and get rest frequency from header
        if it is not in the source file to improve text file output.
        Have autocorrelation data treated as reals not amplitude (which
        people will think are > 0).  Have it read an antenna file if
        there is one - now have them with single-dish.  And have it
        recognize single-dish data and plot real only and use K rather
        than Jy.
        Correctd output text file to have a column of frequencies and to
        attempt to have the correct frequency and velocity for each of
        the (possible) multiple IFs.  The velocities were wrong before
        and the frequencies were not given
        Moved nowhere.

 8869.  November 14, 1995         UVWAIT                   Eric
        Some multipliers were not computed when doing natural weighting,
        causing the actual taper applied to be zero.  Moved these
        multipliers out of the IF areas.
        Moved nowhere.

 8870.  November 14, 1995      $APGNOT/PCCOR.FOR           Leonia
        Bill Cotton has demonstrated PCCOR does not work with REFANT=8.
        I have discovered that PCCOR does not work with any REFANT>5.
        The reason was a wrong definition of the antennas sequences
        in a baseline if REFANT>5. I've fixed it.
        Moved nowhere.

 8871.  November 14, 1995  $APGNOT/UVFLG.FOR & UVFLG.HLP  Leonia/Athol
        Added facility to flag data below a specified elevation
        threshold.
        Moved nowhere.

 8872.  November 15, 1995            RECAT                  Eric
        Added a line of code to replace all file sequence numbers <= 0
        with 1000 + CNO.  This should repair the seq 0 files which
        appear occasionally.
        Moved nowhere.

 8873.  November 15, 1995            OTFUV                  Eric
        Fixed it to work on byte swapped computers (e.g. PCs and DEC
        Alphas).  It detects that the first control words have the wrong
        value and then tests to see if they get correct values when
        swapped.  If so, all data are swapped from canonical (IEEE, big
        endian) to local.
        Moved to the patch area.

 8874.  November 19, 1995          FITLD                    Phil
        Increased the buffer size of the vis. array in the random groups
        FITS routine UVFDAT. It was too small for large AT line data
        sets. Also fixed a minor Fortran error that Pat Murphy
        discovered.
        Moved nowhere.

 8875.  November 20, 1995            FILLM                  Gustaaf
        FILLM integrates visibilities according to user supplied
        parameters. To this end, for each time stamp, the "end of
        current integration" is read from tape. Before 1988, when the
        online system was completely rewritten, a different value was
        used than after 1988. FILLM until now only read the latter
        value, and gave inconsistent results for data from before
        1988. This became evident when the online integration time was
        not an integral multiple of 10 seconds. FILLM now checks the
        version number of the online software, and reads the
        appropriate "end of current integration time" value
        accordingly.

 8876.  November 21, 1995           IBLED                   Eric
        Continuing to work on single-dish in AIPS: IBLED's reaction to
        single-dish data (and other kinds) was poor.  Changed:
        (1) Changed to require T? not TB sort order.
        (2) Changed to dummy info if no antenna file.
        (3) Changed to average Reals not amplitudes for autocorrelations
            and to compute rms for decorrelations.
        (4) Changed to allow decorrelation display.
        (5) Changed to avoid re-loading data when things have not
            changed.  There were a few tests, added several more.
        (6) Dropped most of the turn-on cursor calls, changing them to
            read the cursor (if CURSON else turn it on).  Dropped all
            turning off of the cursor.  This should speed up user
            interaction, since the cursor on moves the cursor away from
            wherever the user has pointed it.
        (7) Select frame did not work and now does - I do not know what
            I did to change this.
        (8) Fixed header of work file - the RA and Dec axes got lost if
            there was not an IF axis to begin with.
        (9) Updated the help file, making the help and explain lines
            longer and trying to clarify the integration time parameter.

 8877.  November 21, 1995          $SYSUNIX/ZLPCL2          Pat
        At a user's request, modified this script so it permits printer
        output to go to a PS previewer or other script in $SYSLOCAL.
        Moved nowhere.

 8878.  November 21, 1995            FRING                  Chris
        Fixed the AP size check to estimate AP usage correctly when
        averaging frequencies within IFs (APARM(4) > 0).
        Moved nowhere.

 8879.  November 21, 1995           PRTUV                   Eric
        Tested ILOCT > 0, should be >= 0.
        Moved to NRL, nowhere else.

 8880.  November 21, 1995           SAD                     Eric
        Corrected the handling of position angles.  The deconvolved
        results were not going through the coordinate handling routines
        and hence were not referred to North but instead to the right in
        the image pixel plane.  Corrected an erroneous use of ABS
        functions elsewhere and changed the error computation for
        position angle to match the theory developed by Condon.
        Corrected the position angle error computation (forgot a sqrt)
        on November 25.
        Moved nowhere.

 8881.  November 22, 1995          $APGNOT/MK3IN.FOR        Athol
        Modified MK3IN to allow AC lag functions starting at lag 1
        rather than lag zero. The starting lag number depends on
        the assignment of lag modules at the correlator. Previously
        AC lag data usually included lag 0 but recent data have
        included instances of AC lag data starting at lag 1. Modified
        subroutine ATLAG to deal with this case, and skipped the
        check for blanked data on AC lag zero in ATREC. This is
        set to one later in AC normalization anyway.
        Moved nowhere.

 8882.  November 27, 1995     POLSN.FOR                   Bill Cotton
        Fixed problem in format which made it blow up instead of give
        error message.
        Moved nowhere.

 8883.  November 27, 1995     CROSSPOL.001                Bill Cotton
        Modified to run the cross polarized FRING multiple times, once
        per "other" antenna to get better statistics on the
        crosspolarized delays and to average out some of the variations
        in instrumental polarization.
        Moved nowhere.

 8884.  November 27, 1995       IMFIT, JMFIT                 Eric
        Corrected both tasks to use the coordinate routines to determine
        component widths and position angles when quoting the sizes in
        arc seconds.  The position angles were wrt to something but not
        necessarily North.  Added code to do estimates of noise based on
        the true rms.  Unfortunately, the internal estimates of
        uncertainties are usually larger than these theory estimates.
        The tasks give both estimates anyway.  Added PRTLEV to JMFIT to
        cut off the excess printing of fit information.
        Moved nowhere.

 8885.  November 27, 1995        Table sorting                Athol
        The calibration system was having difficulties in sorting
        large BP tables due to inadequate array declarations in
        several routines:
           $APLNOT/ITBSRT.FOR - previously assumed a maximum table
              record size of I*4(2048). Increased this to 16384
              and added a check to prevent array overruns.
           $APLNOT/TABSRT.FOR - buffers BUFFER and TABUFF are
              adjustable arrays but were declared fixed length.
              Generated errors when compiling with array bounds
              checking. Fixed.
           $APLNOT/OTBSRT.FOR - as for TABSRT.
        Symptom: SPLIT would fail with a segmentation violation in
        applying a 1024-channel, dual-polzn, single IF bandpass.
        Moved nowhere.

 8886.  November 28, 1995       UVCOP                        Leonia
        The selection criteria have been added when coppiing PC
        table (antennas, IFs, FREQID, sources, time).
	To do it:
           PC table has been excluded in COPYHI from the list
           copied by ALLTAB.
           A new subroutine PCSEL has been added in COPTAB.
        Moved nowhere.

 8887.  November 28, 1995       Large BP tables              Athol
        Implement changes to allow larger BP table records than
        presently permitted. In particular, accomodate ATCA
        2048-channel, dual polarization bandpasses. Double the
        BP table I/O buffer to 16384 in the following routines and
        tasks:
           $APLNOT/BPINI.FOR
           $APLNOT/BPREFM.FOR
           $APGNOT/BPCOR.FOR
           $APGNOT/UNCAL.FOR
           $APGNOT/FITLD.FOR - pending
           $QPGNOT/BPASS.FOR - change several format statements to
                               accomodate 4-digit channel numbers.
        Moved nowhere.

 8888.  November 28, 1995           SL2PL                   Eric
        Changed the setting of the max and min so that one can get the
        default for min or max and set the other (by setting the one
        reasonably and the other way off).
        Moved nowhere.

 8889.  November 28, 1995           INDXR                   Eric
        Changed it to use CPARM(5) to cover up for a missing AN file for
        single dish data only.  CPARM(5) = max antenna number.
        Moved nowhere.

 8890.  November 28, 1995          CSCOR                    Eric
        Changed the sort test to 'T?' rather than 'TB'.  Added CPARM to
        give the antenna longitude and latitude when the AN file is
        missing.
        Moved nowhere.

 8891.  November 29, 1995           OTFUV                   Eric
        The integration time is not the best way to get the number of
        samples - the data length gives that better since it is not
        rounded up to the next integer * 512.
        Moved to the patch area this date.

 8892.  November 29, 1995          SDCAL.HLP                Eric
        Corrected it to refer to what it does, not SPLIT.
        Moved nowhere.

 8893.  November 30, 1995          QCLEAN                   Eric
        Fixed it - this time I hope - to store the TELL Clean beam
        parameters on the output image headers in IMAGR, WFCLN, ...
        Moved nowhere.

 8894.  December 1, 1995          ACTNOISE                 Eric
        Changed SAD, IMFIT, JMFIT to use the value of header keyword
        ACTNOISE (if present and > 0) instead of fitting the histogram
        of the full image to determine the rms.  Changed POPSDAT.HLP,
        NEWPARMS.001, and AU7A to implement a verb ACTNOISE to put
        ACTNOISE into the image header.   Created an ACTNOISE help file.
        Changed IMEAN to use ACTNOISE as an estimate if PIXSTD = 0 in
        order to avoid 2 passes.  Also changed IMEAN to use histogram
        cells of 1/8 of PIXSTD (or ACTNOISE) in the first pass and 1/60
        of the source-included rms if a second pass is required.
        Moved nowhere.

 8895.  December 5, 1995             SAD                    Eric
        Corrected computation of plane in input MF file and in window
        for subtracting components on input and at the end.
        Moved nowhere.

 8896.  December 5, 1995            MFPRT                   Eric
        Changed it to allow the user to control the sort order and to
        use reasonable units for coordinates depending on the cell size.
        Moved nowhere.

 8897.  December 6, 1995            TEKSRV                  Pat
        This failed to start under OSF/1 (Digital Unix) on Alpha AXP ONLY.
        Other architectures and systems seem unaffected by this.  The
        default protection on Dec Alpha windows (xterm, dxterm, dtterm,
        whatever) seems to inhibit the ioctl() call that set the terminal
        characteristics to raw.  This is nominally to prevent the often
        long character strings sent to the "terminal" (tek4010 code) from
        being broken up with unwanted newlines or <cr>'s.  Taking out this
        whole section of code seems to work, though very complex plots may
        have problems.
        Moved to the patch area today.

 8898.  December 6, 1995                 RSTOR              Eric
        Changed the test on NX and NY to admit that 8192 is a power of
        2.  Also doubled the buffer sizes.
        Moved to rhesus today.

 8899.  December 6, 1995           UVWAIT                  Eric
        Removed a message that is meaningless when uniform weighting is
        not done.
        Moved nowhere.

 8900.  December 6, 1995           REBOX                   Eric
        Corrected AU5C, REBOX verb.  It referred to the wrong variable
        rather than the one returned by GRBOXS for the number of boxes.
        It then branched to the wrong place for closing down and
        produced all sorts of messages appropriate for FILEBOX.
        Moved to solaris and ibm today.

 8901.  December 6, 1995           KNTR                    Eric
        Changed AXSTRN to do leading zeros properly in sexagesimal
        seconds format.  Changed KNTR to display the third axis
        coordinate correctly no matter what third axis it is.  Changed
        it to offer the absoulote value of the coordinate or relative to
        the reference pixel.
        Moved nowhere.

 8902.  December 6, 1995           FILLM                   Gustaaf
        FILLM creates a CL (and TY) table entry under three
        conditions: 1) at the beginning of a scan, 2) at the end of a
        scan, and 3) when CPARM(8) minutes have elapsed since the
        previous entry.  In the particular case where a scan consists
        only of one integration, two identical entries were written
        due to 1) and 2). Logic was added to FILLM to check before
        writing and 'end-of-scan' entry whether a 'beginning of scan'
        entry already was written at the same time.

 8903.  December 6, 1995           $QPGNOT/CPASS.FOR       Athol
        Place tighter restrictions on the default parameters for
        the least squares fit, to provide a more robust user
        interface. Correct a value/reference error in calling
        subroutine BPCOEF; this error surfaced recently by
        triggering an adressing exception on certain architectures.
        It did not introduce BP errors.
        Moved nowhere.

 8904.  December 6, 1995           $HLPFIL/CPASS.HLP       Athol
        Add a detailed EXPLAIN section. Also made changes relating
        to the new default input values (#8903).
        Moved nowhere.

 8905.  December 7, 1995           $APLNOT/DATBND.FOR      Athol
        Correct simple logic error affecting non-VLBA data when
        a polynomial BP is applied. This case can to light with
        some ATCA data. No other bandpass application is
        affected. Re-link all BP routines and tasks.
        Moved nowhere.

 8906.  December 8, 1995           BPASET                   Eric
        Changed it to test BPCNO and BPVOL to see if the scratch file
        already exists and, if so, to expand it if needed and skip
        creating yet another one.  This was blowing iterative tasks out
        of the water after 120 channels or so.
        Moved nowhere.

 8907.  December 8, 1995           QCLEAN                   Eric
        The TV option was loading the first channel of the data cube,
        not the current channel plane.
        Moved nowhere.

 8908.  December 8, 1995           GRDFLT                   Eric
        Fixed it to issues its messages only once.
        Moved nowhere.

 8909.  December 8, 1995            $YPGNOT/POSSM.FOR       Athol
        Fix call to BPCOEF in subroutine POSSBP. Only half the
        bandpass was plotted in certain limited cases. This affected
        only BP plotting, not BP application.
        Moved nowhere.

 8910.  December 11, 1995           $APGNOT/FITTP.FOR       Athol
        Increased the buffer size for BP tables from 8192 to
        16384+128, to accomodate 2048-channel ATCA bandpasses.
        Moved nowhere.

 8911.  December 11, 1995           $YPGNOT/FRMAP.FOR       Leonia
        The previous version of the task had direction of RA axis to
        right. It confused the people because other task produce maps
        with direction of RA axis to left. So I have changed the
        direction to bring to conformity FRMAP with other tasks.
        Moved nowhere.

 8912.  December 11, 1995           CookBook               Eric
        Changed chapters 4, 5, 6, and 8 for cross-refernces to Chapters
        7 and the new 10.  Changed Chapter 13 for new lists up to date.
        Changed the index and table of contents for 7, 10, 13.  Wrote a
        new chapter on single dish.  Added \boxt and the indexing to
        COOK82.MAC.
        Moved to the www site.

 8913.  December 11, 1995          ABOUT files            Eric
        Ran the SHOPH proc and updated what it said to update:
        AP        CALIBRAT     CATALOG      GENERAL      IMAGING
        INFORMAT  INTERACT     MODELING     OOP          PLOT
        SINGLEDI  SPECTRAL     TAPE         TASK         UTILITY
        UV        VERB
        Moved nowhere.

 8914.  December 13, 1995         $APGNOT/FITLD.FOR        Phil
        2 minor bug fixes and 1 major enhancement.
        Fixes: The correlator can write duplicate entries in the
        incoming frequency table (only if the correlator scripts contain
        such entries). FITLD had a built in assumption that the highest
        numbered unique FQID was the one to use (without me really
        thinking about it) but in fact the first found should be used.
        Fixed so that this is now the case. Luckily the project that
        fell into this hole was the first one with this feature.
        The second bug concerned antennas switching in and out of the
        array, one project lost one and gained two more in the space of
        a single scan. FITLD couldn't handle this, it now can.
        The major enhancement is the implementation of Leonia's
        correction for the correlator's saturation effect in
        self-spectra. The result of this change is that all data spat
        out by FITLD from the VLBA correlator now have all known digital
        corrections applied to them.
        Moved nowhere.

 8915.  December 14, 1995            CONVL                  Eric
        Added OPCODE DCON to deconvolve a Gaussian from an image.
        Cleaned up the wording in the help file which lied about the use
        of BMAJ.
        Moved nowhere.

 8916.  December 14, 1995            IM2UV                   Eric
        Added options to shift the phase center, control the peak
        amplitude, set the central weight, and taper the weights.
        Moved nowhere.

 8917.  December 15, 1995              CLIP                 Eric
        Cleaned up the code a little and changed the detailed flag info
        format to show the times in intelligible form.
        Moved nowhere.

 8918.  December 15, 1995             *APT.INC              Eric
        Changed VAPT.INC and its declarer DAPT.INC to list all AP tasks,
        but then to say there are none.  This lifts the ban on AP tasks
        in batch queue 1.
        Moved nowhere.

 8919.  December 16, 1995         POPSDAT                  Eric
        TAU0 adverb was spelled with a zero in APCAL and NEWPARMS but
        with a letter O in POPSDAT.HLP.  Fixed POPSDAT.
        Moved nowhere.

 8920.  December 16, 1995        COMPRESS                  Eric
        Wrote a garbage collector for POPS.  Changed:
        K2TEXT   new - write the K array to a text file
        OERROR   to delete file on error and restore normal input
        PREAD    to read file, delete on error/EOF and restore normal
                 input
        STORES   to call K2TEXT, set up special input mode, RESTORE 0
        AIPS     to suppress messages in this mode.
        AIPSB    to suppress messages in this mode.
        AIPSC    to suppress messages in this mode.
        COMPRESS updated help file with the good news (RUN NEWPARMS is
                 now obsolete - this is better).
        Moved nowhere.

 8921.  December 18, 1995        $QPGNOT/CPASS.FOR         Athol
        Fix catalog reference to dimension of frequency axis in
        subroutine BASOLV.
        Moved nowhere.

***********************************************************************

        Changes while 15JAN96 was NEW

***********************************************************************

***********************************************************************

 8922.  December 21, 1995         ZDIE                    Eric
        Created a new Z routine to delete the /tmp/<task><npops>.<pid>
        files at the end of a task.  They get deleted other ways too,
        but occasionally one has bad luck and the pid matches some long
        running pid on the system.
        AIPSPROTO.H   to reference zdie
        ZABORS.C      UNIX, BERK, SUN to call ZDIE
        ZDIE.FOR      GEN to build task name and call ZDIE2
        ZDIE2.FOR     GEN stub
        ZDIE2.C       UNIX to do the file deletion.
        DIETSK        to call zdie
        Moved from 15OCT96 this date.

 8923.  December 21, 1995         ZWHOMI                   Eric
        ZWHOMI was depending on the SETPAR value for the number of TV
        devices.  We can't depend on that being right with the ease with
        which they are added these days.  Changed ZWHOMI to translate
        the AIPSTVS symbol used in assigning REMOTE TK numbers in the
        first place.
        Moved from 15OCT96 this date.

 8924.  December 21, 1995      Help and CookBook               Eric
        I forgot ZZANALYSIS and COMPRESS changes ZZPOPS and
        ZZPSEUDOVERB.  Also the CookBook Chapter 13 changes.  While we
        are at it I reworded the 1-liner of COMPRESS to say more.
        Corrected typographical (spacing) errors in chapters 2 and 4 of
        the CookBook and an error in a reference to extended hex in
        Chapter 3.
        Moved from 15OCT96 this date.

 8925.  December 21, 1995          SPLIT                   Eric
        Fixed two errors:
        (1) The loop over sources in SPLTUV did not alter SELQUA.  Thus,
        if there were > 1 qualifier for a source name, the cal routines
        would think they were writing a multi-source file.  Fixed by
        setting SELQUA to the current qualifier.
        (2) The routine that makes a list of desired source numbers had
        an error test for the list going from > 0 to 0 due to a check on
        the index table.  The wrong variable was used for the error code
        so the task continued rather than dying as was intended.
        Moved from 15OCT96 Dec 22.

 8926.  December 27, 1995         Guest TVs                 Eric
        There is no reason why a "remote" computer (not in the TVHOSTS
        list) cannot run XAS and receive TV signals from the server
        computer.  Even if the 2 are reversed in byte order the TV, TEK
        and MSG servers all work.  The only complication is in the IC
        and ID files - guests on a server get a guest IC and ID which
        are not the same as on their machione.   If multiple computers
        address a screen being used by a guest TV then some confusion
        about images and whioch channel is on etc. will occur.  Changed:
        AIPSEXEC   To set the remote TK at 36 higher than before, i.e.
                   to AIPSTVS + 37 through 71.
        TVDEVS.SH  To allow for unknown TVHOST = TVDISP to pass through.
        ZWHOMI     To gets AIPSTVS (# known TV hosts) and recognize the
                   guest usage.  It then determines which guest account
                   (if any - it looks for available ID files) is
                   available, creates a /tmp/GUESTVn lock file, does any
                   needed assignments of logicals for TV and TK.
        ZDIE       To call ZGUEST to kill the guest TV if needed.
        ZGUEST     New: to create / delete the /tmp/GUESTVn files.
        Moved from 15OCT96 this date.

 8927.  December 27, 1995          ZACTV9                      Eric
        Called the function "creat" which does not care whether the file
        being created already exists or not.  Changed to call "open"
        with the addition of an excl flag to require that the file not
        exist.
        Moved from 15OCT96 this date.

 8928.  January 3, 1996            CookBook                 Eric
        Putback a revised Chapter 12 (advanced POPS etc) including new
        capabilities for remote use, COMPRESS, etc.  Changed Cross
        references in Chapters 3 and 7 to chapter 12.  Added AHISTM
        HISEQ MF2ST, SKYVE to Chapter 7.  Redid the table of contents
        COOK0 and the index COOKI to match all this.
        Moved to 15JAN96 since there is but one area.

 8929.  January 3-4, 1996          ZSSS*2.C               Eric
        Changed the name of 4 external variables to be different from
        those used by ZVTP*2.C.  Moved the external variables
        declaration inside the code as "external" in ZSSSX2 and ZSSSC2.
        It is improper to declare the variables externally more than
        once, although it took SGI's latest linker to complain about
        them rather than doing the right thing.
        Moved to NEW this date.

 8930.  January 4, 1996            $HLPFIL/APCAL.HLP       Athol
        Revise EXPLAIN section for APCAL. Add information about
        source flux densities and the format of the external
        weather file.
        Moved from 15OCT96 this date.

 8931.  January 11, 1996       $SYSUNIX/READLINE.SHR, etc.     Pat
        Created three new AIPSSHAR format archives to hold the three
        directories needed to build the GNU ReadLine library:
        READLINE.SHR, RLDOCS.SHR, and RLEXAMP.SHR.  The last two should be
        expanded into docs/ and examples/ subdirectories of wherever the
        READLINE.SHR file is expaneded; INSTEP1 needs to take care of
        this for source-only builds.
        Moved from TST this date.

 8932.  January 11-13, 1996         Misc from Alpha            Eric
        The alpha compiler is good at warnings.  With the usual 0
        initialization the following are not serious:
        RANDIN  Changed Common /RANDOM/ to /RANDMM/ to avoid conflict
                with library function name
        RANDUM  /RANDOM/ -> /RANDMM/
        QMSPL   /RANDOM/ -> /RANDMM/
        CANPL   /RANDOM/ -> /RANDMM/
        STFND   KOFF was used without intialization - variable dropped.
        ACFIT   USERID set to IUSER an uninitialized local variable
        DCONV   NMAX declared before and after the PARAMETER statement.
        LTESS   Used left over adverbs not present in task to set Common
                parameters which were not used
        MK3IN   In AT10XX, IBASE referenced in debug section without
                initialization.  GUESSED that an equivalence was needed
                to TMPBUF(2) as in other routines.
        SELSD   Removed left over error test, no longer meaningful.
        SNSMO   Record offset in RFFXFG routine not initialized - 0
                seems what was desired.
        STESS   Used left over adverbs not present in task to set Common
                parameters which were not used
        UFVFIL  Alpha complained wrongly about 2 out variables not
                initialized; added inits to fool it and to be defensive
        UVIMG   Removed line using F which was not DATAed.  DOSMTH set
                correctly a few lines later.
        IM2UV   Changed a double comma to a single comma in a FORMAT.
        FRMAP   OLDSRC = SRCDUN where SRCDUN never set and OLDSRC never
                tested or used; dropped both variables.
        TVFLG   Droped a test against TEMP (=0) since always true.
        VBPLT   Dropped a bunch of unused code that gave warnings a
                counted junk.
        VPLOT   Dropped a bunch of unused code that gave warnings a
                counted junk.
        ITICS   Dropped an unused error message section.
        **** But the following may have caused an error:
        GSCAT   OUTIND not initialized - meant buffers addressed from 0
        IMFIT   A bad number of good samples was passed to the first
                call to LMSTR1.  It may not have mattered since FCN does
                not use that parameter.
        VLBIN   Corrected an error in calculating the earth rotation
                rate and removed unused and erroneous code purporting to
                set up history info
        ISPEC   Used an otherwise unused variable (SCALX) to set an
                offset to the plot.  Using SCALY as intended will change
                the offset a lot, but may not affect the plots.
        IBLED   Used a bad subscript into the ERRORB array when plotting
                error bars for the upper (full vis) plot.  Used uninit I
                rather than IX.
        PFPL3   Did not have a good value for magic blanking.
        SPFLG   Droped a test against TEMP (=0) since always true and
                fixed tests in the history writing that left things out
                when the 1st antenna stayed the same but the 2nd changed.
        Moved to NEW.

 8933.  January 14, 1996           BPASET                   Eric
        This piece of shit was setting ARRAY(TELNO(I)) without regard
        for the value of TELNO(I) for i = 1 through 90!.  Caused DEC
        machines to blow up   I am tempted to cancel the release when I
        look at this code.  Between BPASET, BPFSEL, BPREFM, and POLVIS
        (alone) there are 26 arrays dimensioned (MAXCHA,MAXIF) rather
        than (MAXCIF).  The former is 114800, the latter 8192 which may
        be a little small.  Thus these 4 subroutines alone make many
        tasks (almost all with shared libraries) use about 10 Mbytes
        more swap than they need.  There are many more such misuses of
        the worst case scenario - in DSEL.INC, DUVV.INC, DBAV.INC etc.
        BP and Pol cal must be rewritten - but it's not my job anymore.
        Moved the simple fix to NEW this date.

 8934.  January 14, 1996       Undefined floats            Eric
        POPS puts V(SP) = C(j1) in a value stack even when this is not
        appropriate (i.e. j1 = 2) and the C is an integer of the
        equivalence K.  This cannot be changed since the legal/illegal
        j1's cannot be fully determined.  Changed AU2, AU5, AU5C, AU8,
        AU9C, AUC, and SUBS to check  for an array/string name on the
        stack rather than a scalar.  This should reduce the problem.
        DEC OSF/1 is unforgiving about math with bad values.
        Moved to NEW this date.

 8935.  January 15, 1996    Buffers used by ANTAB/GC tables  Athol
        MK3 data require more substantial buffers due to the larger
        number of IF channels. Increase all gain curve (GC) table
        I/O buffers from 8192 to 16384. Make this change in
        $APLNOT/GCINI.FOR, $APLNOT/TABGC.FOR and $APLNOT/GCKEY.FOR.
        Increase general buffers BUFF1 and BUFF2 in $APGNOT/ANTAB.FOR
        accordingly. Also increase the ANTAB work buffer in
        subroutine TYCONS, used when consolidating the system
        temperature entries in the TY table. This limit breached
        by a combined VLBA dataset stretching over four days.
        Moved from TST this date.

 8936.  January 17, 1996            IMMOD                   Eric
        Changed scaling of brightnesses to account for the beam in the
        input image.
        Moved to 15JAN96.

 8937.  January 17, 1996            TVCPS                   Eric
        Added OPCODE = 'COLB' which makes blanked and edge pixels
        'FFFFFF' rather than '000000'.  The latter is black, the former
        transparent on transparency paper.  Option ignored when DOINV
        TRUE.
        Moved to 15JAN96.

 8938.  January 17, 1996           KNTR                     Eric
        Needed to use LOCNUM = 2 for calls to PLTBEM - LOCNUM = 1 can be
        messed up with labeling type choice but 2 is in standard
        coordinates.
        Moved to 15JAN96.

 8939.  January 17, 1996            $APGNOT/SPCAL.FOR & .HLP   Athol
        Upgrade of SPCAL. New features include: i) larger buffers to
        accomodate VLBA datasets; ii) more careful checks on pre-avg.
        buffer pointers; iii) new solution type 'RAPR' which assumes
        that the linearly polarized emission in each channel is a
        scaled form of total intensity (as in PCAL).
        Moved from 15OCT96.

 8940.  January 22, 1996          DOSMTH                    Eric
        Changed CALEDIT to init DOSMTH to true - it will be unset if
        SMOOTH is 0.  Changed CALEDIT to declare SMOOTH as an int,
        matching the DSEL.INC definition.  Changed IMAGR and BLING to
        declare SMOOTH to be integer.
        Moved nowhere - this is a patch for NEW only.

 8941.  January 22, 1996          CHINC                    ERic
        This was badly messed up too.  OUVIMG in QUVUTIL set CHINC to 1
        rather than finding out what its value really was and then
        passed that to IMGMEM which passed it to a header correction
        routine.  Changed QUVUTIL to acquire the real CHINC from the UV
        object.
        The header routine had the bizare idea that the frequency
        increment should be the averaging width if channel are averaged.
        That makes sense if they are all averaged, but not if just some
        are.  Changed IMHCOR to test the number of points on the freq
        axis too.
        Moved to 15JAN96 this date.

 8942.  January 22, 1996             TRANS                  Eric
        The fix of the ALT ref pixel did not consider the sign applied
        to the new axis - leading to trouble when people reverse a
        frequency axis (which they should do in some cases).  Added a
        test for sign and the correct fix for reversal.
        Moved to 15JAN96 this date.

 8943.
