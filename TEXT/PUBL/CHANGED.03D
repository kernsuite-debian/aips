;-----------------------------------------------------------------------
;  Copyright (C) 2002-2004
;  Associated Universities, Inc. Washington DC, USA.
;
;  This program is free software; you can redistribute it and/or
;  modify it under the terms of the GNU General Public License as
;  published by the Free Software Foundation; either version 2 of
;  the License, or (at your option) any later version.
;
;  This program is distributed in the hope that it will be useful,
;  but WITHOUT ANY WARRANTY; without even the implied warranty of
;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;  GNU General Public License for more details.
;
;  You should have received a copy of the GNU General Public
;  License along with this program; if not, write to the Free
;  Software Foundation, Inc., 675 Massachusetts Ave, Cambridge,
;  MA 02139, USA.
;
;  Correspondence concerning AIPS should be addressed as follows:
;         Internet email: aipsmail@nrao.edu.
;         Postal address: AIPS Project Office
;                         National Radio Astronomy Observatory
;                         520 Edgemont Road
;                         Charlottesville, VA 22903-2475 USA
-----------------------------------------------------------------------
     This file must be used to record any changes made to the Master
version of AIPS kept in SOCORRO.  An entry is:

   line 1:   Date Program name Your name
   line 2:   What was done (may span multiple lines)
   line n-1: Where has this change been moved (e.g. 15JUL94, nowhere)
   line n:   Blank

 The details of line 1 are important since programs are used to find
 specified strings and do conversions on them.  It MUST be typed as
 follows: 1 blank, 4 digits, a period, two blanks, then the Month,
 day, comma, year, some space, a title, some more space, your name.


***********************************************************************
***********************************************************************

                 Changes while 31DEC03 is TST

***********************************************************************
***********************************************************************

11191.  December 16, 2002        several                    Eric
        Changed 31DEC02 to 31DEC03 in install.pl, update,pl, INSTEP1,
        SETPAR, GETRLS, AIPSPATH.*SH, UPDCONTROL.
        Moved nowhere.

11192.  December 16, 2002          install.pl                Eric
        Corrected the handling of the MNJ so that the date will be set
        by default to the tar ball date - 1 not December of last
        year.
        Moved change only to 31DEC02 this date.

11193.  December 16, 2002         plots                     Eric
        CCNTR and CNTR had an excess call to GLTYPE ahead of GINITL
        which confuses LWPLA.
        Moved to 31DEC02 this date.

11194.  December 17, 2002        LWPLA                 Eric
        Added code to prevent writing commands ahead of the first
        correct line in the PostScript output file (as CNTR caused
        until yesterday).  Issues warnings, does not write bad lines,
        and continues.
        Moved to 31DEC02 this date.

11195.  December 17, 2002         LOCIT, BASFIT        Eric
        Changed BASFIT.001 to offer DOCOLOR option.  Added info to
        BASFIT help file.
        Fixed bugs in LOCIT centering phases when some are blanked and
        printing phases when some are blanked.
        Moved to 31DEC02 this date.

11196.  December 17, 2002        SUL procs              Eric
        Changed FDEFAULT, CCOPTS, LDOPTS to allow g77 as well as
        SUNWspro compilers in $SYSSUL.  WARNING: the g77 are untested.
        Moved to 31DEC02 this date.

11197.  December 23, 2002      Plotting                  Eric
        LWPLA   The defense against premature plot commands did not
                take into account the possibility of appending to a
                pre-existing file.  The defense then stopped any
                appending.  Added a second place for FIRST=.FALSE.
        KNTR    Needed to manipulate the choice of LOCNUM for STARPL.
                Otherwise LTYPEs other than 3 could not plot stars.
        Moved to 31DEC02 this date.

11198.  December 23, 2002      VLBAPIPE.001                  Lorant
        Had the logic for DOUVCOMP switched, corrected in 31DEC02+03
        Moved to 31DEC02 this date.

11198.  December 23, 2002            TBIN                Eric
        The program did not handle a missing HI file properly.  Added
        code to create one if there was none and to avoid catastrophic
        errors in there is an HI problem.
        Moved to 31DEC02 this date.

11199.  December 23, 2002           POSSM                Eric
        Had the ability to call GFINIS without having called GINIT.
        This wrote to the unopened TV and hung both POSSM and AIPS.
        Moved to 31DEC02 this date.

11200.  December 24, 2002            LWPLA                 Eric
        Fixed so it will not repeat the setrgbcolor commands when not
        needed.  Also fixed wrong format for setgrey.
        Moved to 31DEC02 this date.

11201.  December 24, 2002          install.pl             Eric
        The question about skipping the tar ball unpack had the wrong
        code for the default - requiring a Y or y to be typed to
        skip.
        Moved fix (not full file) to 31DEC02.

11202.  December 28, 2002         KNTR                 Eric
        LTYPE=4 got the polarization vectors.  Added a LOCNUM game for
        them too.
        Moved nowhere - should go to patch.

11203.  January 2, 2003           FITLD                Eric
        EIF and ECHAN were set to match the user's data at the first
        VLBA-correlator file.  Thereafter they were used but not
        changed even if the user's data in a later file had a
        different number of IFs or spectral channels.  Changed it to
        use the adverbs at each file, so that they get reset as
        needed.
        Moved nowhere - should go to patch.

11204.  January 9, 2003         CONFI                   Leonia
        Two problems found by Mark Holdaway have been fixed.
        1. BLC, TRC used for selection the portion of the mask
           can not be chosen >16384 because of AIPS limit.
           Adverbs BLC, TRC were substituted by array XPARM.
           The four first elements of the XPARM are used for
           BLC, TRC of the selected portion of mask.

        2. The algorithm of finding the biggest side lobe of the beam
           failed to consider the nearest sidelobes.
           The algorithm that excluded the main lobe excluded
           some nearest sidelobes as well.
           I have rewritten the whole algorithm of finding the biggest
           side lobe.
        Moved nowhere.

11205.  January 10, 2003      CONFI                     Leonia
        Some small changes added to the last modified version of CONFI.
        1. Input parameter for elevation (BPARM(1)) has been removed
           and ELEV=90 fixed instead because only 90 has been used
           for elevation.
        2. When optimization is provided together with fitting to
           topography (DPARM(5)=2) user could forget to put number of
           steps at X,Y and rotation to 1. Putting the steps (BPARM(7,8,9)
           zero has given the wrong default values.
           Now the step values are forced to 1 if DPARM(5)=2.
        3. The task is terminated now with the relevant warning if
           number of the prohibited point at the mask is bigger than
           the given limit.
        Moved nowhere.

11206.  January 10, 2003          IRING       Eric/Patrick Leahy
        I found an older e-mail pointing out a bug in the coordinates
        used by IRING.  The center was offset by one pixel in both X
        and Y from that claimed.
        Moved nowhere, should go to patch.

11207.  January 10, 2003         SMODEL      Eric/Michael Bietenholz
        Changed VISDFT to accept PARMOD(1) = 2 to be the same as 3, an
        optically thin sphere as stated by numerous help file such as
        CALIB and FRING.  Also changed SMODEL.HLP.
        Moved nowhere.

11208.  January 10, 2003       CALREF                    Eric
        Corrected several matters for CLCAL, CALIB mostly:
        1. Added code to accept subarray 0 as any subarray.
        2. Added code to suppress warning about failure when there are
           no non-zero phases.
        3. Fixed it to stop unflagging flagged SN-table records.
        Moved nowhere.

11209.  January 10, 2003         IMDIST                 Eric
        New verb to determine the distance between two pixels in one
        or two images.  Changed AU9, POPSDAT, NEWPARMS and made a help
        file.  Also added COORDINA as an output adverb to IMVAL,
        QIMVAL, and MAXFIT and proc help files TVFLUX and TVMAXFIT.
        Moved nowhere.

11210.  January 10, 2003      output adverbs            Eric
        It is about time that output adverbs be identified as such so
        that they do not appear on INPUTS only on OUTPUTS.  In/out
        ones appear on both.  Changed the help files for:
        BOX2CC    CHKNAME  CLR2NAME  CLR3NAME  CLR4NAME  CLRNAME
        CLRONAME  COPIXEL  COWINDOW  EGETNAME  EPOCONV   GAMMASET
        GET2NAME  GET3NAME GET4NAME  GETHEAD   GETNAME   GETONAME
        GETTHEAD  GREAD    IMPOS     IMSTAT    IMVAL     IMXY
        MAXFIT    QIMVAL   REBOX     SET1DG    SETSLICE  SETXWIN
        TABGET    TK1SET   TKBOX     TKNBOXS   TKSET     TKVAL
        TKWIN     TKXY     TV1SET    TVBOX     TVFLUX    TVMAXFIT
        TVNAME    TVPOS    TVSET     TVSTAT    TVWINDOW
        Moved nowhere.

11211.  January 12-13, 2003         TVDIST                 Eric
        Added procedure TVDIST to POPSDAT.HLP; also help file.  It
        reads two coordinates off the TV and invokes IMDIST.
        Moved nowhere.

11212.  January 13, 2003    AU4, UVLOD, FITLD, TAPIO         Eric
        Added test and message to the first three to show the first
        file name that could not be opened as well as the second (with
        the 1 appended).  Fixed TAPIO to issue a BAKF error only when
        appropriate.
        Moved nowhere.

11213.  January 13, 2003        ZLWIO, LWPLA                Eric
        It is not correct to assert EPSF-3.0 on text files with more
        than one page.  Changed ZLWIO to convert the EPSF line if
        present when concatenating a new plot and changed LWPLA to
        assert the EPSF only when INVER and PLVER are the same (after
        defaults are filled in).  There are now smart "printers" that
        overprint all pages of a file if it claims to be EPSF.
        Moved nowhere.

11214.  January 14, 2003           LOCIT                 Eric
        The Over-the-Top table could be read passed its last record
        when the times runded off slightly wrong - apparently an
        unlikley occurrence.  Added code to set the OTT time to 10**10
        when we have read the full table.
        Moved nowhere.

11215.  January 17, 2003            $YPGNOT/CONFI          Leonia
        The format of the topography file is free now.
        The help file has been updated.
        Moved nowhere.

11216.  January 20-21,2003         LOCIT                 Eric
        When there is no data for an antenna, some parameters did not
        get set even though they were used in the summary displays at
        the end.  The task also took the absence of an antenna in the
        last SN table time as reason to ignore the antenna entirely.
        Corrected the error handling to avoid this.
        Moved nowhere.

11217.  January 21, 2003         LAYER, SCLIM              Eric
        Two new related tasks.  SCLIM creates images scaled from 0-1
        using corners, function types, pixranges, etc.  Clipped values
        - even at the top - may be set to 0 on putput.
        LAYER reads as many as 10 images letting each "absorb" the
        current image and add to that image by emssion with optical
        depths scaled from the input image values, all optionally
        colored.  This will be tricky to use but good results are
        possible.
        Moved nowhere.

11218.  January 21-22, 2003           FRING               Eric/Amy
        FRING can apply the solutions and write out data when running
        on single-source input data sets.  It did not prepare the
        header properly and so did not properly sum up the spectral
        channels when averaging them and used the wrong number of
        spectral channels when BCHAN or ECHAN are set.
        Moved nowhere.

11219.  January 22, 2003        ABOUT files               Eric
        ABOUT topics updated:
        ADVERB   ANALYSIS   CALIBRAT   CATALOG   EDITING   FITS
        GENERAL  IMAGE-UT   IMAGING    INTERACT  PLOT      POPS
        PROCEDUR RUN        SPECTRAL   TASK      TV-APPL   TV
        UTILITY  UV         VERB       VLBI
        Moved nowhere.

11220.  January 23, 2003          install.pl              Eric
        Dropped page 10 which did nothing useful except confuse the
        users and renumbered pages 11 and 12.  Added remark about
        host in disk names.
        Moved from Miller's machine this date.

11221.  January 23, 2003             DBCON                Amy
        There was an unnecessary radian to degree conversion in the
        calculation of DELZ (deltaZ).  This effected shifting the phase
        center of the second dataset, although would only impact large
        shifts.
        Moved nowhere.

11222.  January 24, 2003          UVCOP                   Eric
        UVCOP copies all sources in several different tables but does
        not copy all sources in the SU table.  Certain table
        processing tasks like CLCOR may then encounter problems with
        sources in the CL table for which no coordinates may be found.
        Odd that this has not come up - the CL table has had all
        sources since OCT98.  Dropped SUTIDY.
        Moved nowhere.

11223.  January 24, 2003            GREYS.HLP            Eric
        The colors assigned to images 3 and 4 were confused in the
        inputs and help - correctly stating grean and blue at least
        once but incorrectly saying green and red a couple of times as
        well.  Sigh...
        Moved nowhere.

11224.  January 27, 2003            GETSOU               Eric
        Whoever wrote this piece of junk was a lazy bastard.  It
        changed all the variables in common even when it did not work
        - but all routines outside GETSOU assume that it only changes
        them when it works.  Fixed it to match the assumptions.
        Moved nowhere.

11225.  January 27, 2003           DBCON                  Eric
        The code for phase shifting was only correct for very small
        shifts.  It made no change to u,v,w and used Delta RA and
        Delta Dec linearly, not even sin's and cos's!  Changed to use
        correct shift code with SHISIN, PRJMAT, and PRJMUL.
        Moved nowhere.

11226.  January 27, 2003         CONFI                   Leonia
        The new option finding the worst "side lobe" has been added.
        The worst "side lobe" is found as the beam biggest value
        outside of the circle of given radius. Therefore side lobe
        is not necessary determined as an island at the two
        dimensional beam. It can be some elongated structure of
        the main lobe. The new option can be used for improving
        the main lobe shape.
        Moved nowhere.

11227.  January 28, 2003           DBCON                   Eric
        Fixed a ZCLOSE LUN=0 error message - due to no FQ tables being
        present but TABIO ('CLOS' being called anyway.
        Moved nowhere.

11228.  January 29, 2003         CLCOR                   Leonia
        The new OPCODE='ATMO' has been implemented. This option
        is useful to carry out atmospheric correction. The required
        correction should be given in the input file as a table of
        zenith delay for the set of antennas and times. This OPCODE
        was ordered by Mark Reid (CfA).
        The new version of GETSOU (#11224) is used.
        CLCOR may  encounter problems if  UVDATA were UVCOPed by
        the old version of UVCOP (see #11222) and if SOURCES = ''.
        Moved nowhere.

11229.  January 31, 2003        CONFI                   Leonia
        The gain at the optimization loop depends on the distance
        of the found beam maximum from the beam center. Having
        the same gain CONFI carried out bigger reshuffling  of
        antennas, which results in making bigger side lobes at other
        direction. I have introduce the option of the dynamical
        change of the gain. The gain is changed for each iteration
        depending on the found beam maximum from the beam center.
        This option may give smother the optimization process.
        The function of the gain dependence is determined by the
        user.
        Moved nowhere.

11230.  February 3, 2003        CLCAL, SNSMO              Eric
        Raised the time smoothing buffers from 2500/5000 to 25000.
        Moved nowhere.

11231.  February 4, 2003          SAD                     Eric
        The VLB formatted display neglected to put out the source
        pixel coords when it could.
        Moved nowhere.

11232.  February 4, 2003        MACPPC                   Eric
        For a MacIntosh OS/X port:
        We have problems with case sensitivity and so cannot name
        procs the same name as a system-level proc ignoring case.
        Rename AS AIAS, GREP AIGREP, PWD.C AIPWD.C, WHICH AIWHICH.
        Remove LGREP, PWD, CPWD.C from $SYSUNIX.
        Changed procs to use $SYSLOCAL/AIPWD if present else
        PWD: $SYSUNIX/AIPSCC, AIPSEXEC, BATER, COMRPL, COMLNK, FC,
             LINK MAKEAT, PP, RUN, SEARCH, SPHOP, STARTPMON, AIWHICH,
             $UPDUNIX/UPDCOMLNK, UPDCOMRPL,
             $INSUNIX/FTPGET, INSTEP1
             $SYSPERL/update.pl, install.pl
        AS:  $SYSUNIX/COMRPL, COMLNK.
        Add a case for MACs to STARTPMON, UPDERROR, UPDCONTROL,
        MAKE.MNJ, ZLPCL2, ZLASCL, TVALT, START_AIPS, LIBR, FCLEVEL.SH
        Also $SYSUNIX/LIBR does an "ar cr " operation with no modules
        to replace which Mac regards as an error - so added a case.
        $SYSPERL/install.pl - added code to recognize MACs and to
        accept the MACPPC as an architecture.  Added /sw/lib in the
        list of possible locations for libreadline.a.
        Moved nowhere

11233.  February 4, 2003       WRTPROCS                 Amy
        Changed FITDISK so that it checks whether INNAME and INCLASS
        are set.  Also changed reference to tapes in FITDISK.HLP, to
        disk.
        Moved nowhere

11234.  February 5, 2003        UVFIX                   Amy
        Added GMRT to the possible arrays with hardwired BZ, BY, BZ.
        Also fixed a divide by zero error when an antenna had
        reference coordinates of 0,0,0.  Per Eric, made the
        calculation of DeltaZ more accurate.
        Moved nowhere

11235.  February 5, 2003          LOCIT                   Eric
        Zero divide when first source missing in first record but
        refant not missing.  Need to do inits on either antenna.
        Moved nowhere.

11236.  February 5-6, 2003          MACPPC                 Eric
        Changed $SYSAIPS/AREAS.DAT and (autmagically)
        $SYSUNIX/AREAS.SH and AREAS.CSH to define $APLMAC. $SYSMAC,
        and $INCMAC for $ARCH=MACPPC.  MACPPC and LINUXPPC use the
        Linux Z routines and then their own.
        Changed: XAS.SHR    add MAC to Makefile
        Added: $SYSMAC/CCOPTS.SH, CDVER.SH, CDVER.CSH, COMLNK.ADD
                       COMRPL.ADD FDEFAULT.SH INCS.SH LDOPTS.SH
                       LIBR.DAT
        $APLMAC/ZDCHI2.FOR   big endian, system type string
                ZERRO2.C     sys_errlist already external - not
                             allowed to do it twice
                ZFRE2.C      statfs needed directly, changed member
                             name
                ZTACT2,C     dirent problems iff POSIX
                ZTKILL.C     dirent problems iff POSIX
                ZTXMA2.C     dirent problems iff POSIX
                ZMOUN2.FOR   stubed for now
                ZTAP2.FOR    stubed for now
                ZTPWA2.FOR   stubed for now
        $APLLINUX/ZGRLTC.C   dropped <malloc.h> not needed and not
                             present on Macs
        Moved nowhere.

11237.  February 7, 2003         VLBAFIX                  Amy
        VLBAFIX now indexes (with INDXR) after USUBA, MSORT or
        if nothing needs fixing except indexing.
        Moved nowhere.

11238.  February 7, 2003            MOMNT                 Eric
        MOMNT used the file at input catalog number = input disk
        number to make the first part of the output HI files to which
        the MOMNT HI is appended.  Fixed the choice of pointer into
        the WaWa structures.
        Moved nowhere.

11239.  February 7, 2003            UPDAREAS               Eric
        Changed location of end if statement - it was only trying to
        create directories if AREAS.DAT was changed and AREAS.SH was
        not.  This condition is prohibited in putbck.
        Moved nowhere.

11240.  February 11, 2003        VLBALOAD                 Amy
        The final thing VLBALOAD does is deletes the NX table and
        creates a new one.  VLBALOAD was croaking because the final
        INDXR did not have the correct name of the data file.
        Moved nowhere.

11241.  February 11, 2003           POSSM                 Eric
        Yet another complex logic with error: plotting multiple plots
        with some data missing at start led to funny characters
        written to screen and TV I/o going to terminal....
        Moved nowhere.

11242.  February 12, 2003           FILLM                 Eric
        The channel 0 frequency increment was wrong.
        Moved nowhere.

11243.  February 13, 2003          STARPL                Eric
        Added more checks on the star position before calling the plot
        routines.
        Moved nowhere.

11244.  February 18, 2003           INSTEP1             Eric
        Traces of ZTRLOG remained in this old - probably not too
        functional massive script.
        Moved nowhere.

11245.  February 18, 2003           VLARUN                Lorant
        New procedure for quick and dirty (ie blind) VLA calibration
        and imaging. Great for a quick look at archive files or your
        own VLA data, continuum or line, including high-frequency.
        Currently does not do polarization calibration (sorry!).

11246.  February 21, 2003          VLBALOAD               Amy
        Fixed bug that I introduced on Feb. 7 (it was connected to
        the VLBAFIX bug).
        Moved nowhere.

11247.  February 25, 2003           UVDIF              Eric
        Changed it to use different formats when OPCODE 'UVBX' and
        'CLIP'.  The old set are used for other OPCODEs.
        Also help file.
        Moved nowhere.

11248.  February 25, 2003          UVPRT                 Eric
        The re-scaling of u,v,w by the frequency used BCHAN after a
        UVGET INIT call.  At that point the correct channel to use is
        1.0.  Corrected.
        Moved nowhere.

11249.  February 25, 2003          UVFIX               Eric/Leonia
        Changed to do multi-source files and to interpret any "epoch"
        other than 1950.0 and 2000.0 as an apparent position which is
        converted to a J2000 coordinate.  The use of an aberrated
        coordinate and aberated antenna position has been eliminated -
        that probably was not a correct usage.  The GMRT appears to
        use a reversed sign for phase and u,v,w.  This is detected and
        supported.  The antenna center, time corrections, etc are
        taken first from the AN table unless UVFIXPRM overrides.  This
        was corrected for array center and made more clear in the help
        file for the others.  Note: GMRT does not provide the time
        corrections so the user must do that.
        Moved nowhere.

11250.  February 25, 2003         POSSM                 Eric
        Again! A logic error in plotting amplitude of visibility
        caused it to include uninitialized or bad amplitudes rather
        than blanking them.
        Moved nowhere.

11251.  February 25, 2003         IMAGR                 Eric
        QCLEAN was changed to defend against a BOX such as
            343  129 0 0
        resulting from a truncated input line into AIPS.
        Moved nowhere.

11252.  February 25, 2003         TECOR                   Amy
        Starting 3 November 2002, the IONEX (input) files cover
        a time range from 0:00 to 0:00 the next day.  This
        caused TECOR to break if more than one file was read in
        because TECOR ended up reading in two TEC maps with the
        same time at the day boundary.  This has been fixed, so
        if there is a redundant time at day boundaries then it is
        ignored.
        Moved nowhere.

11253.  February 25, 2003         ZFREE                   Eric
        Cleaned it up to let it be flexible in its choice of format
        depending on the maximum size of the disks.
        Moved nowhere.

11254.  February 26, 2003          UVFIX                  Eric
        Added an option to set the Besselian epoch used to presecc
        coordinates from B1950 to J2000.  Default is old value 1979.3.
        Moved nowhere.

11255.  February 26, 2003       POPS stacks               Eric
        Some very ambitious procedure builders have exceeded the stack
        size.  Changed them from 100 to 1000.  Required changes to
        DPOP.INC, INIT, POPSGN, BATER, GRIPR and lots of compiling.
        Moved nowhere.

11256.  February 26, 2003           TASAV                 Eric
        Changed to work on images as well as uv files and to copt PL
        and SL files as well as tables.
        Moved nowhere.

11257.  February 27, 2003         CONVL, DECONV           Eric
        DECONV was changed to return IERR=0 under all circumstances
        and indicate failure with deconvolved axes = 0.  Chaged it to
        count the failed axes in IERR.  Changed CONVL to quit on a
        deconvolution error.  Changed CONVL.HLP to say this and to say
        it correctly witout referring to an internal Fortran variable
        undefined in the help file.
        Moved nowhere.

11258.  February 27, 2003           EDITR                 Eric
        QEDIUTIL: In an attempt to avoid excess FG table entries, it
        was possible to refuse to make flags when the first IF (if
        ALLIF) or first polarization (ALLPOL) were already flagged.
        Fixed four places for time flag, time-range flag, flag undo,
        and flag redo.  Changed to copy any FG table applied to the
        input UV or table data to the (new) FG table.  Changed
        EDITR.FOR to set the right keyword for IN_FGVER.
        Moved nowhere.

11259.  March 3, 2003             SNSMO                 Eric
        It was able to return IRET = -1 to higher level routines if
        the last record in the table was flagged.  It ignored and
        overrode flags in the table as well.  Changed to test for
        flagged rows everywhere and set IRET 0 before branching to the
        end of the loop many places.
        Moved nowhere.

11260.  March 4, 2003        CLIPM, UVMLN               Eric
        Changed code to accept missing sources in a subarray or even
        all subarrays as worthy only of a warning message.  FLGIT was
        fixed not to die on UVGET for a subarray having no data.
        Moved nowhere.

11261.  March 4, 2003          VLBAUTIL                  Amy
        Fixed VLBAFIX, did the wrong thing if it needed to split
        into different frequencies and run VLBAFPOL.
        Moved nowhere.

11262.  March 5, 2003                DQUAL                 Eric
        New task - removes all qualifiers from a source table,
        renumbering the sources in the uv data and source table.
        Moved nowhere.

11263.  March 7, 2003            WENSS Survey              Eric
        Fetched and translated the WISH (southern Westerbork -25
        to -15 or -9 deg dec) survey.  Inserted it in the WE50.0100
        and WE00.0100 files in $AIPSTARS and in the full files
        available from the ftp site.
        Moved nowhere.

11264.  March 11, 2003        UVCON                      Leonia
        There has not been any warning that the both image model
        dimensions must be 2**N. I added reading the image dimensions
        from the image model header. The task is aborted now with
        the relevant warning if at least one of the dimensions is
        not 2**N.
        Moved nowhere.

11265.  March 11, 2003        UVSIM                      Amy
        1) Removed all the unused code.
        2) Added true IAT time calculation if the user inputs the Bx,
           By and Bz of the array site, previously UVSIM simply added
           2.5 days to the hour angle and called that the time of the
           observation.  I retained this if the user does not input
           the site location and warn user of incorrect times.
        3) Calculates site latitude from Bx, By and Bz if they are
           input.  Add message to tell user this.
        4) Changed observation date from 1 Jan 1950 to 1 Jan 2000 and
           the observing epoch form 1950 to 2000.
        Moved nowhere.

11266.  March 15, 2003           LWPLA, TVCPS            Eric
        Added the CMYK option to TVCPS.  In so doing, I discovered
        that the similarity between the RGB and CMYK displays had
        suddenly become greatly reduced.  The system people insist
        that this is due to the repair of an error that previously
        existed in our printing system.  It turns out that good
        displays can be obtained so long as different gamma
        corrections are used in TVCPS for RGB and CMYK.  Changed TVCPS
        to apply the gamma corrections also to the graphics colors -
        this matters for some and for combined graphics planes
        although not for the pure colors.  Changed LWPLA by adding
        RGBGAMMA adverb to the inputs to allow a similar control over
        the gamma corrections.  I messed with the scaling options
        (DPARM of 1-4) some to make them somewhat more intuitive.
        Moved nowhere.

11267.  March 16, 2003            IMAGR                   Eric
        Changed QCLEAN (s.r. CLRMAX) to add 'FIELDRES' keyword to each
        Clean field.  Changed IMAGR, SCIMG, SCMAP to write this in the
        history file.
        Moved nowhere.

11268.  March 17, 2003            DOBTWEEN                Eric
        Changed POPSDAT.HLP and NEWPARMS.001 to create adverb DOBTWEEN
        which will control whether one interpolates and smooths
        between sources or only between observations of the same
        source.
        Moved nowhere.

11269.  March 18, 2003          UVCON                  Leonia
        The same (as in UVSIM) type of error in time column is
        found in UVCON. This error and an error at the output
        AN table have prevented to give correct  UVW data at the
        output of the UVFIX and other AIPS tasks which use the time
        of the visibility and AN table. The name of the array
        ANAME=VLBA at AN table has been added. The VLBA name is
        chosen because the Y coordinate at the AN table corresponds
        to VLBI (LH) coordinate system. The UVW data at the output
        of UVCON and UVFIX are coincide by absolute value but differ
        in sign. The difference in UVW sign is explained by different
        convention forming the baseline data of the antenna data.
        If we have antennas 4, 15 (for example) then VLA/VLBA
        carries out subtraction 4-25 and UVCON 25-4 to form the
        baseline data. Obviously the sign of UVW in UVCON has to be
        inverted. But the visibility sign has to be inverted also.
        I'll do the sign inversion later.
        Moved nowhere.

11270.  March 18, 2003          UVFIX                 Leonia
        Added the line IF (ISVLB) XLONG = 0.0D0 to work succesfully
        at the case when LH equatorial coordinate system (VLBI) is
        used but the array center is not at the Earth center-
        the UVCON case.
        Add couple comments to clarify LH/RH conversion.
        Moved nowhere.

11271.  March 19, 2004          UVSIM                 Amy
        Changed U,V,W calculation for baseline A(I):A(J), J>I
        from A(J)-A(I) to A(I)-A(J), which is VLA, VLBA convention,
        in order to clarify the calculation.
        Moved nowhere.

11272.  March 19, 2003           UVCON               Leonia
        Changed U,V,W calculation for baseline A(I):A(J), J>I
        from A(J)-A(I) to A(I)-A(J), which is VLA, VLBA convention,
        in order to clarify the calculation.
        Moved nowhere.

11273.  March 19, 2003            UVFIX                   Eric
        The VLA and VLBA actually use BX = Bx(ant1) - Bx(ant2) etc.
        So changed the code to compute that as the baseline components
        and then dropped the arbitrary - signs from the conversion of
        u,v,w to wavelengths.  There is not change in the output.
        Moved nowhere.

11274.  March 20, 2003       FILLM, PRTTP                 Eric
        The disk reading handled the case in which there were short
        physical records in a logical so long as the first physical
        record was not short.  But that occurs (continuum with < 26
        antennas in the subarray), so the reading could get off and
        find no more data.  The signal was a read error at the end
        with fewer than 13*2048 bytes but error code 0.  Fixed by
        testing for short first record and correcting pointer into
        disk.
        Moved to patch area this date.

11275.  March 21, 2003            install.pl              Eric
        Added the command to rename the TEXT directory to TEXT.OLD
        just ahead of the unpacking of the tar ball.  That unpacking
        is failing on TEXT, forcing when we are lucky a full cvs
        update of that area and potentially leaving that area with
        incorrect contents when the full update does not occur.
        Moved nowhere.

11276.  March 21, 2003           WIPER                   ERic
        Added more code to keep the user from making the window too
        small both before and after the TVMENU call.  Also added the
        DOCENTER option to control where the menu is placed so that
        one can avoid have data behind the menu.
        Moved nowhere.

11277.  March 25, 2003            IMFIT, JMFIT           Eric
        When the major axis of a deconvolution fails, the GAUSPS
        routine that changes pixels to arc sec will fail and so is not
        called.  Added the code, already present in SAD, to patch up
        the problem by at least scaling the result to arc sec.
        Moved nowhere.

11278.  March 27, 2003       UVCON, UVFIX                Leonia
        Modify the AN table created by UVCON to make it be as VLBI
        observation table: LH equatorial coordinate system; axis X
        directs to the Green which meridian; ARRAYC=0;
        Removed the card: IF(ISVLB) XLONG =0 from UVFIX which is not
        necessary more having the new AN table created by UVCON.
        UVFIX is now does not have anything special to work with
        UVCON.
        Moved nowhere.

11279.  April 4, 2003              data weights         Eric
        The correct weight for an Ipol measurement is
            4 * Wr * Wl / (Wr + Wl)
        where Wr and Wl are the > 0 weihts of RR and LL, resp.
        The routine DGGET used (Wr + Wl) / 2 as did GET1VS and GETVIS.
        Also improved the coding of VISCHK although it appears never
        to be used.  This forces many link edits.
        Moved nowhere.

11280.  April 6, 2003            FILLM                  Eric
        The last logical record could consist of one short physical
        record.  Fixed the task to handle the case of short records,
        checking that the number of bytes = n*2048 and that the
        Modcomp structure is correct for the number of bytes found.
        In that case no significant error is generated.
        Moved nowhere.

11281.  April 7, 2003         AIPS start up              Eric
        To allow the $HOST name to be different than uname -n, I have
        created scripts SETNAME and SETUNAME which set a name in lower
        and upper case, resp.  The main use is for laptops which, when
        they are plugged in, get names that change with time and
        plug-in location.  The main trouble with this change is that
        sites will need to update the versions of these files that are
        in their $AIPS_ROOT.  The name LOCALHOST and localhost are
        used so that Inet things will work.
        Changed:
        SETNAME     Returns host-name in lower case - either the
                    uname -n or localhost
        SETUNAME    As SETNAME except in upper case.
        HOSTS.SH    To call SETUNAME
        HOSTS.CSH   To call SETUNAME
        START_AIPS  To call SETNAME numerous places
        STARTPMON   To call SETUNAME to set $HOST if empty.
        TVDEVS.SH   To call SETNAME for TVDISP and TVHOST.
        LOGIN.SH    Added environment variable LAPTOP
        LOGIN.CSH   Added environment variable LAPTOP
        install.pl  Move SETNAME and SETUNAME to AIPS_ROOT, add pause
                    to allow edit of LOGIN.{C}SH.
        Moved nowere.

11282.  April 9, 2003          On-line tapes              Eric
        Added code to ZTPOP2.C and ZTPMI2.C to re-try and re-start the
        on-line modes for FILLM.
        Moved to AOC and VLA ONLINE areas this date.

11283.  April 11, 2003     $APGNOT/SHADO.FOR           Leonia
        The new task SHADO estimates the sensitivity loosing of
        an array because of shadowing of the array antennas by each
        other. The array geometry is given by INFILE and can be
        presented by four coordinate systems similar to those used
        by UVCON. The fractional sensitivity is determined as
        the ratio of the number of unshadowed antenna to the total
        number of antennas. Only antennas with elevation exceeded
        the given elevation limit are taking into account.
        The antenna is called shadowed if the blockage exceeds
        the given limit of blockage.
           The output file (table) includes the fractional
        sensitivities at the given set of declinations and hour
        angles. The table format can be chosen by user as LATEX or
        TEXT. The OUTFILE is not created if number of hour angles
        is .GT. 11. But the print out of the table  still appears
        at the display. If LATEX then the output file  is ready to
        create the output as a table in .ps format using LATEX
        commands (latex, dvips). You may want to edit the table
        capture before command 'latex'
        Moved nowere.

11284.  April 13, 2003         errno.h                    Eric
        The standard unix error code should be obtained by
            #include <errno.h>
        not with the obsolete
            extern int errno
        RedHat 9 can detect that the latter was used!
        Changed numerous versions of ZPRMPT.C and a variety of other
        routines.
        Moved nowhere.

11285.  April 14, 2003       ZERRO2, ZACTV9               Eric
        Another change is to complain about direct references to
        sys_errlist and sys_nerr.  Changed ZERRO2 and ZACTV9 to call
        strerror - the thread safe version strerror_r is not available
        on Solaris.
        Moved nowhere.

11286.  April 14, 2003           LISTR                   Eric
        The matrix average listed at the bottom of a MATX group was a
        simple average of the values in the matrix although, when the
        values are phases, they were at handled with sines and
        cosines.  Added a line which averages the data entering in to
        the matrix during the averaging that produces the matix
        values.  This is a vector average when the MATX values are
        vector - while the summary is ampscalar of the individual
        vector averages.  If that is not complicated enough, it turns
        out the LISTR did a literal scalar average of phases when
        asked, thus giving 0 for -179 averaged with + 179 rather than
        180.  The rms's were not computed with a correct formula
        either.  Changed both LIST and MATX for these.
        The MATX summary printed the average and the uncertainty of
        the average (i.e. avg/sqrt(N-1)) calling it sigma.  Changed to
        give avg(uncer avg) sigma, where sigma is the rms of the
        numbers entering the average.
        Moved nowhere.

11287.  April 14, 2003            BPASS                    Eric
        There were typos in the history writing that caused
        BPASSPRM(10) values of 1 and 2 only to appear in the HI file.
        Also added the intrpolation option.
        Moved nowhere.

11288.  May 5, 2003              POSSM                   Eric
        Changed the units of RAEPO and DECEPO to degrees when shifting
        but then, in display code, changed the units again.  Fixed the
        when shifting section to leave the units alone.
        Moved nowhere.

11289.  May 5, 2003        IMSTAT, IMEAN                 Eric
        Changed AU6D and IMEAN to allow for circular apertures, with
        BLC = -1,radius and TRC = Xcen,Ycen.
        Moved nowhere.

11290.  May 5, 2003                PLCUB                  Eric
        Added option (APARM(3) <= -11) to omit the frame axis
        labeling.
        Moved nowhere.

11291.  May 6, 2003              GREYS                   Eric
        LOCNUM confusion caused LTYPE 4 to be done as LTYPE 3 when
        contouring.
        Moved nowhere.

11292.  May 8, 2003       SNSMO, CLSMO, CLCAL         Eric
        Worked on the smoothing operations.  The subroutines are
        BOXBSM   New call seq include list of source number; rewrote
                 algorithm to honor support size, return blanks if
                 needed.  Previously it extrapolated a "good" value in
                 all directions if needed to avoid blanks.  SOUR(1) <
                 0 causes source array to be ignored.
        MWFBSM   as BOXBSM
        FUNBSM   New call seq - list of source numbers and cutoff for
                 sum of conv. function.  Add EXP function.
        TPTBSM   New call seq - list of source numbers.
        CALREF   Call BOXBSM rather than BOXSMO with source = -1.
                 Call only if smooth time > 1.1e-6.
        REFFAZ   Call BOXBSM rather than BOXSMO with source = -1.
        MBDREF   Call BOXBSM rather than BOXSMO with source = -1.
                 Call only if smooth time > 1.1e-6.
        QEDIUTIL Fix call seq to functions, adding source=-1.  Allow
                 EXP smoothing.
        SNEDT    Help file had EXP function added plus remark about
                 smoothing across all sources.
        HLPEDISN Ditto.
        CALSEL   Changed to re-write the CL/SN table rather than write
                 the selected records as flagged.  The latter run the
                 risk of becoming unflagged.
        Replaced BOXSMO everywhere, moved it to $APLCONTR.
        Also moved GNFSMO, REFDLY, REFRAT from $APLNOT to $APLCONTR
        since they are not used.  The tasks are:
        SNSMO    New adverbs DOBTWEEN (smooth all sources together?),
                 new values for SAMPTYPE (was INTERPOL), new function
                 parameters (BPARM of 6 - 10), CUTOFF to limit
                 function smoothing, DOBLANK with new values (>= 0
                 replace blanks, <= 0 replace good values).  The
                 biggest changes are in honoring the function support
                 size and in the control over what os replaced by
                 smoothed values.
        CLSMO    This little known task was changed just like SNSMO.
        CLCAL    Changed default GAINVER and GAINUSE to highest and
                 highest+1, resp.  If GAINUSE=0, GAINVER is copied to
                 highest+1 before the operation begins.  Added adverbs
                 SAMPTYPE, BPARM, ICUT, DOBTWEEN to control smoothing
                 of the merged SN tbale independent of the
                 interpolation methods to be used in converting the SN
                 table to the times of the CL table.  The smoothing
                 for phase is now done in real and imaginary rather
                 than in phase (with some attempt to avoid 2 pi
                 ambiguities).  The full range of smoothing functions
                 from SNSMO is now available, although the latter will
                 handle full VLBI SN tables better.
        Moved nowhere.

11293.  May 8, 2003        $YPGNOT/SNPLT.FOR          Leonia
        GRCHN in SNPLT has not been change to 1 if GRCHAN=0, although
        it is said in the .HLP file. I have fixed it.
        Moved nowhere.

11294.  May 9, 2003          VLBACALA (VLBAUTIL)         Amy
        Changed DOBLANK=1 to DOBLANK=-1 for SNSMO in VLBACALA, because
        of changes in meaning of DOBLANK mentioned above.
        Moved nowhere.

11295.  May 12,2003        $YPGNOT/ELINT.FOR          Leonia
        RMSs of fit parameters have been calculated erroniously as
        their variances. I have fixed it adding SQRT.
        Moved nowhere.

11296.  May 12, 2003            repair                 Eric
        Somehow, the old version of BOXBSM was restored, not the new
        one I had written and tested.  Replaced it with a new one in
        $APLSUB, deleting the $APLNOT version.  Also fixed FUNBSM
        since it had an error and I used it to make the newly
        recovered BOXBSM.  Fixed a VLBI woarning in CLCAL also.
        Moved nowhere.

11297.  May 12, 2003             SNPLT                  Eric
        The above "fix" by Leonia is incorrect.  GRCHAN=0 has special
        meaning - to use multiple graphics channels.  Fixed the help
        file to stop saying 0 => 1 and to mention the special
        meaning attached to GRCH=0 in ALL plot tasks.  Fixed the help
        file description of 'SUM' plots and the labeling of them as
        extrema.  Changed scaling to fit the TV when DOTV true.
        Moved nowhere.

11298.  May 14, 2003            INDXR                     Eric
        It used WXTABL = ' ' as an indication not to do any opacity or
        gain correction even though the WXTABL is not needed for gain
        or for user-specified opacity.  Fixed that and some other
        minor oddities.
        Moved nowhere.

11299.  May 14, 2003            VLA.GAINS            Brian Butler
        Updated for runs in Feb 2003.
        Moved nowhere.

11300.  May 15, 2003           data weights again         Amy/Eric
        The Ipol weights fixed 4/4/03 are now okay - but it was
        getting wierd (double) weights when doing only RR or only LL
        etc.  Fixed DGGET, GETVIS, GET1VS to halve the weights when
        the "two" parts of the vis are the same.
        Moved nowhere.

11301.  May 15, 2003            FILLM                       Eric
        Added DOWEIGHT=10 to set the weights larger by the factors
        suggested by Bryan Butler in AIPS Memo 108.
        Moved nowhere.

11302.  May 16, 2003               TVRGB                   Eric
        Corrected several errors related to XINC and YINC.  Changed
        adverbs BLC/TRC/XINC/YINC to the TBLC/TTRC/TXINC/TYINC set.
        Then added BLC/TRC to contro the part of the image that is
        written out at the end.  That file always ignored the Xinc and
        Yinc and reread the image from disk.  However, the wondow was
        restricted by the TV size.  That restriction is now lifted.
        Moved nowhere.

11303.  May 20, 2003                TVHUI                  Eric
        Changed the help file to correct spelling, to use TBLC et al
        rather than BLC et al.  Made more clear the fact that TBLC,
        TXINC etc are ignored on output of the RGB image.
        Moved nowhere.

11304.  May 20, 2003               OPTIMIZE.LIS            Eric
        Added GINITL for no optimize on SUL machines.  Chris Phillips
        had trouble with the Solaris 5.0 f77.  It will not hurt to
        have this one no-opt so let's do it.
        Moved nowhere.

11305.  May 21, 2003              INDXR                    Eric
        The variable VLBMOD confused me in April 2002 - it is for some
        special VLB subarray mode, not VLB generally.  So, when I
        entered the VLA gain correction code I did an IF-THEN-ELSE on
        VLBMOD which kept the IM and MC tables from setting values in
        the CL table for many VLB experiments.
        Moved to the 31DEC02 patch area this date along with 5/14 fix.

11306.  May 22, 2003           MCUBE                  Eric
        Check INSEQ, IN2SEQ, IN3SEQ to see if anything to write and
        quit if not with a message.
        Moved nowhere.

11307.  May 29, 2003             MOMNT                Eric
        Overhauled the code and fixed it to handle blanked pixels
        correctly.  Smoothing 0's as if the image were zero is not
        correct.  It must really know that the image was blanked.
        Raised the buffer sizes to 4096 channels and 4 million for the
        in-core smoothing buffer.
        Moved nowhere.

11308.  May 29, 2003           LISTR                  Eric
        1. The rms computations I added recently were in error.  They
           should be okay know.  What was I smoking?
        2. The gain display did not check for flagged data
           underflowing with the sign character.  Replace overflows
           with ******** and underflows with --------.
        Moved nowhere.

11309.  May 29, 2003             UVCOP                Eric
        UVCOP did not flag data that had FQ set in the flag table
        unless one also specified a single FQ to be copied.  This
        error was made in August 2000 to fix the fact that in the
        select one FQ case, the FQ number was already altered to 1.
        Now it does a proper IF-THEN-ELSE on FRQSEL to get an FQ to
        compare to the flag.
        Moved nowhere.

11310.  May 30, 2003          UVCON                   Leonia
        Simulation of a random phase and amplitude for each antenna
        has been added. It can be done for only one(the first) clean
        component of the model (as Rick P. asked) or for all CC
        components of the model. The new random try is done each given
        time.
        Moved nowhere.

11311.  May 30, 2003           ZLPCL2                 Eric
        The script attempted an lpq on ghostview - fixed the chcmd to
        be null in that case.  Also gv does not read from standard-in
        under any circumstance.  Changed proc to create $file.ps, then
        view it, then delete it.  Now seems to work.
        Moved nowhere.

11312.  June 2, 2003            FILLM                 Bryan Butler
        Added option to choose to not load visibilities for which one
        of the antennas failed its last reference pointing attempt
        (bit 10 of CPARM(2)).
        The default is to do as it does now - load all the data.  but
        if you do that, then it makes an OF table which holds that bit
        (along with the antenna shadowed bit).  the OF table routines
        (DOFV.INC, OFINI.FOR, and TABOF.FOR) are also attached.  the
        OF table is also created if you choose to pass shadowed data
        at any level.  Later, could make a task that does the flagging
        after the fact (convert the OF table into entries in an FG
        table).
        Moved nowhere.

11313.  June 3, 2003            MOMNT, XMOM                 Eric
        Added the primary beam correction option to MOMNT as
        implemented in XMOM.  Corrected the routine in XMOM to avoid
        excess subroutine calls - it was okay, but did way too much
        work.
        Moved nowhere.

11314.  June 4, 2003             GRIPE                  Eric
        Changed ZGMAI2.C to send gripes only to aipgripe and daip.
        Pat and I do not need private copies and Ernie does not need
        to discard the aipsmail one.
        Moved nowhere.

11315.  June 5, 2003             IMAGR                  Eric
        Changed the beam-size setting: if IMAGRPRM(10) <= 1.5, then
        the beam is 2048 or less on a side.  If it is set to 2, then
        the limit is 16384.  Chaged help file.
        Moved nowhere.

11316.  June 5, 2003        TVILINE, IM2TV                Eric
        New verbs: draw a line on the TV between image pixels PIXXY and
        PIX2XY and find TVXY given PIXXY.  Changed POPSDAT, NEWPARMS,
        Au5B, and made a new help files.
        Moved nowhere.

11317.  June 5, 2003             install.pl               Eric
        Registration does not work so comment out the registration
        portion.
        Moved nowhere.

11318.  June 6, 2003              GFINIS                Eric
        Changed the TV delay function.  If you hit button A, the
        30-second delay is made indefinite while B & C resume sooner
        and D quits.  After A is hit, all buttons are resume except D
        which is quit.
        Moved nowhere.

11319.  June 11, 2003             install.pl           Eric
        Changed default $AIPS_ROOT to `pwd` rather than $HOME/AIPS.
        The latter is almost never wanted.
        Moved nowhere.

11320.  June 14, 2003              FILLM                 Eric
        Bryan missed one changed call sequence which caused aborts on
        Linux, at least with some compilers, and a failure to separate
        bands on Solaris.
        Moved nowhere.

11321.  June 17, 2003             FDEFAULT               Eric
        Changed $SYSLINUX version to 3.2 level options, leaving the
        2.95.3 as comments.  Added comment to install.pl about
        2.95.3.  Updated web pages some about this.
        Moved nowhere.

11322.  June 18, 2003             TVCPS                  Eric
        Drop the AIPS USER number string at the bottom and the
        APARM(8) option to suppress it.
        Moved nowhere.

11323.  June 18, 2003             TVHUI                  Eric
        The offset was not correct in the scaling of the hue and
        saturation images when writing the output image.  Also fixed
        the final effective pixranges which used the wrong scaling
        array in their computation.
        Moved nowhere.

11324.  June 24, 2003            FUNBSM                Eric
        Drop error message on 0 width - there is no problem there.
        Moved nowhere.

11325.  June 24, 2003        INDXR, FITLD              Eric
        The dispersive delay (unlike clock and other things in the CL
        table is actually applied to correct data.  Therefore, when
        the CL table 1 is created, it must be forced to 0.  Any
        dispersive delay applied in the IM table has been applied and
        hence must be ignored here.
        Moved nowhere.

11326.  June 24, 2003           MBDREF                 Eric
        The change to make MBDREF call BOXBSM only when the smoothing
        time was meaningful caused it to fail to fill the WORK1 array
        from the input data array.  The WORK1 array (in dynamic
        memory) the was trash at least on DEC alphas and so led to
        math problems.  It did not work right of course on other
        machines.
        Moved nowhere.

11327.  June 25, 2003             VLBAPIPE               Lorant
        Fixed a bug in VLBAPIPE that caused the FRINGE rates to be zeroed.
        Moved nowhere.

11328.  June 25, 2003          SOUFND                   Eric
        When there is no SU table it still called the TABIO CLOSE and
        this makes a ZCLOSE: INVALID LUN =  0 message.  Fixed.
        Moved nowhere.

11329.  June 25, 2003              CLCAL                Eric
        The author of this task was, when he wrote the single-source
        aspects, smoking some illegal substance.  Fixed it to merge
        and smooth SN tables suitably for single-source files.  It
        would do only one SN file, probably to smooth it, but used
        some of the GAINUSE/GAINVER adverbs to control it partly.
        Also fixed the code to be more readable - the author had not
        used IF-THEN-ELSE much.  Dropped the SMOO operation - MERG
        suffices with smoothing depending on the now separate adverb
        SAMPTYPE.  It will quit on CALI for single-source files.
        Added adverb INVERS to allow a range of SN tables to be used,
        more than one but less than all.
        Changed POLY to use the CUTOFF to set the order.  It
        conflicted with the smoothing which was a problem I forgot to
        solve.
        Moved nowhere.

11330.  June 27, 2003        SETFC, FIELDF              Eric
        Both had formatting problems with field numbers > 999.
        Moved SETFC to patch area.

11331.  June 29, 2003             VLARUN                 Lorant
        Now that we're really announcing it, I made it more robust in
        in the inputs (i.e. no defaults allowed). Also some minor fixes
        and additions (e.g. allow phase cal sources='*' for continuum).
        Moved nowhere.

11332.  July 1, 2003           3 color plots           Eric
        Changed
        POPSDAT     New adverbs: AVGIF (average IFs?), POL3COL (color
                    polarization vectors), CON3COL (color contours),
                    DO3COL (use 3-color vectors elsewhere).
        NEWPARMS    Ditto.
        DGPH.INC    Add current 3-color line color
        GINIT       Init 3-color line color to black
        G3VCOL      New: add 3-color vector values to plot file
        G3VEC       New: write a 3-color vector
        IMVECT      Changed to call TVVECT.
        TVVECT      New: write a TV vector in any channel of a
                    specified intensity.
        COLOR3      New: returns an RGB color for vectors.
        CONDRW      Change call sequence to add DOCOLR and take that
                    as a vector choice.
        LWPLA       Fixed "feature" - if OFMFILE was set but there was
                    no grey-scale the colors got botched on DOCOLOR
                    false.  Added support for the new plot command
                    types.
        TVPL        Added support for the new plot commands.  Fixed
                    the init channel to turn off all colors when
                    turning on only one.
        TKPL        Ignore the 3-color color command and draw vector
                    on color vector command
        TXPL        Ignore the 3-color color command and draw vector
                    on color vector command
        PCNTR       Added POL3COL option including color spray to show
                    the color vs angle.  Add CON3COL option to
                    overplot multiple contour drawings in colors.
        KNTR        Added POL3COL, CON3COL options.
        AU8A        Update PCNTR and KNTR.
        Moved nowhere.

11333.  July 1, 2003            TVPLCOL                  Eric
        New standard procedure in POPSDAT.HLP - sets adverb PLCOLOR to
        the colors of the graphics channels that DOTV would use given
        the GRCHAN setting.  Also help file.
        Moved nowhere.

11334.  July 3, 2003           VLBAUTIL                  Amy
        Edited VLBALOAD, VLBAMCAL, VLBACALA, VLBAPANG and
        VLBAFPOL.  Added DEFAULT to all tasks that are run by
        these precedures in order to prevent the creation of
        "hidden parameters". This could arise with Chris
        Flatter's system of setting all parameters to a task
        ifinputs were added to a task.
        Moved nowhere.

11335.  July 3, 2003           Usage                Eric
        Found by Fortran 95 compiler (run time abort):
        AXEFND    Declared string as *8 when calling routine might use
                  (did use) something less.  You must use *(*).
        Moved nowhere.

11336.  July 5, 2003            TVCOLORS               Eric
        The proc name TVPLCOL cause GO TVPL to fail.  Renamed
        TVCOLORS.  You will need to say SCRATCH TVPLCOL; COMPRESS to
        clean this mess up.
        Moved nowhere.

11337.  July ??, 2003         3-color plotting         Eric
        VPLOT       Add adverbs APARM(7) (buffer size), AVGIF, and
                    DO3COL to help file and Fortran.  Rewrote code to
                    use dynamic memory and allow for multiple IFs in a
                    single plot w or w/o 3-colors used in symbols.
        BPLOT       Corrected scaling on large FACTORs, added DO3COL
                    to color the multiple spectra drawn on a single
                    plot.
        UVPLT       Added DO3COL to color the channels and IFs.
        SNPLT       Added DO3COL to color the channels and IFs or
                    antennas in the SUM mode.
        Moved nowhere.

11338.  July 7, 2003            tapes                Eric
        Changed $APLUNIX/ZONLIN.C and ZTPOP2.C so that an error code
        from the stubbed ZONLIN (olopen) will be recognized as a
        non-online attempt to open online "tape".
        Moved nowhere.

11339.  July 7, 2003          AIPSPATH               Eric
        These procs have set MANPATH.  The Unix utility man now has an
        elaborate scheme that we should not be messing with.  Changed
        them to add AIPS to a pre-existing MANPATH, but to leave an
        empty MANPATH alone.  New $SYSUNIX/AIMAN will do man aips for
        those with no $MANPATH.
        Moved nowhere.

11340.  July 10, 2003       PCNTR, KNTR                  Eric
        Failed to handle CON3COL=0 properly.  ZINC was zero -> abort,
        but setting it to 1 also caused problems.  Both KNTR and PCNTR
        overwrote FACTOR thereby destroying its value for later
        planes.  Changed PCNTR to plot multiple planes of polarization
        vectors colored by axis 3 position when DOCONT<= 0, CON3COL >
        0, and DOVECT > 0 and the I, Q, and U images are matching
        cubes.  Upgraded wording in both help files.
        Moved nowhere.

11341.  July 10, 2003           Tic drawing across         Eric
        CTICS, ITICS, TKTICS had things to detect excess skips in
        DOCIRCLE that failed on small images.  Computers are faster
        now so change things to do finer increments especially in
        small images.
        Moved nowhere.

11342.  July 11, 2003             FILLM                Eric
        The VLA shifts its center for Q band data with Pie Town - too
        bad no one told us.  I have added a trap for this with a shift
        back in the antenna coordinates that end up in the AN table.
        This change had to take place two places in the task and was
        not as trivial as it sounds.
        Moved nowhere.

11343.  July 11 & 13, 2003          Plot programs            Eric
        VPLOT    Let flagged IFs leak through as zeros when
                 averaging.
        UVPLT    Put wrong NPARMS in plot file, did not insert
                 defaults for many things.
        SNPLT    Set Stokes to 5 characters at one point.
        UVHGM    Addressing error in extra parameters added for
                 EXTLIST.
        BPLOT    Fill in adverbs, use type 30.
        Moved nowhere.

11344.  July 13, 2003             EXTLIST               Eric
        Overhauled AU8A so that it no longer combines things together
        to try to save a few lines of code at the cost of greater
        complexity. Then for
        VPLOT   Updated a few pointers, corrected quite a few
        CLPLT   Corrected a bunch of pointers.
        BPLOT   Added a section
        UVPLT   Upgrade
        Changed to allow more than one plot file inputs type (will
        allow up to 3).  Ones with 2 versions now are UVPLT (no diff),
        SNPLT (no diff), VPLOT differ, PCNTR differ, KNTR differ,
        BPLOT (no diff).
        Time-range displays now can say beginning to end.
        Moved nowhere.

11345.  July 13, 2003          IMFIT, JMFIT           Eric
        Put the deconvolved Gaussians into the CC file with the wrong
        units for width (asec not degrees) and wrong type (convolved
        not deconvolved Gaussian).  SAD appears to get these right.
        Moved nowhere.

11346.  July 14, 2003           START_TVSERVERS         Eric
        It was passing $DISPLAY through to XAS et al. even when the
        value was misleading (e.g. localhost:11.0 from ssh).  When the
        tvhost and the tvdisplay are the same anyway, it should set
        $DISPLAY to ${tvdisp}:0.  This may cause problems if people
        have things set to e.g. :1.0.
        START_AIPS: type "screen" added to list of terminals
        THIS HAS TO BE MOVED BY HAND TO $AIPS_ROOT TO TAKE EFFECT.
        Moved nowhere.

11347.  July 14, 2003       LISTR, UVFLG             Eric
        Added digits to the display of scaling in LISTR.
        Changed UVFLG (and help) to allow 40000 entries in the
        external file.
        Moved nowhere.

11348.  July 14, 2003       SPFLG, TVFLG             Eric
        These could get two times at the same apparent time due to
        averaging and a change of source.  Fixed the row selection
        routine to understand this circumstance.  Otherwise, error
        messages came from the clip be set numbers.
        Moved nowhere.

11349.  July 17, 2003        FILLM, PRTTP helps         Eric
        Changed the direct address of the archive data into info about
        ordering it from the analysts.  Naive (stupid?) people were
        abusing this information.
        Moved nowhere.

11350.  July 17, 2003      tick labeling             Eric
        Cell sizes in micro-arcsec with good coordinates!  Changed
        TICINC    Increased the range of numbers possible.
        TICSTR    New: make the units string label (so only 1 place
                  has to know the meaning of ITRY)
        ITICS     Use TICSTR instead of own labeling
        CTICS     Use TICSTR instead of own labeling
        TKTICS    Use TICSTR instead of own labeling
        CHNTIC    Use TICSTR and just take max from that.
        CLAB1     Used AXINX(i,LOCNUM) = 0 as clue not to call CTICS.
                  That could not work unless both were 0 because CTICS
                  on one axis would fail if the other had 0.  Changed
                  to trap CTYP='NO TICKS' to avoid label, tick marks,
                  and tick labels.
        CLAB2     As CLAB1.
        PROFL     Use TICSTR.  Also added code to avoid doing
                  overlapped strings.
        FRPLT     Use TICSTR instead of own labeling.
        POSSM     Use TICSTR instead of own labeling.
        FGPLT     Drop local CLAB1 in favor of new version.
        IBLED     Use TICSTR instead of own.
        LWPLA     Check for and comment out overlapping strings.
                  Works only for tick labels on the X axis
        KNTR      Get rid of local version of GTICS (identical to
                  $YSUB/GTIC)
        Also changed comment that used the name TICINC in $YPGNOT
        tasks: CLPLT, CONFI, ELINT, LOCIT, PBEAM, SNPLT, VPLOT, WETHR
        Moved nowhere.

11351.  July 18, 2003       AXSTRN, JMFIT            Eric
        Changed AXSTRN to use greter accuracy at times.  Created
        COORDI as a version of COORDD with SEC double precision rather
        than single.  Revised displays in IMFIT and JMFIT for very
        small cell sizes.  Lots of link edits are forced.
        Moved nowhere.

11352.  July 21, 2003         FILLM                  Eric
        On-line FILLM quits when a new observer is found with data.
        Added a counter to do this quit only if data were actually
        written to the disk for the current user.
        Moved nowhere.

11353.  July 21, 2003            POSSM              Eric
        While debugging the gnu 3.2.2 compiler I noticed that the
        GETFQ call used IERR not JERR and the SOUFIL call did not test
        its error return.
        Moved nowhere.

11354.  July 21, 2003             SN2CL                Eric
        The CUTOFF adverb was applied badly - it cut off a solution if
        either of the calibrator scans was too far away - even if one
        of them was quite close.  Relinked CLCAL, BLAPP.
        Moved nowhere.

11355.  July 21, 2003            DATBND                Eric
        The shifting for VLBI used an IF- but not source-dependent
        frequency for to lower numbered antenna and the header
        frequency for the other antenna.  This does not match BPASS
        which uses source-dependent frequencies and the same for all
        antennas.  It was easy to fix since everything is known at
        this point.
        Moved nowhere.

11356.  July 22, 2003              DBCON              Eric
        Add warnings about mismatched SU tables on NUMIF.
        Moved nowhere.

11357.  July 22, 2003       Mac FDEFAULT.SH           Eric
        Apparently the new Mac compilers do not like "frame pointers"
        whatever they are.  Added -fomit-frame-pointer to the standard
        options list.  Unfortunately, system things like readline are
        compiled with frame pointers and the newest systems do not
        have any library to resolve references to restFP and saveFP!
        Moved nowhere.

11358.  July 27, 2003           POSSM                 Eric
        The UV averaging just advance the counter by NCHAN when the
        full polarization/IF was empty.  This left the buffer marked
        good although all zero.  Fixed to ignore the SUMWT here and
        process each channel properly.  Also defended against pure
        zero amplitudes.  Will we ever remove all these egregious bugs
        from this task?
        Moved nowhere.

11359.  July 28, 2003          VPLOT                 Eric
        The averaging routine did not handle the end of data properly
        when no data were found.  It looped for more under a variety
        of conditions with no check on end of data.
        Moved nowhere.

11360.  July 28, 2003        $YPGNOT/DELZN              Leonia
        The new task restores the residual atmosphere delay at the given
        elevation observing calibrators at wide range of elevations.
        The task reads the SN table, taking the information about the
        delays at given antenna observing given calibrator. This delay
        is contributed by delay at the atmosphere and delay due to the
        clock error.
        The task separates the atmosphere and clock delays using the
        least square method to fit polynomial of the chosen degree to
        the clock error and polynomial of the chosen degree for the
        zenith atmosphere delay.
        Having known these polynomials the task calculates the zenith
        atmosphere delay and records it to the output file ready for use
        as input file for the task CLCOR (option 'atmov').
        The  fitted zenith atmosphere delay and clock error is used to
        correct the delay for target sources putting the correction to
        the output CL table  by the same way CLCOR does at option 'atmov'.
        Moved nowhere.

11361.  July 29, 2003             TVMOVI              Eric
        Corrected both AU5D and TVMOVI for bugs related to actually
        using MAG=1 for an image (e.g. 1024x1024x4).
        Moved nowhere.

11362.  July 30, 2003            SNFLG                Eric
        New adverb DOIFS added to POPSDAT, NEWPARMS, and a new help.
        SNFLG changed from a single IF and polarization to allow two
        polarizations and any number of IFs.  Adverbs to control
        whether all IFs and.or all polarizations are flagged when one
        is were also added.  The code now uses dynamic memory,
        correctly picks up missing antennas as "bad", flags bad
        antennas as antenna rather than baseline flags, and works hard
        to keep the number of flags down.
        Upgrade DOSTOKES.HLP also.
        Moved nowhere.

11363.  July 30, 2003           SNSMO                 Eric
        Suggested correction by Olaf Wucknitz, University of Potsdam,
        Germany:
        The attempt to make phases deal with phase wrap in SMOAPH
        would not function across failed solutions.  Fixed it to keep
        track of the last good phase and to use that for wrap rather
        than using only the previous if it is good.
        Moved nowhere.

11364.  July 31, 2003           FITLD                Leonia
        FITLD has not filled out the CQ table column NO_BITS,
        forcing it to be equaled zero always.
        Fixed considering all antennas of the given subarray have
        identical digitizers.
        Moved nowhere.

11365.  August 1, 2003           IMAGR               Eric
        Added IMAGRPRM to history and help files.  In QCLEAN, made
        IMAGRPRM(19) limit the weakest component relative to the
        strongest in any major cycle.  It was going too deep in high
        dynamic range cases and getting lots of bad + and - bumps to
        fix up later.  Also added an initial value to the ATLIM magic
        parameter that cuts of a major cycle.  It is 1% of the
        difference between the max and min values loaded except near
        the start.
        Moved nowhere.

11366.  August 4, 2003           CLCOR                Leonia
        CLCOR has been corrected the given CL table. This required
        the user to take a precaution to escape possible undesirable
        corruption of the CL table. The new version of CLCOR copies
        the given CL table to the (high+1) number and the last one
        is corrected.
        Moved nowhere.

11367.  August 4, 2003           ELINT                Leonia
        ELINT has been applied the correction to the output SN table.
        The user should convert the SN table to the CL table using
        the task CLCAL taking care about possible undesirable
        smoothing of the SN table data over the different sources.
        The new version of ELINT applies the correction directly to
        the output CL table. The user should select the CL table
        number. This CL table is copied to to the (high+1) number and
        the last one is corrected.
        Moved nowhere.

11368.  August 4, 2003       LTESS, UTESS, VTESS      Eric
        The primary beam corrections were not up to snuff here.
        Changed
        DTESS.INC   Add PBPARM(7) instead of PBCO
        APLPBI      Changed to implement the PBCALC call.
        APPLPB      Changed to implement the pBCALC call.
        LTESS       Change meaning Of PBSIZE: 0 => use new adverb
                    PBPARM, > 0 => Gaussian, < 0 => no beam corr
        UTESS       As LTESS
        VTESS       As LTESS
        STESS       As LTESS
        Moved nowhere.

11369.  August 4, 2003          OPTIMIZE.LIS           Eric
        Added IOBSRC and PRJMAT to the no-opt list for LInux 3.2.2.
        This will be easier than installing 3.3 everywhere.
        Moved nowhere.

11370.  August 4, 2003           CAL Adverbs           Eric
        The calibration adverbs are not all present in all tasks.
        Changed
        AU8A     For FRMAP, FRPLT (was rather wrong)
        FRMAP    Add BLVER
        FRPLT    Add BLVER
        IBLED    Add DOPOL
        POSSM    Add BLVER
        SPFLG    Add DOPOL
        TVFLG    Add DOPOL
        CLIPM    Add DOPOL, BLVER
        FLGIT    Add DOPOL, BLVER
        SPCAL    Add DOBAN, BPVER, BLVER
        UVFIT    Add BLVER
        UVFND    Add DOPOL, BLVER, DOBAND, BPVER
        UVMLN    Add DOPOL, BLVER
        Moved nowhere.

11371.  August 5, 2003            VPLOT               Eric
        Changed EIF to the usual default, fixed STOKES s.t. ' '
        actually means 'I' and 'HALF' becomes 'RR' (or 'LL' is there
        is only 'LL').
        Moved nowhere.

11372.  August 5, 2003            FRING               Eric
        Changed APARM(6) meaning - at level 0 the time comes out every
        10th time as a progess message.  At level -1, no messages.
        Moved nowhere.

11373.  August 5, 2003           GPHAS                Eric
        Corrected bug I put in in 2000 with 'Inputs' rather than
        Ketan's non-standard POPS.  Added Kogan's remarks about FRING
        with DPARM(1)=3 to steer people away from this task.
        Moved nowhere.

11374.  August 5, 2003           CCEDT                  Eric
        There was one array declaration in error and circular windows
        were not properly supported.  Also, the HI file was not
        written with windows from the BOXFILE.
        Moved nowhere.

11375.  August 5, 2003         calibration              Eric
        Cleaned up a few of the help files from yesterday and added
        calibration to RFI and MAPBM.
        Moved nowhere.

11376.  August 6, 2003            GPHAS                  Eric
        This task is not known to work and FRING solves its problem
        according to Leonia, so move it to $APLCONTR.
        Moved nowhere.

11377.  August 6, 2003            CLCOR                  Eric
        Added GAINUSE to adverbs.  If not GAINVER then a new CL is
        written, else the one CL is used in place.
        Moved nowhere.

11378.  August 6, 2003           cal adverbs             Eric
        When calibrating some things, need to be able to do all:
        BLCAL   Added DOPOL, DOBAND, BPVER
        BPASS   Added BLVER, DOBAND, BPVER, changed BPVER to OUTVERS
        CALIB   Added BLVER, DOPOL.
        CPASS   Added BLVER, DOBAND, BPVER, changed BPVER to OUTVERS
        DEFLG   Added BLVER, DOPOL.
        FRING   Added BLVER, DOPOL.
        KRING   Added BLVER, DOPOL.
        LPCAL   Added BLVER, DOBAND, BPVER but not DOPOL
        PCAL    Added BLVER, DOBAND, BPVER but not DOPOL
        BLING   Added DOPOL, BLVER.
        OMFIT   Added DOPOL, BLVER, DOBAND, BPVER
        SCIMG   Added DOPOL, BLVER, DOBAND, BPVER
        SCMAP   Added DOPOL, BLVER, DOBAND, BPVER
        Moved nowhere.

11379.  August 7, 2003            $YPGNOT/DELZN.FOR       Leonia
        Fitting Polynomial at the axis of time DELZN has used actual
        time axis of the data. Fitting could be better if the time
        starts at the center of the data. It is done. Calculating of
        the atm. zenith delay rate and clock drift has been correct
        only for three term at the polynomial fitting of zenith delay.
        It is fixed.
        Moved nowhere.

11380.  August 12, 2003         SMOTH                  Eric
        Improved the code to handle blanked pixels, replacing them
        where possible with smoothed values.  Did some cleaning up of
        the typing as well.  Added comments to the help about units
        and CONVL.  Removed the erroneous claim that a history is not
        written.
        Moved nowhere.

11381.  August 12, 2003       Model scaling               Eric
        FACSET   New subroutine: Sets FACGRD to correct for (1) beam
                 area in Clean image models and (2) the sum of the
                 model CC flux to the limits set by standard adverbs
                 such as FLUX, NCOMP, BCOMP in order to match the
                 total flux given in the source table (if any).
        BLING    I cannot find a way to insert FACSET here - added
                 comment to that effect in the help file and cleaned
                 up the code typing some.
        CALIB    Depended on a task called CCFND to set a header
                 keyword SUMFLUX based on some dubious assumptions.
                 Then, for the first wanted source, if a flux was set,
                 the model scaling parameter was adjusted to produce
                 this total flux.
        UVSUB    Added FACSET - since UVSUB only works on
                 single-source files, the CC scaling part is not in
                 effect.
        Added cals to FACSET in BLCAL, BPASS, CPASS, FRING, KRING,
        LPCAL, PCAL, CLPLT, IBLED, VPLOT as well.
        Moved nowhere.

11382.  August 18, 2003         Source azimuth       Craig/Eric
        Craig has supplied us with a new version of SOUELV that
        computes azimuth as well as hour angle and elevation.
        Changed TABLEUTIL routine OSUELV to return all 3 of these.
        Changed QUVUTIL, ACFIT, ANCAL, CLCOR, LISTR, CALIB, APCAL,
        WFCLN, CL2HF, and INDXR to use the new call sequences with az
        ignored.  Changed MAPBM, APGPS, and TECOR to use the new call
        sequence and to skip computing azimuth on their own.  Changed
        UVPLT and WIPER to use the new call sequence and to offer a
        new option to plot against azimuth.
        Moved nowhere.

11383.  August 13, 2003          installation              Eric
        Changed MAKE.MNJ to use $COMPILER internally and SETNAME
        rather than uname -n.
        Changed install.pl to
           1) copy MAKE.MNJ to $SYSLOCAL
           2) edit MAKE.MNJ to use the declared C compiler
           3) to make skipping the download of the tarball the
           default.
        Moved nowhere.

11384.  August 14, 2003        UVHOL                Eric
        Fixed up STOKES to do true Stokes as well as RR/LL/RL/LR.
        Moved nowhere.

11385.  August 14, 2003         COODEFIN             Eric
        Created new verb COODEFIN in AU7B with new adverbs COOREF and
        COOINC.  It redefines the RA/Dec or xLon/xLAT values including
        increments, reference pixels, and rotation all at once.
        Also POPSDAT.HLP and NEWPARMS.001.
        Moved nowhere.

11386.  August 19, 2003          VLBAUTIL              Amy
        Fixed VLBALOAD so that it will not crash during INDXR if the
        file loaded is not in TB order.  Changed a message in VLBAFXPL,
        about the possibility of switched polarizations for foreign
        stations.  Changed VLBAPANG per new CLCOR, it no longer runs
        a TACOP first.
        Moved nowhere.

11387.  August 26, 2003        more 3-color              Eric
        Enable 3-color plotting:
        PL3VEC   New: Gary-package to call G3VEC
        PLOTWO   Add COLOR to call sequence
        PNTPLT   Add COLOR to call sequence
        AU5B     Change call seq to PNTPLT
        CTICS    Change call seq to PLOTWO
        STARPL   Change call seq to PNTPLT
        CCNTR    Change call seq to PLOTWO
        IRING    Change call seq to PNTPLT
        LOCIT    Change call seq to PNTPLT
        PLOTR    Change call seq to PNTPLT
        Moved nowhere.

11388.  August 28, 2003          PLOTR                    Eric
        Changed to have an extra color value column optionally and to
        use PL3VEC, PNTPLT coloring.
        Moved nowhere.

11389.  August 21-29, 2003          FILLM                Eric
        Created ZOLAVF in $APLGEN (stub) and $APLUNIX (real) to call
        oladvf to position the on-line tape device at start of
        yesterday's file, start of today's file, or current end of
        today's file (i.e. now).  Created a dummy oladvf_ in ZONLIN.C.
        Changed FILLM to call ZOLAVF for ONLINE using the NFILES
        argument.
        Moved nowhere.

11390.  September 2, 2003        $YPGNOT/DELZN            Leonia
        DELZN has been modified following request of Mark Reid:
        1. Editing of the input data based on high level of deviation
           of the data points relatively found solution. The edited points
           are blanked and are not used at the following edit iterations.
        2. The OUTFILE has been created only if the output CL table
           created also. Now creating of OUTFILE and CL table is splitted.
        3. The default value for OPTYPE (DELA) has been added.
        Moved nowhere.

11391.  September 2, 2003         FIXWT                   Eric
        Overhauled the code to get different antenna-based weights for
        each IF and polarization, taking advantage of multiple
        spectral channels when present and using both real and
        imaginary parts of the vis.  It no longer does medians for rms
        and does not require the data to be in exact TB order.
        Moved nowhere.

11392.  September 3, 2003            CALIB                 Eric
        Repaired minor logic problem that caused negative ANTUSE to be
        handled wrongly.
        Moved nowhere.

11393.  September 4, 2003            install.pl            Eric
        Added to message about edit LOGIN.SH for LAPTOP YES.  The
        HOSTS.LIST file must also be edited for LOCALHOST.
        Moved nowhere.

11394.  September 4, 2003           XAS.SHR                Eric
        The order of colors seems not to be fixed even for Solaris
        systems.  This means that we need a 4-way branch on
        ByteSwapDisp and RedBigger to determine which colors go to
        which bytes in the image word.  RedBigger was previously
        assumed to be exactly determined by the byte order of the
        displaying machine.
        Also fixed numerous unmatched quotes (in comments) that caused
        emasc to color the code improperly.
        Moved nowhere.

11395.  September 5, 2003         install.pl         Eric
        Changed it in regard to LAPTOP=YES.  Added a page 5a to ask
        about this option and to change ThisHostNmae to LOCALHOST.
        If this is set, LOGIN.SH and LOGIN.CSH are not autoedited to
        change the LAPTOP logical.  LOCALHOST will then appear in the
        HOSTS.LIST, DADEVS etc etc
        Updated the web pages for this.
        Moved nowhere.

11396.  September 8, 2003           CLCOR                 Eric
        I forgot several calls to SOUELV when adding the AZimuth
        argument.  Cleaned up usage of PSTD.INC.
        Moved nowhere.

11397.  September 15, 2003         FILLM                 Eric
        Added progress messages for when data are rejected at hour
        intervals.  The on-line fillm read is too slow and people
        worry too much...
        Moved to on-line area today.

11398.  September 18, 2003         IMAGR                  Eric
        IMAGR spelled NORESTORE without the last E so it was not
        picked up.
        Moved nowhere.

11399.  September 19, 2003        Y2K and others          Eric
        Changed Y2KLOAD.001 and Y2KEXEC.001 to support a new HUGE Y2K
        test.  It uses Cygnus A with 4 A-array frequencies and one
        each in B, C, and D.  It uses 4-resolutions in IMAGR and does
        not use APCLN.
        Changed PRTAC to recognize the Y2KH list of tasks.
        Changed VTESS to load the TV every n pixels - the others like
        it should do the same.
        Moved nowhere.

11400.  September 23, 2003         EXTLIST             Eric
        Added a second version for PLOTR although the display is
        unchanged, the number of adverbs increased.
        Moved nowhere.

11401.  September 25, 2003         MSORT               Eric
        The sort problem in MSORT degrades as non-linearly as the
        record size, number of records, and average separation between
        the current record position and desired record position
        increase.  The buffers were not fully utilized - so I changed
        it to use them.  I also added a very brute force record read
        from disk for long records which works only when the input and
        output files are not the same.  The meaning of PRTINLEV was
        adjusted so that 0 produces some progress info.
        Moved nowhere.

11402.  September 25, 2003     VTESS, APCLN, et al         Eric
        Changed all TV loads to use pixel increments to fit the
        picture on the TV.  Added a message ahead of the load giving
        the pix range and increment and cleaned up the instructions
        and replies.  Affected APCLN, SDCLN, UTESS, VTESS, APGS, APVC,
        STEER.  FNDVAR would not do 4096 images, setting the beam area
        to 10 without computation.
        Moved nowhere.

11403.  September 29, 2003              ALLTAB             Eric
        The standard extension file copy routine did not check that
        the input and output were identical!  Added that check.  A
        large COMLNK ensues...
        Moved nowhere.

11404.  September 30, 2003      $APGNOT/DFCOR            Leonia
        The new task is a version of CLCOR with the only difference
        that it records the differential correction SOURCE-CALSOUR(1)
        into the copy of the given CL table.
	The only OPTYPE='ATMO' is available now.
        DFCOR reads the CL table twice.
        First time the data corresponded to the given calibrator
        (CALSOUR(1) are read and the relevant delays and rate of
        delays recalculated from the input file of zenith delays.
        The found delays and rate of delays are stored at the array
        together with the arrays of time and antennas.
           Second time the data corresponded to the given source
        list (SOURCE) are read and the relevant delays and rates of
        delay are calculated from the input file of zenith delays.
        Then the stored delays and rates of delay for the calibrator
        are interpolated to the time of the CL table row and the
        interpolated values are subtracted of the calculated source
        delays and rate of delays.
        The differences are recorded to the CL table
        Moved nowhere.

11405.  September 30, 2003     FRING			Amy
        FREQX and FREQY where declared as arrays of size 1024,
        changed this to MAXFRQ, the maximum number of frequecies.
        This caused problem for experiments with more than 1024
        channels.
        Added a warning message if the specified pre-integration
        time (DPARM(4)) is larger that the smallest pre-int. time
        found in the experiment.  This can cause array problems
        since the pre-int. time is used to calculate the maximum
        number of times etc..
        Moved nowhere.

11406.  October 1, 2003             FITLD                  Eric
        Most of the main FITS header is ignored for IDI uv data.
        Added code to pick up INSTRUME and put that in the output data
        header.
        Moved nowhere.

11407.  October 1, 2003      ATNF suggestions     Eric/Chris Phillips
        Changes to incorporate ATNF ideas:
        VKEY.INC    Bring date format up to date.
        ZABOR2.C    Solaris - add stuff to get rid of ieee warning
                    messages
        UVFIT       Increase XMXVIS by an order of magnitude to 250000
                    Adjusted the help file accordingly.
        GETJY       Have AT data avoid a warning about FQ mis-match on
                    sources and flux.  Fix errors in which 1 was used
                    where BIF was supposed to be.
        GETANT      Have ATLBA be same as ATCA - they both use earth
                    centered coords but do not reverse Y
        LGEOM       Upgrade the help file with info on the order of
                    shift and scale.  Removed old task GEOM.
        MCUBE       Added a simplistic description of things to the
                    help file.
        BPASS       Made one equivalenced buffer larger on general
                    principles although the equivalence made the space
                    much larger than needed.
        CALIB       Changed Min number antennas to take into account
                    small arrays - fixed help file too.
        UVLOD       Raised all UVBFSS to UVBFSL buffer sizes, fixed
                    standard Stokes test to include AT
        FITLD       Raised all UVBFSS to UVBFSL buffer sizes, fixed
                    standard Stokes test to include AT
        Moved nowhere.

11408.  October 2, 2003            FITTP, FITAB             Eric
        Added range of catalog numbers to which DOALL applies.
        Changed POPSDAT, NEWPARMS to create adverb CATNO.
        Moved nowhere.

11409.  October 2, 2003         more AT        Eric/Chris Phillips
        More changes:
        CLCOR    Extend the VLA override to include VLBA and AT.
                 Skip an FQ test for ATCA, ATLBA.
        PCCOR    Add ATLBA as non-VLBI like coordinates.
        UVCRS    Add ATLBA as non-VLBI like coordinates.
        ACCOR    Add ATLBA as non-VLBI like coordinates.
        SPLIT    Add ATLBA as particpating in some FQ/QUAL mixup,
                 selecting qual
        SPLAT    Add ATLBA as particpating in some FQ/QUAL mixup
        GETJY    Add ATLBA as particpating in some FQ/QUAL mixup -
                 suppressing some warning
        LOCIT    Add ATLBA as non-VLBI like coordinates.
        CVEL     Add ATLBA as non-VLBI like coordinates, help with
                 user array type parameter
        VPLOT    Add ATLBA as non-VLBI like coordinates, help with
                 user array type parameter
        CLPLT    Add ATLBA as non-VLBI like coordinates, help with
                 user array type parameter
        UVFIX    Added option to not change u,v,w.  Added code to
                 detect -NCP, warn the user, and change the header to
                 -SIN.
        Moved nowhere.

11410.  October 5, 2003               DBCON                    Eric
        Added coordinate tests for when DOPOS <= 0 in case coords do
        not agree.  The test is 1 microarcsec not 3 as the message
        claimed.
        Moved nowhere.

11411.  October 5, 2003               GREYS                    Eric
        Added INFILE option to overplot Holography panel and bolt
        layout.
        Moved nowhere.

11412.  October 6, 2003       FITTP, FITLD             Eric
        Fixed an egregious error I made Thursday which caused it to
        write out the wrong image/uv data set(s).
        Updated the MNJ tar ball immediately.

11413.  October 7, 2003            COMLNK              Pat/Eric
        Move test on $PREP being writable to a place where LPWD is
        known.
        Moved nowhere.

11414.  October 7, 2003            APCAL               Amy
        APCAL can now read WX tables instead of external text weather
        tables to do the opacity corrections.  Added INVERS to the help
        file as the weather table version number and updated the EXPLAIN
        file.  APCAL also now prints a message stating it is writing an
        SN table and gives the number.
        Moved nowhere.

11415.  October 9, 2003            CYG                 Eric
        Put a new timing test (very large) back - called CYG with help
        files CYG, CYGSAVE and run files CYGLOAD, CYGEXEC, CYGLBOX.
        The data files are on the ftp site and amount to about 1
        Gbyte.  Changed PRTAC to handle this one too.
        Moved nowhere.

11416.  October 10, 2003           BPASS               Eric
        $APLNOT/ITBSRT did not do the test on buffer size correctly.
        It asked if the number of records was less than 0, not less or
        equal.  So an obscure UVINIT message came out instead of a
        good message.
        BPASS makes the table buffer for sorting for other reasons
        some of which can make it way too small.  Added a minimum.
        Moved nowhere.

11417.  October 10, 2003      FITS includes            Eric
        Changed form of includes to avoid unused variable messages.
        PARAMETER works very well indeed.  DFUV, DFIT, VFUV, VFIT.
        Moved nowhere.

11418.  October 10, 2003           FRING               Eric
        Moved some code around to allow a check on REFANT before it is
        used for things.  Otherwise, near the end a REFANT greater
        than the number of antennas would cause all solutions to be
        discarded.
        Moved nowhere.

11419.  October 13, 2003      $QPGNOT/UVCON             Leonia
        At March 11, 2003 (#11264) I add the test if the model
        dimensions are 2^n. Erroneously this test was put at the
        are where model could be point source. The task FHEAD
        finds the dimension of the model(?) image even if its
        NAME and CLASS are given as blank. This is strange (for me).
        FHEAD uses the first image at the given disk.
        Anyway I have fixed it testing the dimensions of the model
        image only if the model is not a point source and NAME/CLASS
        of the model image are not blank.
        Moved nowhere.

11420.  October 14, 2003          APCAL                 Amy
        Added some warning messages for the opacity correction; i.e.
        that OPCODE, DOFIT, TREC and TAU0 should all be set to get
        good opacity corrections.  Added the sec Z limit (APARM(5))
        to opacity plots.  Added a line in line in the help file
        clarifying what the opacity fitting actually calculates.
        Removed most references to ANTAB from the help file.
        Moved nowhere.

11421.  October 15, 2003          FITAB                Eric
        Empty extension files need to be written.  Otherwise, some
        facets will end up with no CC file and CALIB will not be able
        to use them.  Changed DKEY and VKEY includes to reduce the
        warning messages.
        Moved nowhere.

11422.  October 15, 2003       CDi_j, PCi_j           Eric
        Created PCCARD and PCHDR to parse and interpret the CDi_j and
        PCi_j world coordinate header cards into aips nomenclature.
        We may not move into the full WCS but we should read the
        headers written in simple ways by HST et al.  Added calls to
        these in IMLOD, UVLOD, FITLD, PRTTP, and FWRITE (used by
        TPHEAD in AIPS).  Dropped the inversion of the input image
        based on the second axis increment in IMLOD and FITLD.  Masked
        a message in PRTTP that gave a very odd disk name.
        Moved nowhere.

11423.  October 16, 2003        FITAB                 Eric
        The extension file writing goes from record IRNO1 to IRNO2
        which may be set by a time range.  If there are no data
        records in the ext file then they were 0 and 1 and TABIO was
        called.  This resulted in only 1 message but may have made
        some garbage out.
        Moved to AOC load area today, nowhere else.

11424.  October 16, 2003         FITLD                  Eric
        Changed the code to allow more than one disk file to be read
        in a single FITLD run.  This is especially useful for VLBA
        data in which there may be more than one mode and so more than
        one output file.  The disk file names must be postfixed with
        consecutive numbers 1-NCOUNT with no leading 0's.
        Moved nowhere.

11425.  October 17, 2003        install.pl             Eric
        Some people apparently insist on blowing away the tar ball
        before doing most of the installation.  This made it hard to
        find the date of the tar ball for the MAKE.MNJ.  These same
        people do not read and attempt to interpret the messages that
        come out and then are upset that the MNJ did not build.
        Changed install.pl to look for dates on several files and to
        issue a different message if no valid date was found.
        Moved nowhere.

11426.  October 20, 2003     $APGNOT/FIT2A              Leonia
        The new task reads one plane image at FITS format and
        records it to the output file at ASCII format in three
        columns: X,Y in pixel number; value at format E10.3.
        Moved nowhere.

11427.  October 20, 2003        misc                  Eric
        Changed MacIntosh LIBR.DAT to ncurses from termcap
        Changed ending of $SYSUNIX/LIBR so that all of the data files
        in $PREP are kept when there is an error.
        Moved nowhere.

11428.  October 22, 2003          DSTOK               Eric
        New task - eliminates RL and LR or Q, U, V from a uv data set.
        UVCOP does not offer this choi2e.
        Moved nowhere.

11429.  October 22, 2003       Misc                   Eric
        Changed to fix mispelling in XTRAN.HLP one-liner and to give a
        better one-liner and category for COODEFIN.HLP - we could not
        find either with apropos coordinat before.
        Updated LSAPROPO.HLP - removes do not get removed.
        Updated HLPIT.LIS - new and removes fail to get added
        Updated ABOUT files for
        ADVERB   ANALYSIS   AP         CALIBRAT   CATALOG   COORDINA
        FITS     GENERAL    IMAGE      IMAGE-UT   IMAGING   OOP
        PLOT     POPS       PROCEDUR   RUN        TABLE     TAPE
        TASK     TV         UTILITY    UV         VERB      VLA
        VLBI
        Moved nowhere.

11430.  October 22, 2003           POSSM                Eric
        Yet again a whole area of code did not work.  In this case,
        the option to plot auto and cross correlations wrote over
        themselves and were rather confused about what to plot - but
        that was okay since it was wrong anyway.  Now I think it is
        okay.
        Moved nowhere.

11431.  October 23, 2003     Compiler bug             Eric
        A couple of compilers have made problems with simple STOP
        statements in subroutines.  We have character arguments to
        STOP many of the places where it is used so added to the
        others:
        $APLGEN FOR routines :
        ZC8CL  ZCLC8   ZDM2DL  ZI16IL  ZI32IL  ZI8IL  ZILI16  ZILI32
        ZILI8  ZIPACK  ZM70M2  ZMCACL  ZR32RL  ZR64RL  ZRLR32  ZRLR64
        $APLNOT/FFTV2
        Changed variable name STOP to TSTOP in $APLNOT/UVTIME.
        Moved nowhere.

11432.  October 27, 2003          CONFI                Leonia
        Topography file can be given now at the FITS format as well as
        the ASCII format. The restricted pixels correspond now to the
        pixel value .NE.0 removing the inversion existed at CONFI
        long time.
        Moved nowhere.

11433.  October 27, 2003       Bad addressing           Eric
        The offset to particular correlators may be confused by the
        switch between compressed data input and uncompressed work
        area data.  The VOFF computed by GETCTL needs to be rescaled:
             (VOFF / INCS) * JNCS
        Changed UVCON, ALGSTB, ALGSUB, VISDFT, VSCDFT, VSFDFT
        Changed ALGSTB to do some of its recomputation of pointers
        before calling GETCTL or even the above fix will not work.
        Changed GRDSUB to make the choice between ALGSTB and ALGSUB
        only once - ALGSTB changes INCS to 3 and leaves it there so it
        would be possible for ALGSTB to be called for the first field
        and ALGSUB for the rest which is not a good idea.
        These fixes should affect UVSUB of compressed data only -
        either division of cross-hand subtraction.  All else should
        have worked.  Dropped one test from GETCTL as well.
        Moved nowhere.

11434.  November 5, 2003    APCAL, POPSDAT, NEWPARMS     Amy
        Changes to APCAL:
        1. changed TREC parameter in APCAL to TRECVR and increased
           the array size from 30 to 60.  There is a receiver temp.
           for each polarization so an array size of 30 means that
           opacity corrections could only be done for 15 antennas.
           POPSDAT and NEWPARMS changed for this.
        2. Added subroutines DFTAU and DFTRC which estimate an
           initial TAU0 and TRECVR if they are left blank and
           opacity corrections using method 'OPAC' or 'GRID' are
           chosen.
        3. Added another opacity solution method, 'LESQ'.  This
           method used  a least squares fitting routine in addition
           to manipulating the errors to fit a line to the lower
           edge of the Tsys vs sec(z) curve.  This method does not
           need an initial guess for the TRECVR and TAU0.
        4. Fixed various small bugs: a) the opacity correction
           would fail if a TIMERANGE was set; b) the TREC and
           TAU0 for an antenna were not accessed correctly if one
           selected ANTENNAS; c) TSPILL (spillover temperature)
           was not added correctly in one formula.
        Moved nowhere.

11435.  November 5, 2003           VLBAUTIL              Amy
        VLBAFPOL - fixed bug which automatically set OUTDISK = INDISK
        VLBACALA - Added ability to do opacity correction by adding
           parameter DOFIT
        VLBALOAD - fixed bug that ran TAMGR and INDXR on one file, even
           if FITLD produced more than one (this happens if you observe
           with different frequency setups).
        Moved nowhere.

11436.  November 5, 2003             PBCALC                Eric
        Modified PBCALC to look at telescope array name.  It has
        values for the VLA and ATCA and also returns a logical OUTSID
        indicating that the position is outside the reliable region of
        the beam fit.
        PBCALC    New call seq, cleaner organization. Added ATCA
                  parameters provided by Chris Phillips.
        Changed call sequence using CATH(KHTEL) in character*8
        PBCOR, SAD, XMOM, IMFIT, JMFIT, MOMNT, and FLATN
        Added calls to ANTINI to get array name in BOXES, FACES, and
        SETFC
        Added OPCODE to PATGN to do ATCA beams and set array name.
        Added ANAME to DTESS.INC, use it in calls to PBCALC in
        APLPBI and APPLPB, initialize it from image headers in
        LTESS, STESS, VTESS, UTESS, and IMERG.
        Moved nowhere.

11437.  November 6, 2003        MSGSUP                 Eric
        MSGSUP used to be used excessively where ZEXIST should be used
        with ZOPEN, ZCREAT, ZDESTR et al. used based on the result.
        Changed AU2. AU2A, AU3A, SGLAST, STORES in $AIPPGM plus
        ISTAB in $APLSUB and OTBSRT in $APLNOT.  MSGSUP prevents all
        conditions from being seen, when the normal condition (file
        exists or does not exist) is all that one wants to mask.
        Moved nowhere.

11438.  November 10, 2003          UVCON                   Leonia/Eric
        The standard input files for four VLA configurations and VLBA
        configuration have been added. The five files are under $AIPSTARS
        and should be called as:
        INFILE 'AIPSTARS:VLA-A_UVCON'
        INFILE 'AIPSTARS:VLA-B_UVCON'
        INFILE 'AIPSTARS:VLA-C_UVCON'
        INFILE 'AIPSTARS:VLA-D_UVCON'
        INFILE 'AIPSTARS:VLBA_UVCON'
        If a user want to change the data of VLA, VLBA configuration,
        he/she can copy the relevant file(s) to his area, edit it and create
        his own version.
        The comment cards can be added now to the input file.
        Moved nowhere.

11439.  November 11, 2003       GETCTL, DROUND          Eric
        Created a DROUND to round double precision to integer.  GETCTL
        got into trouble saying K = CATD(KDCRV+3) which was probably 1
        bit less than 1.0 on a Mac G5.  This has worked okay for a
        long long time but should really be
             K = DROUND (CATD(KDCRV+3)).
        Moved from Kevin's G5 today.

11440.  November 11, 2003       READLINE.SHR            Eric
        Fixed READLINE.SHR so that an sh command will unpack it -
        also RLSUPP.SHR, RLEXAMP.SHR, RLDOCS.SHR.
        Like XAS.SHR this is simple: the cat line has to have quotes
        around the magic string and the end line does not have quotes
        e.g.
              cat > colors.c << "--XYZZY--"
              .....
              --XYZZY--
        Moved nowhere.

11441.  November 12, 2003      Mac procs                 Eric
        Added the IBM compiler suite as an option to $SYSMAC files
        FDEFAULT.SH, LDOPTS.SH, and CCOPTS.SH.
        Moved nowhere.

11442.  November 12, 2003          FRING                    Amy
        FRING calculated the number of frequencies by taking the band-
        width and dividing by the smallest channel width.  If channel
        widths were less than 0, then the number of frequencies was
        negative and this caused FRING to die.  Added an absolute
        value number of freqs calculation.
        Moved nowhere.

11433.  November 12, 2003         install.pl              Eric
        Changed:
        1. Replace building UNSHR and then using it with a simple sh
        command for XAS, READLINE, etc.
        2. In compiling PP, changed if IBM test to if compiler is xlf
        to get the -qextname option in.
        Moved nowhere.

11444.  November 14, 2003       FITLD, PRTTP               Eric
        FITLD, PRTTP, IMLOD, UVLOD all had rather small limits for the
        number of FITS header records that they would read before
        deciding they were in trouble.  Raised the limits by a factor
        of 100.
        Moved nowhere.

11445.  November 16, 2003      TABHDR, FITLD               Eric
        FITLD has been neglecting the fact that the weather table has
        source and antenna number in it.  Since the antenna number can
        change for a particular antenna (and source number for source)
        this means that the data in the WX table produced for VLBA
        data is likely to be wrong.
        Changed TABHDR to turn a WEATHER table to a WR aips table and
        added WR2WX in FITLD.
        Moved nowhere.

11446.  November 17, 2003        install.pl                 Eric
        When it has to unpack the READLINE.SHR there must be a link
        file to unpack.  Added the code back again to make the link
        file.
        Moved nowhere.

11447.  November 17, 2003        Mac teachings              Eric
        Changed $APLNOT/CALREF to avoid calling SLAMCH.  This routine
        goes into infinite loops with any reorganization which the Mac
        linker apparently is doing.
        Changed LIBR.DAT in $SYSMAC, SYSLINUX, SYSALPLHA, SYSAXLIN,
        SYSDEC, SYSHP, SYSHP2, SYSIBM, SYSPPLIN, SYSSGI since $AIPNOT
        does not need AIPSUB subroutines and AIPSUB subroutines call
        things in Y areas.  Global optimization can cause trouble with
        this.
        Moved nowhere.

11448.  November 18, 2003    WRTPROCS, READISK             Amy
        Fixed READISK so that it worked with new FITLD parameter,
        NCOUNT.
        Moved nowhere.

11449.  November 18, 2003          WX table               Eric
        The VLBA table lacks the array number it should have.
        Changed:
        DWXV.INC    Added additional column
        WXINI       Added additional column
        TABWX       Handle new column incl its absence.
        TABLEUTIL   Change call seq to OTABWX and TABWX.
        FITLD       Append old TABWX and DWXV as WR things.  The
                    subarray will be 1 in the FITLD table.
        FILLM       Always writes subarray 1 to all of the files.
        APCAL       Include only those rows matching the subarray.
                    Increase number of adverb values for Amy's fix.
        WETHR       Added SUBARRAY as adverb to limit if desired to
                    one subarray.  Check SUBARRAY column value (if
                    present) to match.
        INDXR       Pass through subarray and limit to the correct
                    subarray.
        Moved nowhere.

11450.  November 20, 2003            EXTLIST and APCAL      Eric
        Worked over APCAL so that info for EXTLIST would be present.
        Changed AU8A to say something about APCAL.  It can even do the
        parameters of the first 1 or 2 plots on a page.
        Changed the plot file:
        PLRANG   Corrected bad error in logic, changed call seq to
                 allow a LEAST difference between max and min
        PLAXES   Allow for axis labeling in DD/HH MM form if axis
                 label is 'TIME (HOURS)'
        PLCLOS   Return an error code so that button D pushes will
                 actually stop the plotting
        APCAL    Made it support page full on DOTV, change right hand
                 plot to be apparent zenith opacity versus time,
                 add GRCHAN as adverb supporting 0.
        OBPLT    Changed call sequences.
        Moved nowhere.

11451.  November 20, 2003        IMLOD FITLD               Eric
        In IMLOD there was a limit of 250 extensions of one type on a
        file - the same limit in FITLD was 1200+ (2 digit base 36).
        Changed both to 46000 (3 digit base 36).
        Moved nowhere.

11452.  November 20, 2003           IMPOS                 Eric
        Changed help file and AU5 to return COORDINA from IMPOS.
        Moved nowhere.

11453.  November 24, 2003        APCAL                     Amy, Eric
        Made another option for DOFIT (-1), so antennas can be left
        out of the opacity correction.  Also, if ANTENNAS is set then
        DOFIT applies to only those antennas, i.e., DOFIT(1) applies
        to antenna in ANTENNAS(1).  This is also true for TRECVR and
        TAU0.  Fixed problem with plotting if gain goes negative.
        Moved nowhere.

11454.  November 30, 2003        SETPAR                     Amy
        Increased AIPSmark maximum to 200.
        Moved nowhere.

11455.  December 1, 2003            CookBook              Eric
        Changed $DOCTXT/LaCOOK?.tex and $AIPSPUBL/COOK?.PS:
        1  -  add Mac OS/X, revise bits and pieces
        2  -  change start up messages, screen server description
        3  -  OUTPUTS, DEFAULT, disk files in FITLD, FITAB, FILLM
        4  -  VLARUN mentioned, FILLM from disk added to, CLCAL
              seriously changed.
        5  -  FITLD multiple disk files
        6  -  FITS disk reading, gamma corrections in LWPLA, line
              coloring, task pause at page full, UVPLT option, POSSM
              plots BP and correlation funcs, polarization vectors in
              color, contours in color, TVCOLORS, output adverbs,
              TVILINE, 2 more color plot pages
        7  -  PBCOR was way out of date, IMDIST, IMEAN circular
              aperture
        9  -  FITLD disks, CLCOR/DELZN, SNSMO, CLCAL, APCAL changes,
              GPHAS dropped
        13 -  update
        Also Index and Table of Contents.  Created PDF files for all
        chapters in $AIPSPUBL.  Rearranged Recipe.tex for changed
        usage.
        Moved nowhere.

======================================================================
======================================================================

              Changes while 31DEC03 is NEW

======================================================================
======================================================================

11457.  December 2, 2003          FILLM                  Eric
        Fixed time advances while skipping tests to handle day roll
        over.  There was a problem only when no data had yet been
        selected.
        Moved to 31DEC03 this date.

11459.  December 3, 2003         MAKE.MNJ               Eric
        The part in do_daily that defines AIPS_ROOT should come ahead
        of the line that uses it.
        Moved to 31DEC03 this date.

11460.  December 4, 2003         install.pl            Eric
        Grammar error caused special hack for HPs not to work.
        Corrected $arch to $ARCH.
        Moved to 31DEC03 this date.

11461.  December 8, 2003            SNSMO                 Eric
        There was no default for SMOTYPE despite what the help said.
        The clipping routines had a variety of troubles.  Put in
        counters for what was deleted in CLPAPH, CLPRAT, CLPDEL.  The
        amp/phase clip assumed that both polarizations needed to be
        present and so showed both bad if one was.  This caused odd
        behaviors and failures to clip.  Dropped this both pol
        nonsense.  Fixed the setting of the BAD flag so that fewer
        records would be updated - only those actually changed.
        Moved to 31DEC03 this date.

11464.  December 9, 2003           UVFIX                 Eric
        Two major errors in processing multi-subarray data:
        1. The counter used to show start of data only worked for the
           subarray of the first sample.  All others used parameters
           based on that one.
        2. When bug 1 was fixed, several parameters were found to be
           set to the output values by the first subarray.  This
           included EPOCH and the coordinates and so made handling the
           second one problematical.  Made a bunch of parameters be
           picked up and saved at the beginning and then reused when
           needed.
        Moved to 31DEC03.  Cannot patch 31DEC02 since UVFIX differs in
        other ways too.

11466.  December 11, 2003         BLOAT                  Eric
        The alternate reference pixel was not reset when the frequency
        reference pixel was.
        Moved to 31DEC03 this date.

11467.  December 11, 2003         VPFLG                  Eric
        Add option to flag all IFs if 1 is bad.
        Moved to 31DEC03 this date.

11468.  December 11, 2003         UVFLG                  Eric
        Expand error message when trying to flag ampl or weight on a
        multi-source (FG table) data set.
        Moved to 31DEC03 this date.

11470.  December 16, 2003          PLOTR                Eric
        Corrected symbol size by multiply or divide by SQRT(XYRATIO)
        to keep the symbols square when XYRATIO is not 1.
        Moved to 31DEC03 this date.

11471.  December 18, 2003       CookBook                 Eric
        Corrected DELZN remarks in LaCook9.tex and COOK9.PS and
        COOK9.PDF.
        Moved to 31DEC03 this date.

11472.  December 22, 2003        UVPRT                   Eric
        Changed displayed remark: u, v, w are scaled to selected
        frequency, not the reference frequency.
        Moved to 31DEC03 this date.

11473.  December 23, 2003      ALGSUB, ALGSTB            Eric
        Added field number to messages to show progress when more than
        one field is involved.
        Moved to 31DEC03 this date.

11474.  December 31, 2003     ELINT                     Leonia
        ELINT has forced the imag part of the output CL table amplitude
        to zero. As a result ELINT has given the right output CL table
        only if the input CL table has zero for imag part of amplitudes.
        It fixed.
        Moved from 31DEC04 this date by Eric.

11475.  January 1, 2004       install.pl                 Eric
        Changed 31DEC03 version of install.pl to myver NEW (stops the
        MNJ).  Found that it had called itself 31DEC04 since 4 Dec!
        Moved nowhere.

11476.  January ??, 2004        CLCAL et al.               Eric
        Changed
        CLSMO    Fix spelling of comment
        SNSMO    I swear I did this once already: dropped an initial
                 insistence on having both polarizations at each time.
                 This got in bad trouble in some cases.
        CLCAL    The smoothing of real and imaginary is not ideal and
                 was changed back to smoothing phases keeping track of
                 the last good phase to try to avoid wrap troubles.
        Moved from 31DEC04 - thawed it just for this!


