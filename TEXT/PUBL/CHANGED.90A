-----------------------------------------------------------------------
;  Copyright (C) 1995
;  Associated Universities, Inc. Washington DC, USA.
;
;  This program is free software; you can redistribute it and/or
;  modify it under the terms of the GNU General Public License as
;  published by the Free Software Foundation; either version 2 of
;  the License, or (at your option) any later version.
;
;  This program is distributed in the hope that it will be useful,
;  but WITHOUT ANY WARRANTY; without even the implied warranty of
;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;  GNU General Public License for more details.
;
;  You should have received a copy of the GNU General Public
;  License along with this program; if not, write to the Free
;  Software Foundation, Inc., 675 Massachusetts Ave, Cambridge,
;  MA 02139, USA.
;
;  Correspondence concerning AIPS should be addressed as follows:
;          Internet email: aipsmail@nrao.edu.
;          Postal address: AIPS Project Office
;                          National Radio Astronomy Observatory
;                          520 Edgemont Road
;                          Charlottesville, VA 22903-2475 USA
-----------------------------------------------------------------------
	This file must be used to record any changes made to the
 code on the Charlottesville VAX in the logon area [AIPS].  The format
 to use is:

  line 1:  Date    Program name     Your name
  line 2:  What was done
  line 3:  Where has this change been moved (e.g. OLD, the Modcomp)
  line 4:  Blank

The details of line 1 are important since programs are used to find
specified strings and do conversions on them.  It MUST be typed as
follows: 1 blank, 4 digits, a period, two blanks, then the Month, day,
comma, year, some space, a title, some more space, your name.

       CHANGES to the 15JAN90 version of AIPS

***********************************************************************

       Changes while 15JAN90  was TST:

***********************************************************************
***********************************************************************

 5239.  August 9, 1989        QUACK                        Bill C
        Fixed QUACK to mark the FG table as unsorted.  This bug would
        cause entries entered by QUACK to be ignored under some
        circumstances
        Moved from Oz to nowhere.

 5240.  August 9, 1989             GTPAIR                 Bill C
        Fixed bug processing LOGICAL keywords.  This error caused
        FITTP to drop logical type keywords from tables resulting in
        SN tables being unuseable after being read back in.
        Moved nowhere.

 5241.  August 9, 1989               SNPLT                  Phil
        Added two new options, one (adverb XINC) allows the user to
        plot every XINC'th point, the other (OPCODE='DOPL') allows
        the user to plot the doppler offset column (from the CL table)
        as a function of time, can be a useful diagnostic for VLBI
        type data. Also new .HLP file
        Moved from Australia and nowhere else.

 5242.  August 9, 1989               MX.FOR                  Phil
        Fixed two problems: one was that when making cubes of maps
        MX would fail on the 2nd plane complaining about FREQID -1,
        this was happening because the work file was being overwritten
        but its associated FQ table was being extended not removed
        and re-written. The second was that the FQ table was being
        copied to the output map because it was not in the list of
        those to be excluded in the call to ALLTAB, this did no harm
        but was unnecessary.
        Moved from Australia and nowhere else.

 5243.  August 9, 1989            VMS                       Eric
        The VMS optimiser gets us 15--20\%\ improvement in performance
        when the program works.  However, any program having INTEGER*2
        in it appears to fail.  Since this includes all TV and tape
        program unavoidably, I have changed SYSVMS:OPTIONS.COM to
        specify /DEBUG/NOOPTIM as the default.  On the Charlottesville
        VAX, we will keep in SYSLOCAL: a version that defaults to
        optimization for testing.
        Moved to VAX1 before the recompilation of the quarterly update
       and to 15OCT89.

 5244.  August 17, 1989             SOLCL                    Chris
        New task to apply system temperature corrections from selected
        antennae to VLA data observed in solar mode.
        Moved nowhere.

 5245.  August 14, 1989         ZWHOMI                    Eric
        Changed generic version to suppress any messages when there
        are no TVs or TKs.  Otherwise, poor values for the logicals
        TVDEV1 and TKDEV1 lead to meaningless error messages.
        Moved to 15OCT89 this date.

 5246.  August 17, 1989          MAXFIT                    Eric
        Changed AU9 and MAXFIT.HLP to add the adverb PRTLEV  to
        allow the user to suppress the messages giving the fit
        coordinates and fluxes.
        Moved nowhere.

 5247.  August 18, 1989           SOLCL                    Eric
        Corrected bad Fortran --- DATA statements must follow all
        other kinds of declarations.  A PARAMETER statement followed
        a DATA in the initialization subroutine.  The SUN compiler
        cares about this ANSI rule.
        Moved nowhere.

 5248.  August 21, 1989             PRTCC                    Eric
        Added another digit (0.1 microJy!) to the displays of point
        components.
        Moved nowhere.

 5249.  August 21, 1989            LISTR                  Chris
        Inserted scalar directives (INCLUDE 'INCS:ZVD.INC') for
        the DO 150 IVIS and DO 250 IVIS loops in subroutine LISTAV.
        This allows LISTR to be compiled at optimization level 2
        (vector optimization) with Convex fc 5.0. This version of
        the Convex FORTRAN compiler has a bug which causes the
        compiler to abort on encoutering a ``scalar (to the loop)
        reduction within an IF-THEN construct inside a DO-loop.''
        This problem is fixed in revision 5.1 of the compiler and
        these directives should be removed when we upgrade to this
        version. No other programs in OPT2.LIS are affected by
        this bug.
        Moved to 15OCT89 this date.

 5250.  August 21, 1989                 TVFLG                 Eric
        Changed help file --- there is a 10-second default value used
        for DPARM(6).  Corrected error message when AN file missing or
        faulty in Fortran.
        Moved to 15OCT89 this date.

 5251.  August 21, 1989                PRTCC                  Eric
        Changed it to read either MA or UV cataloged files.  It was
        restricted to maps.
        Moved nowhere.

 5252.  August 21, 1989               PRTIM                  Eric
        Raised allowed ranges of XINC, YINC, and FACTOR in the help
        file.  Changed Fortran a bit to handle 2-axis images better
        --- the old code wiped out the addresses in a later call
        to DIETSK.
        Moved to 15OCT89 this date, nowhere else.

 5253.  August 22, 1989            UVLOD                    Chris
        UVLOD now removes any WEIGHT and/or SCALE random parameters
        that existed on the FITS tape when DOUVCOMP is true. Previously,
        UVLOD appended the WEIGHT and SCALE parameters needed for
        compressed data to the end of the parameter list regardless of
        whether they already existed. This caused problems for AIPS
        tasks which read the compressed data. The problem showed up in
        FITS tapes from the old DEC-10 system (gripe #3740) but would
        also affect data which had had dummy WEIGHT and SCALE parameters
        added by FILLM. The problem with DEC-10 tapes arose from the
        use of a highly unconventional scheme for storing {\it uv\/}
        data with the integration weight carried in a random parameter.
        Moved to 15OCT89 this date.

 5254.  August 23, 1989           UVCMP                    Chris.
        I left out the statement that restored the definition of
        variable WTOFF after adding a new WEIGHT random parameter
        in a previous modification to UVCMP resulting in UVCMP
        forgetting the location of the WEIGHT and SCALE random
        parameters. This statement has now been restored. The
        error was discovered while reusing the same code in UVLOD
        (see above) but was responsible for at least one reported
        gripe (#3782).
        Moved to 15OCT89 this date.

 5255.  August 23, 1989               ISPEC                  Phil
        Minor modification to protect users from themselves. Ensured
        that number of planes was never = 1 in input adverbs. If is
        = 1 then will plot all frequency planes.
        Moved from Australia to 15OCT89 and 15JAN90.

 5256.  August 23, 1989               PRTUV             Phil
        Modified PRTUV to deal more sensibly with multi-source data.
        It will now inform the user when the source changes, the user
        also now has the ability to select sources to be printed.
        Also modified .HLP file and moved code to APGNOT:.
        Moved from Australia to nowhere.

 5257.  August 23, 1989          PRTUV                        Eric
        The program never reported its objection to compressed data
        --- it just died unnaturally.  Added a call to MSGWRT.
        Moved fix only to 15OCT89 this date.

 5258.  August 24, 1989             TABIO                     Eric
        Corrected some poor code forms due to the overhaul.  Added
        tests for keyword/value pairs and data selection strings to
        make sure that the record number did not exceed that allowed
        to fit in the file.
        Moved nowhere.

 5259.  August 24, 1989             help files               Eric
        Created help files for OUTFILE, INFILE, and IN2FILE.  These
        had been neglected for some reason.
        Moved to 15OCT89 this date.

 5260.  August 24, 1989             GRDROP                 Eric
        Corrected AUC to manage the user numbers when updating the
        gripe directory record.
        Moved to 15OCT89 this date.

 5261.  August 24, 1989            TKPL                   Eric
        Dropped INTYPE from help and Fortran.  This adverb is obsolete
        for most --- not all --- tasks and was supposed to be dropped
        in the overhaul.
        Moved to 15OCT89 this date.

 5262.  August 24, 1989          FILLM                   Chris
        Corrected a DATA statement that was causing FILLM to write
        out WEIGHT and SCALE parameters in uncompressed data. This
        made a loop that was added to initialize the random parameter
        array so that these parameters did not contain invalid numbers
        redundant. This loop has been removed. It turned out that this
        loop was responsible for bad entries (times of 0/00:00:00.0)
        being entered in the index tables at the end of a FILLM run
        (gripe #3779). During the close-down phase, FLMDAT is called
        with dummy variables in place of the arrays used to hold the
        data in other calls to FLMDAT; the dummy variables were not
        arrays and so the initialization loop overwrote variables
        following them in memory, including the time for the last
        index record.
        Moved to 15OCT89 this date.

 5263.  August 25, 1989           GRIPR, BATER                   Eric
        Corrected overhaul errors in parsing the adverb = value inputs
        in GRIPR and BATER.  Corrected errors reading in gripe name,
        address, and phone number involving mixed character and
        hollerith.  Brought the GRDROP code up to date to match the
        much more powerful one inside AIPS itself.  Also corrected
        a bug in BAMODIFY in AUB and some typing.  Cleaned up BATER's
        code for new BQ file format and for new rules on QUEUES
        listing (0 means all queues).
        Moved to 15OCT89 this date.

 5264.  August 25, 1989             TAFFY                Jeff Mangum/Eric
        SUBROUTINE DIDDLE was missing the DDCH.INC include, so FBLANK
        was not in fact declared or initialized.
        Moved to 15OCT89 this date.

 5265.  August 25, 1989           FARAD                     Chris
        Corrected a number of typos associated with the reading of
        TEC data. Also added code to close the TEC data file
        correctly and changed the handling of bad TEC data.
        Moved to 15OCT89 this date.

 5266.  August 25, 1989              COMB                      Eric
        Fixed (1) a bad branch that lead to an strange message when
        using OPCODE = 'MEAN' and (2) an old error in the call sequence
        to HICLOS that lead the Vax anyway to mess up the output HI
        file.
        Moved to 15OCT89 this date.

 5267.  August 25, 1989              COMB                      Eric
        Changed default for BPARM(6) for 'POLA' to 360. degrees in the
        help and Fortran.
        Moved nowhere.

 5268.  August 26, 1989              EDIT, MODIFY, DELETE       Eric
        Added messages to clarify error conditions reading in the
        arguments to these pseudoverbs in subroutine EDITOR.
        Moved to 15OCT89 this date.

 5269.  August 26, 1989             PRTGA                      Eric
        Added extra messages to indicate continuing without the AN file.
        Moved to 15OCT89 this date.

 5270.  August 26, 1989             EXTLIST                      Eric
        Changed AU8A to skip the polarization vector parameters in PCNTR
        when DOVECT was false.
        Moved to 15OCT89 this date.

 5271.  August 26, 1989        APCLN, SDCLN                      Eric
        Changed to ignore BOXES adverb above the number given by NBOXES.
        Moved to 15OCT89 this date.

 5272.  August 26, 1989            IMVAL                       Eric
        Changed help files for IMVAL and QIMVAL to allow 0 for PIXXY
        since axes > 2 may require that value.
        Moved to 15OCT89 this date.

 5273.  August 26, 1989            IMVAL, QIMVAL               Eric
        Changed CUBINT to use a correct formula for cubic-interpolation.
        The old one had wrong linear and cubic terms!
        Moved to 15OCT89 this date.

 5274.  August 27, 1989             STOKES                     Eric
        Rewrote this help file, replacing old incorrect information
        with something that is likely to be correct at least some of
        the time.
        Moved to 15OCT89 this date.

 5275.  August 27, 1989              BLSUM                     Eric
        Added more display of the units being used.
        Moved nowhere.

 5276.  August 27, 1989           PUTHEAD, GETHEAD             Eric
        Corrected AU7A.  It had an addressing problem due to missing
        parentheses in a Fortran numeric computation.
        Moved to 15OCT89 this date.

 5277.  August 28, 1989            GRIPE                     Eric
        Added information to help file to tell users that the AIPS
        version and system string are automatically recorded.  Changed
        AUC and GRIPR to display the system release date and id
        string before asking for the gripe.
        Moved nowhere.

 5278.  August 28, 1989            GET                        Eric
        Changed error message to use when trying to GET a non-existant
        file.
        Moved to 15OCT89 this date.

 5279.  August 28, 1989              CLCAL                 Eric
        Changed typing in help file to remove tabs, improve appearance
        and correct misstatement regarding CALCODE test.
        Moved to 15OCT89 this date.

 5280.  August 28, 1989             plotting               Eric
        Changed message at end of plots to give only the file size used
        since the guessed no longer is of any real interest and changed
        the message level to 2 so that it will appear in the message file
        as a warning about excessive file sizes.
        Moved nowhere.

 5281.  August 28, 1989              GETJY                   Chris
        In the subroutine GJYWSN, which modifies the SN tables after
        determining the fluxes of the secondary calibration sources,
        GETJY was using column 12 as the weight for polarization one
        rather than column 13. Column 12 holds the residual phase
        delay rate which is normally zero for VLA observations. GETJY
        therefore usually read the weight of the gain solution for
        polarization one to be zero and did not modify it (gripe #3748).
        The erroneous EQUIVALENCE has now been corrected.
        Moved to 15OCT89 this date.

 5282.  August 29, 1989               DBCON                     Eric
        Corrected help file.  The explain section said that DOPOS(2,1)
        required that the two frequencies agree to 0.1\%\ without saying
        of what.  It is the first freqency.
        Moved to 15OCT89 this date.

 5283.  August 29, 1989            SU tables       Ralph Gaume/Eric
        Corrected dimension statements for number of columns in SU
        files in FNDSOU and in GETJY (2 places) and in SOURNU.
        This could have caused problems in SETJY, GETJY, UVFLG, and
        other tasks.
        Moved to 15OCT89 this date.

 5284.  August 29, 1989               ZPRI2          Ralph Gaume/Eric
        Corrected the APLUNIX: and APLBERK: versions of ZPRI2.C.  They
        both referred to {\tt op[5]}, where 4 is the maximum subscript.
        This caused batch jobs to run at too high a priority.  All of
        the tasks must be relinked.
        Moved to 15OCT89 this date.

 5285.  August 29, 1989            IMHEADER, TPHEAD            Eric
        Corrected subroutines LSTHDR and MSGHDR to put the leading
        zeros in the correct columns for observed coordinates.
        Moved to 15OCT89 this date.

 5286.  August 30, 1989      J2000 precession                Bill C
        New set of routines to precess, nutate etc. positions according
        to the "J2000" conventions.  The top level routine is JPRECS which
        is similar to the B1950 routine PRECES but the call sequence is
        different.  The new routines are:
           JPRECS - Top level J2000 precession routine.
           JPRENU - Compute rotation matrix for precession and nutation
           JABER  - Compute vectors for aberation and GR light bending
           JPOLAR - Correct position for polar motion
           SLAEVP - Earth ephemeris
           JNUT   - J2000 nutation series.
        Moved nowhere.

 5287.  September 5, 1989             FARAD                 Chris
        Corrected the starting index of the loop that performed the
        integration over the altitude profile. The error caused only
        a negligable error in the result.
        Moved to 15OCT89 this date.

 5288.  September 6, 1989             IMFIT                 Bill C
        Corrected bug in format statment left from the overhaul.  This
        bug caused the display of the RA and Dec reference pixel to be
        trash and appears to terminate in output if sent to a QMS printer.
        Moved to 15OCT89 this date

 5289.  September 8, 1989          CALIB                 Chris
        CALIB now ignores the adverbs CALSOUR, QUAL, CALCODE, SELBAND,
        SELFREQ, FREQID, TIMERANG, BCHAN, ECHAN, and ANTENNAS if used
        in self-cal mode on a single-source file, as documented in the
        HELP file.  The application of the ANTENNAS adverb to single-
        source data was associated with a significant problem in this
        mode of operation.  The particular problem arose from the the
        ill-behaved nature of the library subroutine UVGET with regard
        to its inputs; that is the fact that UVGET may modify its inputs
        when called with OPCODE='INIT'. In particular, if the user
        requested that antenna $n$ be excluded, UVGET was called with
        ${\tt ANTENS) = ( -n, 0, \ldots)$ to initialize the first
        (solution) pass through the data but returned with
        ${\tt ANTENS) = ( +n, 0, \ldots)$. The new value of ANTENS
        was passed to UVGET when UVGET was called to initialize the
        second (copy and correction) pass through the data. The
        result was that the two passes were made with contradictory
        selection criteria. This came to light when a user tried to
        exclude an antenna that did not exist in the data: all data
        were rejected by the selection criteria on the second pass.
        The route of choosing to ignore the above adverbs rather than
        patching over the immediate problem was taken since it is not
        clear how these adverbs apply to single-source files; while
        it may be desirable to limit solutions to some subset of the
        data it is probably not desiable to restrict the output data
        set to that subset of the data for which solutions were found.
        In addition 'FQ' was added to the list of excluded table types
        used by ALLCOP (call from CLBHIS) to prevent duplication of
        the FQ table in the output file.
        Moved to 15OCT89 this date.

 5290.  September 11, 1989        LISTR                     Phil
        Changed format statement when ch. sep printed out for optype
        = 'scan'. Moved to 15OCT89 this date.

 5291.  September 12, 1989        GRIPES.ML                 Nancy
        Modified DOCGRIP:GRIPES.ML gripe file cleanup routine to
        include changing " = " to "=", the only feature not
        contained in the almost identical GRIPEMODE.ML file which
        is autoloaded by emacs when a gripe-type file is detected.
        (See NRAO$ROOT:[EMACSV2.NRAOMACS]GRIPEMODE.ML.)  On CVAX,
        I have eliminated the duplication by making the autoloaded
        file empty except for a command to point to the
        DOCGRIP:GRIPES.ML file, since it is an AIPS-specific feature
        of emacs.  Since we do not port the DOCGRIP: directory to
        nrao1 at this point, I have edited the autoloaded file on
        nrao1 (/nrao/emacsv2/nraomacs/gripemode.ml) to be the same
        as the gripes.ml file.
        Moved nowhere.

 5292.  September 12, 1989        FILLM                     Bill C/Phil
        Some fairly major changes to overcome the problems of the last
        few months:
        (1) Changed band code '7' to '4' for 75MHz data
        (2) Don't check the bandwidths of different files when looking
            for a match in FLMFND, AIPS data files can now have different
            bandwidths.
        (3) Reset the I/O sizes and counters when the new output file
            does not match the current set known about internally.
        (4) Reset the channel selection when switching output files,
            all files were appearing with the number of channels found
            in the first data set.
        (5) Ensure that there are separate source lists for each data
            stream.
        (6) Ensure that the correct FQ numbers are written to all the
            files, some things were not being initialized correctly
            when opening new files and recovering the FQ information
            from files already created.
        (7) Ensure that each new line uv file also has a new channel
            0 file, this is done by attaching a keyword/value pair
            to the catalogue headers which FILLM can then read to
            determine if new data should be attached to this file or
            not. Was not a problem with line data but was with channel
            0.
        (8) The selection by observing mode was broken, fixed this.
         Moved to 15OCT89 soon.

 5293.  September 14, 1989                 FILLM               Phil
        I missed a couple of things, when FILLM started reading a new
        tape the reference frequency it got was incorrect, this would
        occasionally cause incorrect FQ numbers to be assigned. Also
        the reading of keyword/value pairs didn't work because I had
        not told CATKEY what keyword to read. Added a message informing
        the user of the FQ entry tolerance being used.
        Moved nowhere, will move to 15OCT89 soon.

 5294.  September 15, 1989             LISTR                    Phil
        One of the frequency labels printed in the 'list' and 'matrix'
        modes was incorrect due to the IF offset being subtracted
        twice. Fixed.
        Moved to 15OCT89 this date.

 5295.  September 15, 1989     Faraday rotation          Chris
        Added Faraday rotation corrections to the calibration
        routines in the UVGET package.  The ionospheric Faraday
        rotation measure is read from the CL table (as inserted
        by FARAD) and applied to the cross-polarization data
        if DOPOL is set to true.  Changes were made to the
        following files.
        DSEL.INC --- added the arrays LAMSQ (a look up table
        of wavelengths squared, indexed by channel number and
        IF), IFRTAB (the IFR values as read from the CL table)
        and IFR (the interpolated IFR values) to COMMON /CGNINF/.
        GAININ.FOR --- added code to initialize LAMSQ.
        CSLGET.FOR --- added code to read values into IFRTAB.
        CGASET.FOR --- added code to interpolate IFR values.
        DATPOL.FOR --- added code to make correction (rotation
        is subtracted from RL and added to LR).
        Recompiled all subroutines accessing DSEL.INC and
        recompiled SPLIT, LISTR, CALIB, PRTUV and UVPLT to pick
        up changes.
        Moved nowhere.

 5296.  September 17, 1989                    FQMATC         Phil
        Modified so that the default value for freqid (-1 or 0)
        does something sensible, it now takes the first FQ number
        (and tells the user). Also check that if freqid is set it is
        a legal value. Recompiled all routines that call fqmatc.
        Moved to 15OCT89 on Sept 22.

 5297.  September 17, 1989               POSSM             Phil
        Changed slightly the error handling after FQMATC.
        Moved to 15OCT89 on Sept 22.

 5298.  September 17, 1989                 ZUVPAK          Phil
        When generating the scale factor for a spectrum the
        wrong element of an array was being examined to see if it
        was zero. Fixed.
        Moved to 15OCT89 on Sept 22.

 5299.  September 18, 1989          CALIB                Chris
        Globally replaced instances of IFR by IFRM to avoid a
        conflict with DSEL.INC.
        Moved nowhere.

 5300.  September 18, 1989           SOLCL                Chris
        Replaced the PARAMETER statement that defined the LUN used
        to read the FQ table (this had previously been removed since
        it was incorrectly positioned after a DATA statement but had
        not been replaced in a legal position).  Also converted the
        value of SELFREQ to a DOUBLE PRECISION variable before calling
        FQMATC.
        Moved to 15OCT89 this date.

 5301.  September 18, 1989         ZTPMI2             Bill J./Chris
        Initialisation of FCB(1+FCBSP2) prior to tape i/o check
        in ZTPWA2 was incorrect.  This meant that FITTP failed.
        Moved to 15OCT89 this date.

 5302.  September 18, 1989         FQMATC                Phil
        Under some circumstances the FQ table was not being closed
        upon exiting the subroutine.
        Moved to 15OCT89 on Sept 22.

 5303.  September 18, 1989         FREQID programs          Phil
        Improved the error handling after FQMATC in all programs that
        call it. They now die in a more sensible manner.
        Moved to 15OCT89 on Sept 22.

 5304.  September 18, 1989          FQTOL                      Phil
        New adverb; specifies the tolerance with which two frequencies
        are compared when deciding what FQ number to assign them.
        Will be used in DBCON. Also .HLP file.
        Moved to 15OCT89.

 5305.  September 19, 1989         RSTOR        Patrick Leahy/(by Bill C)
        New task to convolve a set of clean components with a Gaussian and
        add them to an image.  Also RSTOR.HLP.
        Moved nowhere.

 5306.  September 19, 1989      History merging  Patrick Leahy/(by Bill C)
        Added new history routines HIMERG and HIADDN to be used when several
        history files are to be concatenated and one or more history files
        are to be produced.  Multiple copies of the same history file will
        NOT be written to the output history file(s).
        Moved nowhere.

 5307.  September 19, 1989      ASCOR          Patrick Leahy/(by Bill C)
        Modified ASCOR to use new history merging routine HIMERG.
        Moved nowhere.

 5308.  September 19, 1989   .OPT files for QPGM             Bill C
        Added QPGMOPT.OPT and QPGMOPT1.OPT to SYSVMS to allow RSTOR to
        link.
        Moved nowhere.

 5309.  September 19, 1989       D/VAPT.INC                Bill C
        Added RSTOR to list of AP tasks.
        Moved nowhere.

 5310.  September 19, 1989          PCAL                     Chris.
        Added support for ionospheric Faraday rotation to PCAL. PCAL
        calculates the ionospheric Faraday rotation for each telescope
        and visibility when copying the (optionally calibrated) data
        to a scratch file in PCLCOP using data maintained by UVGET.
        The rotation is taken into account when subtracting the model
        polarization from the observed cross-polarization streams in
        LPCALC (approximate solution for circular feeds) and XYCALC
        (approximate solution for AT type linear feeds).
        Moved nowhere.

 5311.  September 19, 1989      LIBR.DAT for UNIX Systems       Kerry
        Added link list for programs stored in QPGM, a formerly empty
        directory.
        Moved nowhere.

 5312.  September 22, 1989      SOURNU                        Bill C
        Cleaned up handling of deselected sources.  Also now returns
        NID = 0 when all sources are selected.  Changes declarations of
        SUNUMV and SUKOLS to use the parameter MAXSUC from PUVD.INC; the
        previous declarations were too small.
        Moved nowhere.

 5313.  September 22, 1989         FREQID, SELBAND, SELFREQ     Phil
        Modified the help files slightly to state what the default
        values of these adverbs signify to the tasks.
        Moved to 15OCT89 this date.

 5314.  September 23, 1989         FILLM                        Phil
        Yet another round of fixes, we'll get there.
        (1) When reading in a second tape and concatenating files
            the file was being doubled in size instead of incremented
            by 10000 vis. due to an incorrect index.
        (2) If the number of polzns or IF's changed between scans
            FLMCLS would have problems because the values had been
            changed too quickly. Modified to update various parms
            in the commons after previous scan has been fully dealt
            with.
        (3) In 'LP' mode all of the 'P' band data was being written
            into seperate files (i.e. one per scan), confusion of
            what polzn was being read from the tape in this mode.
        (4) Perley couldn't live without obselete correlator mode
            4A, his life is now safe.
        (5) Occasional Nan's would be present in the nominal antenna
            sensitivities, if data is solar data these are now
            checked for and the user is warned.
            Moved nowhere yet.

 5315.  September 23, 1989              GETFQ               Phil
        New subroutine, examines the FQ table to obtain information
        for a specific FQ entry. Put into aplnot.
        Moved nowhere.

 5316.  September 23, 1989               POSSM, UVPLT       Phil
        Modified so that the plot label now contains information about
        the freq/bandwidth for data with a FREQSEL random parameter.
        Moved nowhere.

 5317.  September 24, 1989         VLAPROCS.001                Bill J/Phil
        Removed the freqid kludge that had been inserted to overcome
        the FQMATC shortcomings.
        Moved to 15OCT89 this date.

 5318.  September 24, 1989            VLACLCAL.HLP           Phil
        Added FREQID to the helpfile, it is an adverb that users need
        to see.
        Moved to 15OCT89 this date.

 5319.  September 24, 1989            MAKMAP                 Phil
        Minor problem, when the doband option was switched on makmap
        tried to remove the FQ table from the wrong scratch file and
        so was getting a non-catastrophic ZCREAT error message. It
        now does the correct thing.
        Moved to 15OCT89 this date.

 5320.  September 25, 1989            VMS Q Routines          Glen
        VMS PSAP version of UVMAP failed because of changes from
        F-66 to F-77 in subroutines QVMS:QPUT,QGET and QVMOV, although
        old logic did not appear correct.  Incorrect block transfers
        corrupted map, placing stripes in BEAM.  Variable redeclared to
        I*2 and block transfer logic clarified.
        Moved to 15OCT89.

 5321.  September 25, 1989          UVPGET                  Chris
        Changed an erroneous KICTPN to KIPTPN.  The error meant that
        UVPGET could not find existing random parameters after the
        seventh random parameter.  This showed up since data read
        from the DEC-10/ISIS variant of FITS had enough junk in
        the random parameter list to push the SOURCE parameter
        beyond slot seven when converting to a multi-source file
        with MULTI.
        Moved to 15OCT89 this date.

 5322.  September 25, 1989         SOLCL                Phil
        Added missing square root operations.
        Moved nowhere.

 5323.  September 25, 1989         REVERSE   Mark Calabretta/Glen
        Declared variable J.
        Moved to 15OCT89.

 5324.  September 25, 1989             GREYS                      Eric
        Corrected bug in axis-information display for LTYPES 4 and 5.
        The rotation was omitted and the center coordinates were
        shown twice, but only on rotated images.
        Moved to 15OCT89 this date.

 5325.  September 26, 1989         UVIMG     Mark Calabretta/Glen
        UVIMG calls to CATDIR and MAPOPN with contant string parameter
        were changed to variable parameter PTYPE because these subroutines
        modify the value.
        Moved to 15OCT89 this date.

 5326.  September 26, 1989         TXPL                   Glen
        TXPL aborted when writing to a history file because a format
        statement had the wrong number of characters.
        Moved to 15OCT89 this date.

 5327.  September 26, 1989         VLACALIB.HLP, VLAPROCS.001     Phil
        After user pressure, modified the procedures so that the
        VLACALIB proc would apply any calibration previously generated.
        Also removed the printing of the inputs from VLACLCAL because
        they cover more than one page and require the user to be
        present and raise a finger to press a button.
        Moved to 15OCT89 this date.

 5328.  September 30, 1989                 HORUS                Phil
        Added the QUAL adverb to the data selection. We are going to
        need a qualifier array for general usage.  Modified .HLP also.
        Moved to 15OCT89 this date.

 5329.  September 30, 1989            ISPEC                     Eric
        Rewrote the program.  Previously it was limited to the simplest
        spectral-line cubes, used a variety of non-standard defaults,
        mislabled the velocity/channel axis, and had a confusing choice
        between PIXXY and BLC/TRC to set the area averaged for the plot.
        Changed the Fortran and help file to be more general, to use
        standard defaults, to use standard (slice) labeling routines,
        to use only BLC/TRC, and to offer a choice of plot types.
        Also changed standard subroutines LABINI (to spell {\tt CENTER AT}
        as {\tt Center at}), CLAB1 (to null out the Y axis also on LTYPE
        = 2), and CTICS (to define input parameters correctly after the
        overhaul).
        Moved nowhere.

 5330.  September 30, 1989         EXTLIST displays             Eric
        Corrected SNPLT --- the antennas used on each page were not
        correctly entered in the plot header and the wrong plot type
        was used for 'SUM ' plots.  Changed KNTR to plot type 18,
        UVHGM to type 19, and ISPEC to type 20.
        Corrected AU8A for SNPLT --- a call to MSGWRT was omitted and
        the address to OPTYPE had changed due to the addition of an
        input parameter.  Changed AU8A to differentiate KNTR and CNTR,
        displaying the planes used for KNTR, and to add displays for
        UVHGM and ISPEC.  Changed AU8A to check all ``unknown''
        extension types to see if they are standard tables and to give
        a useful display if they are.
        Moved nowhere.

 5331.  October 1, 1989                MCUBE                 Eric
        Corrected WRPLAN --- it was executing a MSGWRT call even on
        a normal termination.  Added the branch around the call.
        Moved to 15OCT89 this date.

 5332.  October 2, 1989         IMEAN                    Glen
        Add option to write to a log file for later user processing,
        when file name is specified with additional parameter OUTFIL.
        Moved nowhere.

 5333.  October 3, 1989         FQMATC                 Phil
        Added ability to deal with Ch tables, just sets FRQSEL = 1.
        Moved to 15OCT89 this date.

 5334.  October 3, 1989         TACOP.HLP                Bill J.
        Added some notes to HELP file for VLBI processing.  There
        was some confusion about the use of TACOP for AN files.
        Users were generating versions of the AN file > 1 for a
        data set with only one subarray.  This caused some problems
        when UVFIX was run.  (This has to be done for data from the
        CALTECH Mk2 correlator.)  AN file diddling is a common
        requirement for VLBI data sets since the file often lacks
        essential information.
        Moved to 15OCT89 this date.

 5335.  October 3, 1989              GREYS                   Eric
        Corrected oversight --- it was placing step-wedge labels to
        the right of the plot when DOWEDGE <= 0 since there was no
        test for not doing so.
        Moved to 15OCT89 this date.

 5336.  October 4, 1989           CALIB.FOR               Phil
        Removed a spurious msgwrt which was annoying Mk3 vlb users.
        Moved to 15OCT89 this date.

 5337.  October 4, 1989            PTIME.FOR               Phil
        Little routine which when fed the time in radians or days
        produces output which can be easily printed in standard
        format.
        Moved to 15OCT89 this date.

 5338.  October 4, 1989         TXPL                       Glen
        TXPL was hanging in batch jobs because of non-standard IO,
        so these routines were replaced by calls to MSGWRT and PRTLIN.
        Moved to 15OCT89 this date.

 5339.  October 5, 1989              DDT                      Eric
        Changed DDTSAVE.HLP, adding adverb NCOMP to be saved.  Changed
        DDTLOAD.001 by making UVDIF a bit less demanding, adding
        adverb NCOMP for each source to specify the number of merged
        clean components used in ASCAL, changed destruction of any
        pre-existing ``master'' images plus loading of new ones to
        be done one type at a time based on TMASK, added CCMRG for
        all cases ahead of ASCAL, improved final displays adding a
        PRTMSG of PRIORITY 5 and above as ``answers''.
        Moved nowhere.

 5340.  October 6, 1989     Copyright notices              Bill C
        The copyright statments were replaced by another statment in
        all Fortran, C, Macro and Help files.  Mostly this was done
        outside of the checkout system (since the changes were made only
        in comments).  The copyright notice displayed by ZDCHIN for
        some stand alone programs was changed to the new statment and
        comments in example code in IMPFIT were changed.  The new statment
        is:
          ``This software is the subject of a User agreement and is
          confidential in nature. It shall not be sold or otherwise made
          available or disclosed to third parties.''
        Moved from 15OCT89 this date.

 5341.  October 6, 1989                  PRTUV                  Phil
        Minor problem in the source selction in prtuv, under some
        circumstances all sources would be disqualified and it would
        print nothing.
        Moved to 15OCT89 later.

 5342.  October 6, 1989                  MULTI                 Phil
        Multi would write an FRQSEL r.p. even if no CH/FQ tables
        were present. Fixed.
        Moved to 15OCT89 later.

 5343.  October 6, 1989                  UVFIX                 Bill J.
        For Earth-centred arrays, the arguments to ATAN2 in the
        evaluation of position for diurnal aberration calculations
        were both 0.0.  ATAN2 is undefined in this situation. Added
        elementary test to trap this.
        Moved to 15OCT89 this date.

 5344.  October 6, 1989             PRTIM                   Eric
        Corrected overhaul bug --- the image name and class were
        all run together.
        Moved from 15OCT89 this date.

 5345.  October 9, 1989             DDTLOAD.001                Kerry
        Fixed bug that caused the ASCAL step to fail if DDISK and MDISK
        were not the same.
        Moved nowhere.

 5346.  October 10, 1989              FARAD                Chris
        Changed the value of the constant used to calculate the
        Faraday rotation measure from 2.22E-17 to the correct value
        of 2.62E-17.  The error was probably a typo.
        Moved to 15oct89 this date.

 5347.  October 10, 1989       TABINI                         Bill C.
        Modified to deal with "forgotten" tables; i.e. tables whose
        existance is not indicated in the catalog header.  On reads an
        old but uncataloged file is cataloged and opened.  On write an
        old but uncatalogued file is deleted before creating a new one.
        In either case a message is printed.  Thus "lost" tables which
        still exist may be recovered by reading them with, for example,
        PRTAB.
        Moved nowhere.

 5348.  October 11, 1989                  VLBIN                 Phil
        Modified the way the data weights were written so they reflect
        the number of bits actually correlated, previously a weight
        of 1.0 was given to every data point. The new weights are
        normalized such that they are close to 1.0 and will in fact
        be almost always a similar number for each data point. Also
        rationalised the way in which the infile, in2file adverbs
        are given, previously the user had to use a : on a Vax and a
        / on a Convex, now use : always. Modified the .HLP file to
        reflect this.
        Moved to 15OCT89 this date.

 5349.  October 11, 1989        FITTP.HLP           Mark Calabretta/Bill C
        Improved the description of the use of adverb DOTABLE.
        Moved to 15OCT89 this date.

 5350.  October 11, 1989            TRANS                    Eric
        Dropped all handling of integer input images since that is
        obsolete.  Corrected buffer size to 32768, rather than 32767.
        This caused severe errors in disk-based x-y transposes
        since the disk IO had a different idea of the buffer size
        than did the transposition algorithm.  Later changed the
        buffers to be four times larger in the hope of speeding
        things up some.  Intermittant failures on VMS were fixed
        by the corrections to MINIT and MDISK.
        Moved to 15OCT89 this date.

 5351.  October 11, 1989          MINIT, MDISK               Eric
        The fundamental disk IO routines failed to wait for the next
        to last buffer write to complete.  This could cause bad data
        to reach disk if that next-to-last buffer was reused fast
        enough.  TRANS was able to do this on disk-based x-y transposes.
        Corrected MINIT and MDISK to record in the FTAB which buffers
        still need a wait to be performed and to do any pending ones
        when the FINI code is received.
        Moved to 15OCT89 this date.

 5352.  October 12, 1989            MX.HLP                  Bill C.
        The HELP section incorrectly stated that EIF=0 meant to grid
        only 1 IF.  EIF=0 means grid up to the highest IF number.
        Also cleaned up the description of imaging spectral line data.
        Moved to 15OCT89 this date.

 5353.  October 12, 1989             BPASS,UVGET,DATGET,DSEL.INC  Phil
        Modified BPASS so that users can now specify an external file
        to use as the channel 0 when normalising by channel 0. The
        IN3NAME set of adverbs are used to define the 'channel 0' file.
        BPASS insists that the line and channel 0 files be identical
        in terms of sort order, times, baselines etc. i.e. the data
        in the two files must line up. This modification necessiated
        changes in UVGET, DATGET and DSEL.INC so all the calibration
        package has to be relinked. Also updated BPASS.HLP.
        Moved nowhere.

 5354.  October 12, 1989  ZCMPR2, ZCREA2, ZDEST2 & ZRENA2 for UNIX  Kerry
        The call to the UNIX "sync" function has been eliminated in the
        Z-routines used for compressing, creating, destroying and renaming
        files.  This should make these functions considerably faster on
        systems configured with many file systems (e.g., NRAO1, CHOLLA &
        YUCCA).  For example, deleting files on NRAO1 appears to be about
        a factor of 4 faster.
        Moved mowhere.

 5355.  October 13, 1989          UVMTH                      Bill
        New task.  Time averages the visibilities in on uv data set on
        each baseline and adds/subtracts/multiplies/divides them
        to/from/by/into the visibilities in another data set.
        Also UVMTH.HLP
        Moved nowhere.

 5356.  October 13, 1989           DGETSD, SDGET, TVFLG         Phil
        After modifying DSEL.INC I discovered the three routines above
        had the same internal names for one of the variables I had
        inserted into the include. Modified so this was not the case.
        Moved nowhere.

 5357.  October 13, 1989           UVFLG                     Bill J.
        Fixed this so that single antenna could be deleted throughout
        specified time range.  Previously, the baseline selection routine
        in UVFTAB screwed up resulting in search for baselines x-x.
        Moved 15OCT89 this date.

 5358.  October 13, 1989           BLFIT                      Bill C.
        New task.  Currently solves for source and/or antenna positions
        from residual phase measurments in a CL or SN table.
        Also BLFIT.HLP.
        Moved nowhere.

 5359.  October 14, 1989       MK3IN                         Bill C.
        Numerous modifications to allow reading polarization observations
        data from Haystack MKIII correlator tapes.  Also MK3IN.HLP.
        Moved nowhere.

 5360.  October 15, 1989                   POSSM             Phil
        Spedup considerably in case of multiple IF plotting. Previously
        POSSM would go through the whole calibration loop for all IF's
        in order to plot just one, then would repeat the process for
        the next IF. Now does all calibration one time and puts arrays
        to be plotted in array dimensioned by IF number.
        Moved to 15OCT89 this date.

 5361.  October 16, 1989                   CLCAL             Phil
        Made default opcode='cali'; previously task insisted users
        specify an opcode. Modified .HLP file also.
        Moved nowhere.

 5362.  October 16, 1989                LISTR             Phil
        Added two new abilities; (1) when doing a matrix listing
        of amplitude and rms the default is to now use the scaling
        factor of the amplitude matrix to display the rms, if a
        separate scale is required for the two matrices that is now
        an option; (2) another option was inserted to provide DEC-10
        like gain listings, the old style listings are still available
        if required. Also inserted the option to display amplitude
        and phase in one run for optyp='gain'. Modified .HLP file
        to describe these changes.
        Moved nowhere.

 5363.  October 16, 1989                    VLBIN             Phil
        Typo in an equivalence resulted in the polar motion x coord
        being inserted into the AN table as the frequency. Corrected.
        Moved to 15OCT89 this date.

 5364.  October 16, 1989            EXTLIST                   Eric
        Changed AU8A to correct call sequences to H2CHR used to display
        UVHGM plot file information.
        Moved nowhere.

 5365.  October 17, 1989          INTYPE                     Eric
        Removed INTYPE adverb from EXTDEST help file and subroutine
        AU8.  Removed non-existant OUTTYPE from the CLRONAME help
        file.  Corrected TRANS help file --- INTYPE has not been used
        for some time.  Changed PRTPL and SLFIT and their help files
        to remove INTYPE.
        Moved nowhere.

 5366.  October 17, 1989                DCODEF             Phil
        Was screwed up in the overhaul, the result was that AN tables
        (at the very least) read from a uvfits tape were wrong in that
        the antenna coordinates were incorrect by a factor of 10**10.
        Moved to 15OCT89 this date.

 5367.  October 17, 1989          ZLASC2 for UNIX      Greg Hennessy/Kerry
        The second argument to the access function was missing in the UNIX
        version of this routine and is now supplied.
        Moved to 15OCT89 same date.

 5368.  October 18, 1989                 FILLM               Phil
        The way frequencies were being dealt with in the new era of
        FQ tables was slightly inconsistent in that for 2 IF data
        the IF offset was being added to the SU table as well as the
        FQ table. Now keep track of the total frequency at all times
        and the offsets are correct. Also changed the default value
        of the FQ tolerance, now all data will have the same FQ
        number by default (unless the bandwidth changes), this is
        the option that will keep most users happy most of the time.
        Also modified .HLP file.
        Moved to 15OCT89 this date.

 5369.  October 18, 1989               SETJY                  Phil
        Inserted a call to FQMATC to ensure that the correct FQ number
        is set when the user specifies the default.
        Moved to 15OCT89 this date.

 5370.  October 19, 1989               TABED                  Bill J.
        Character array KEYDUM in subroutine TABUP was incorrectly
        declared.  This resulted in truncated character strings for
        keywords being inserted into the new table file.
        Moved to 15OCT89 this date.

 5371.  October 19, 1989             TVFLG              Chris
        Removed a superfluous division by 10 in the upper bound
        for the smoothing time.  This was causing TVFLG to enter an
        infinite loop if the user attempted to reset the smoothing
        time when there were less than 10 pixels on the time axis
        of the baseline-time map.
        Moved to 15OCT89 this date.

 5372.  October 19, 1989          Location common            Eric
        Changed DLOC.INC to allow axis type strings to be up to 20
        characters long.  This is not likely to be desirable most of
        the time, but 8 characters is too limiting.  Changed as a
        result:
        AXSTRN    Limit this display to first 10 real characters of
                  axis type --- fewer than 8 is better.
        CLAB1     Corrected string lengths, calls to TRIM, and format
                  to allow longer CTYP.  Cleaned up typing.
        CLAB2     Corrected string lengths, calls to TRIM, and format
                  to allow longer CTYP.  Cleaned up typing.
        IAXIS1    Corrected format and calls to TRIM to allow longer
                  CTYP.
        LABINI    Corrected axis label spelling now that more characters
                  are allowed.
        SETLOC    Increased length of temporary string and simplified
                  typing.
        TKLAB     Corrected format and calls to TRIM to allow longer
                  CTYP.
        Moved nowhere.

 5373.  October 20, 1989           UVHGM                     Eric
        Changed the program around a bit, correcting a variety of
        minor errors (wrong list of allowed Stokes, wrong plot
        ranges) and changing it to use more standard labeling
        routines.  Changed help file, adding advrebs BIF to control
        the IF selected and DOALL to control whether flagged data
        are considered at all (they are counted separately in any
        case).  Changed AU8A (verb EXTLIST) to be more suitable to
        the changed inputs and stored parameters.
        Moved nowhere.

 5374.  October 20, 1989             UVFIX                 PHIL
        Modified to deal with compressed data.
        Moved nowhere.

 5375.  October 20, 1989             TBIN/TBOUT            Glen
        New Table input and output routines which read/write to/from
        human and editor compatable text files.  Should handle all
        aips tables of any length.
        Moved nowhere

 5376.  October 20, 1989             IDWCRD                Glen
        FITS format card reader, parser derived from GTWCRD, but
        has input of a variable length CARD.  It does not depend
        on input from FITS blocks of 2880 cards, so it can be
        used with both TAPES and TEXT files.
        Moved nowhere

 5377.  October 21, 1989              XSUM                  Eric
        Doubled the buffer size to allow better IO on large rows.
        Moved nowhere.

 5378.  October 21, 1989          Documentation             Eric
        Changed documentation of file formats for files of types
        AC, BA, BQ, CA, CB, HI, IC, MS, SG, TC, TD, and TS.  The
        CB and TC ones are new.  All are stored as DOCTXT:MV2C06xx.,
        where xx is the first two characters of the file name.
        Most of the changes are for changes brought about by the
        code overhaul, including some that make the formats more
        efficient.
        Moved to 15OCT89 this date.

 5379.  October 23, 1989            VLBIN              Phil
        Always assumed the maximum number of antennas possible
        was 50, this screwed up the end of the AN table. Fixed
        so now takes MAXANT from PUVD.INC.
        Moved to 15OCT89 this date.

 5380.  October 24, 1989              TRANS                 Eric
        Made two additional corrections: (1) In the row swapping stage,
        one of the addressing indices was incorrectly used.  I guess we
        got away with this by only doing things with the first three
        axes.  (2) In the disk-based transpose, the scratch file was
        able to be absurdly large when the input plane was also large.
        Fixed the code and IO calls to allow more than one group per
        sector when that is relevant.
        Moved to 15OCT89 this date.

 5381.  October 24, 1989             FILLM                Phil
        An equivalence statement was erroneously plasced after a data
        statement, was spotted by the Sun compiler.
        Moved to 15OCT89 this date.

 5382.  October 24, 1989               BPASS                Phil/Bill C
        A problem occurred when writing bandpass entries for the 2nd
        of two polarizations when the 1st had been flagged. Corrected
        to ensure that all entries written.
        Moved to 15OCT89 this date.

 5383.  October 24, 1989             LISTR                Phil
        Modified so that when listing gain solutions in the DEC-10 style
        the scale factor derived from the first record is applied to all.
        Added new adverb, FACTOR, to enable the users to change the scale
        used if desired. Also tidied up the optyp='list' format slightly,
        and added a line to tell the users which BP table is applied if
        requested. Modifed .HLP to reflect these changes.
        Moved nowhere.

 5384.  October 24, 1989            PRTAB                   Chris
        Corrected the section of code that outputs numeric or
        logical data while checking for indefinite values.  PRTAB
        was checking a REAL quantity equivalenced to the first four
        bytes of the value against FBLANK.  This is unsafe since
        the bit patterns representing valid integers or logicals
        may not represent valid floating-point values;  on some
        machines (eg. Convexes) this may result in floating-point
        exceptions.  In addition, there are no indefinite values
        for integers or logical values.
        Moved to 15OCT89 this date.

 5385.  October 24, 1989     Copyright notices again      Bill C.
        Changed the copyright notices to mush in the distributed RUN files
        in RUNSYS and all the *.VFC routines in QFPS, Q120B, Q5000 and
        QPSAP.
        Moved to 15OCT89 this date.

 5386.  October 24, 1989      Overhaul                     Bill C.
        Overhauled QFPS32:QTYP.FOR and QFPS:APPEEK.FOR which had previously
        been missed.
        Moved to 15OCT89 this date.

 5387.  October 25, 1989            BPASS, LISTR             Phil
        Fixed a couple of typos which only the Sun compiler caught.
        Moved nowhere.

 5388.  October 25, 1989      Removal of unoverhauled code     Bill C.
        Source code which was not overhauled and which will cause problems
        in the installation procedures was removed from the distributed
        directories and put under LOCAL:[DEAD.].  If any of the routines are
        required in the future they can be overhauled, tested and reinstituted
        into the standard directories.
           These included:
        AIPGVMS:FIXFIL, PRNTMN, ZVERPL, VLAMBX.
        APLVMS:ZDOPR*.*
        APGVMS:CITCC,COPY,IMGPL,OUTPLT,PRFPL,PRIMG,TOVLB,TVCUB,TVSLD,
             KONTR,VBCC,VBCIT,WSLOD and corresponding *.HLP files.
        YARGS:*.*
        YLEXC:*.*
        YV20:*.*
        YNOT:IMIO,TVDISP,YCAMER
        Moved to 15OCT89 this date.

 5389.  October 25, 1989        TXPL                   glen
        Fixed another bug keeping TXPL from working in batch mode.
        Moved to 15OCT89 this date.

 5400.  October 25, 1989        PUTCOL                 glen
        Created twin of GETCOL which puts an column of a table row
        (i.e. an element of a table) into an already opened table.
        Works with any table type.
        Moved to nowhere.

 5401.  October 25, 1989        TABPAK                 glen
        Created a routine which packs Table Keys into form used by
        TABKEY.
        Moved to nowhere.

 5402.  October 25, 1989        TABSPC                 glen
        Combined TABFRM and TABF3D routines which decode character
        strings in FITS headers.  The strings discribe the ascii
        format of columns of FITS Tables.  TABSPC performs the functions
        of both routines.
        Moved to nowhere.

  5403. October 25, 1989        TABHDK, TABAXI         glen
        Routines which read FITS cards and decode them.  More general
        than TABHDR and EXTREQ because they work with either TEXT or
        TAPE files.  Will later replace these routines.
        Moved to nowhere.

  5404. October 25, 1989        TBOUT                  glen
        Added lines which mark begin and end of data section of output
        TEXT file.
        Moved to 15OCT89

  5405. October 25, 1989        TBIN                   glen
        Allow variable number of input Table Rows and read Rows in any
        order.
        Moved to nowhere.

 5406.  October 26, 1989            XEDIT1.STR                  Bill C.
        Removed copyright stuff from the list of XEDIT commands.
        Moved to 15OCT89 this date.

 5407.  October 26, 1989             PBCOR                  Eric
        Made it work.  The Fortran constant 1.0D0 must have been
        compiled as 0.9999999999... to make a test for illegal
        $\cos^{-1}$ argument fail when the argument was exactly
        1.0.  Changed the test to adjust the argument rather than
        report an error.  Found an unexplained --- and totally
        wrong --- use of the {\it absolute value} of the axis
        increment in finding the pointing position pixel.  Any
        observed or input (GPOS) pointing position off the reference
        pixel was used, but used incorrectly as a result.  This applied
        only to the ``fast'', semi-linear mode of angle computation.
        Removed the alteration of an input argument by an internal
        subroutine, which could cause aborts on Convexes and Vaxes.
        Changed the task to prohibit the copying of CC files; without
        applying the beam corrections to the components, we cannot
        regard them as any sort of model of the PBCOR output image.
        Also removed computations from the inner loop, achieving a
        20\%\ reduction in the CPU times of the accurate computations.
        Moved to 15OCT89 this date.

 5408.  October 26, 1989            TACOP                Chris
        Modified TACOP to take the input version number into account
        when calculating the number of tables to copy when NCOUNT is
        zero.  This prevents TACOP from attempting to copy tables with
        version numbers higher than the maximum present (this was
        harmless, but the error messages were worrying some users).
        Moved to 15OCT89 this date.

 5409.  October 26, 1989        More copyright stuff       Bill C.
        Removed copyright notices from QVEX:ISAMAX.s, WHNALT.s
        Moved to 15OCT89 this date.

 5410.  October 27, 1989          CALIB                  Phil
        Added the source name to the closure error message.
        Moved nowhere.

 5411.  October 30, 1989             BPASET              Phil
        BPASET was not dealing correctly with bandpass entries that
        were flagged in one polarization.
        Moved to 15OCT89 this date.

 5412.  October 30, 1989             UVCOP                 Phil
        Added ability to copy either AC or XC data to new file.
        Default is still to do both. Modified .HLP file to
        reflect change.
        Moved nowhere.

 5413.  October 31, 1989            BL tables              Phil
        Modified the BL tables so they would cope with FQ numbers.
        This needed one new routine, BLREFM, to reformat from old
        to new BL tables if necessary. Also BLGET, BLINI, GAININ
        and TABBL were modified. Also modified BLCAL and its .HLP
        file to take the 3 FQ adverbs and do the appropriate
        things with them.
        Moved to 15OCT89 this date.

 5414.  October 31, 1989             UVCOP                Phil
        Added a check to ensure that AC data would be written when
        an antenna was specified in the ANTENNAS adverb.
        Moved nowhere.

 5415.  October 31, 1989         APLNOT/SN2CL.FOR  M.Calabretta/B.Junor
        (1) Two incorrect branches to statement 650 rather than 700
        fixed.
        (2) Fixed an error in counting the logical record number
        CLORNO of the output CL file.  If COUNT=0, loop 700 was entered
        with the value of CLORNO returned by CALINI near statement 40.
        CLORNO then was being incremented before the call to TABIO with
        erroneous results.
        (3) Fixed a problem when the input SN table had duplicate entries.
        Moved to 15OCT89 this date.

 5416.  November 1, 1989               CVEL                Phil
        Several changes:
           Now reads and writes compressed data.
           Removed the interpolation option in calculating the
             frequency shift, this could be in error by several
             % over a scan.
           Fixed up a couple of bugs left over from the overhaul.
           Gives more informative messages after each scan
        Moved to 15OCT89 this date.

 5417.  November 1, 1989             UVPLT               glen
        Added check and warning message to UVPLT when DOCAL is true
        but no SN table was present.  UVPLT now continues when no
        SN table is found, does no calibration and warns user.
        Moved nowhere

 5418.  November 1, 1989              UVFIX                 Chris
        Added a missing cosine declination term to the calculation
        of the rotation of the coordinate frame from apparent RA
        and declination to mean RA and declination (gripe \# 3346).
        Also modified UVFIX.HLP to clarify how SHIFT is applied
        to the tangent position, to explain how APARMs 3 to 8
        inclusive are used to generate BX, BY and BZ (gripe \#2460)
        and to give the sign of the clock error correction (gripe
        \#2460 again).
        Moved nowhere.

 5419.  November 1, 1989               ACFIT               Phil
        New task. Uses the 'template' method to calibrate spectral
        line data (mainly useful for VLBI). Performs a least squares
        fit of a high quality, calibrated total-power spectrum to
        a series of other total-power spectra as a function of time
        for all antennas in the array. Writes the gain solutions in
        an SN table. Also a .HLP file.
        This is still an experimental program, use with caution.
        Moved nowhere.

 5420.  November 2, 1989                UVCOP               Phil
        Modified so that the data type (AC/XC) is the first check
        that is made when deciding to copy a visibility record.
        Moved nowhere.

***********************************************************************

       Changes while 15JAN90  was NEW:

***********************************************************************
***********************************************************************

 5421.  November 7, 1989                 SPLIT              Phil
        SPLIT was screwing up the writing of compressed data.
        A variable KLOCWT was used to describe the random parameter
        offset in the output data, this was set to # r.p's + 1.
        However this same variable was also used to define the offset
        in the input data, so the input data was screwed. Redefined
        KLOCWT to LLOCWT.
        Moved from 15APR90 this date.

 5422.  November 7, 1989                 VLBIN              Phil
        The lobe rotation correction on station 'B' autocorrelation
        spectra was being done incorrectly. The ra/dec passed to
        the geometry calculation routine were passed as degrees
        rather than radians, also the natural fringe rate calculated
        was then applied with the wrong sign.
        Moved from 15APR90 this date.

 5423.  November 9, 1989             APCLN                 Chris
        APCLN now creates scratch files large enough to hold the
        larger of an $ny$ by $nx+1$ image or a $2ny$ by $nx/2 + 1$
        image, where $nx$ and $ny$ are the numbers of pixels on the
        x- and y-axis of the input map.  Previously, $nx$ and $ny$
        had been interchanged, causing too little space to be
        allocated for the scratch file if $ny > nx$.
        Moved from 15APR90 this date.

 5424.  November 10, 1989            VLBIN                Phil
        Removed the ability to perform the correction for natural
        fringe rate differences between the two stations of a baseline.
        This was supposedly needed to line up the frequencies
        for the later running of CVEL on autocorrelation data.
        However I hadn't appreciated the fact that my routines in
        CVEL calulcate the shift for each station exactly and so
        implicitly do the natural fringe-rate correction anyway.
        Also changed the .HLP file.
        Moved from 15APR90 this date.

 5425.  November 12, 1989               CVEL                 Phil
        There was a problem with the direction of the 2 FFT routines used,
        the AIPS PSAP has a different direction to FOURG. Modified so
        they both assume the same sideband now. Also tidied up the
        informative messages.
        Moved to 15APR90 this date.

 5426.  November 13, 1989               UVFND                 Bill J.
        After testing for compressed data, the program failed to warn
        the user if it found same. The program died uninformatively
        due to a missing call to MSGWRT.
        Moved from 15APR90 this date.

 5427.  November 13, 1989       POPSDAT                 Eric
        Removed a second declaration of RESTFREQ, it had caused
        an addressing error of one location.
        Moved this fix from 15APR90, nowhere else.

 5428.  November 14, 1989              UVFLG                  Phil
        Would not work under the circumstance that no source name was
        specified. If there were none an essential variable was left
        at 0 and since that was the loop index in the flagging do loop
        it didn't leave a lot for the task to do.
        Moved from 15APR90 this date.

 5429.  November 14, 1989             SPLIT                   Phil
        The alternate reference pixel written to the output catalogue
        header was incorrect by 1. Fixed.
        Moved from 15APR90 this date.

 5430.  November 14, 1989         Miscellaneous             Eric
        Corrected lower case ``C'' in column one in Fortran
        files AU1A, AU5D, ZTPCLD (APLGEN:), CATIO, CHR2H, FILCR,
        PASWRD, SETVIS, VERMAT, PLNPUT, YGYHDR (YGEN:), and
        GRBOXS.  Corrected use of dummy array declaration length
        from (1) to (*) for call arguments in BDN and ITBSRT and
        to real lengths for local variables in GAINI and ITBSRT.
        Changed intrinsic DFLOAT to REAL in ZDHPRL.  Changed
        DATA of common variables in BMSHP to set the parameters
        at every entrance to the subroutine through equates.
        Changed a local COMMON to SAVE variables to allow the use
        of DATA for TABHDK and moved a SAVE statement in front of
        DATA statements in DATPOL.  All of these errors were found
        with an ANSI switch on the SUN 4/110; the VMS ANSI switch
        did not report these violations of Fortran standards.
        Moved fixes from 15APR90 this date.

 5431.  November 14, 1989            BPASS                   Phil
        Fixed bug put in earlier. When initializing BP table entries
        was not checking number of polarizations being written. If
        there was only one some random variables were being clobbered.
        Modified so that the interpolation across the bandpasses
        is now a user option, the default is not to do it. Changed
        .HLP file as well. Also changed the array declarations
        which were (1) to (*) as spotted by the Sun 4 compiler.
        Moved from 15APR90 this date.

 5432.  November 14, 1989         AIPS/SGLOCA                Glen
        A user found that Save/Get does not find a match when more
        than 10 names have the same first few characters.  SGLOCA
        now records up to 80 matchs and always detects an exact
        match to a requested Save/Get area.  Expanded error messages.
        Moved from 15APR90 this date.

 5433.  November 14, 1989        ALGSUB/MX,UVSUB          P. Leahy/Glen
        In GRIDDED execution of MX and UVSUB, for the last several months,
        a series of horziontal stripes were added to output images,
        because at U=0 ALGSUB was performing a Complex congigation
        when it should have been performing AP I/O.
        Moved from 15APR90 this date.

 5434.  November 14, 1989          VLBIN                   Phil
        Removed array declerations and a couple of intrinsic function
        calls that violated ANSI standard rules.
        Moved from 15APR90 this date.

 5435.  November 14, 1989             VLBIN                    Phil
        When FFT'ing autocorrelation functions from the MPI correlator
        there was an error in calculating the ACF bias since the MPI
        software wrote the number of padded channels in the function
        not the number of channels containing data. Modified subroutine
        ACTRAN to run back through the data array to determine when the
        padding started and then calculate the bias using that.
        Moved from 15APR90 this date.

 5436.  November 14, 1989             TV routines                  Eric
        Changed IMANOT, IAXIS1, and IENHNS to use YSLECT rather than
        YGRAPH to turn on/off graphics planes.  The former uses YGRAPH
        but also sets the common variable TVLIMG which is used in TVFLG
        among other places.
        Moved from 15APR90 this date.

 5437.  November 15, 1989            Number parsing               Eric
        Changed GETNUM to require that there be a numeric character to be
        parsed in the specified string and to return an AIPS indefinite
        value (DBLANK) if there is not or if there is a floating overflow.
        Changed INQINT, INQFLT, and INQGEN to check for DBLANK and to
        return a negative error code if it occurs.  This will help detect
        user format errors in interactive tasks and service programs.
        Moved to 15JAN90 this date.

 5438.  November 15, 1989          ALGSUB                        Glen
        Removed all complex congigation near U=0 form ALGSUB.  Grided
        and DFT MX using ALGSUB now agree to 1 part in 10 million for
        the test image of a 4 Jy calibrator with 256*256 pixels.
        Moved from 15APR90 this date.

 5439.  November 15, 1989          UVMAP                          Glen
        Increased buffer to allow 4096*2048 REAL maps, not just I*2 MAPS.
        Moved from 15APR90 this date.

 5440.  November 16, 1989          Free-format inputs          Eric
        Changed all programs that use free-format input through the
        INQGEN, INQINT, and INQFLT subroutines to test and use the new
        error return codes.  Changed AIPLAS, AIPMAN, DELSG, FILAIP,
        FILINI, FIXCAT, FIXUSR, GR2TEX, GRITP, POPSGN, RDFITS, RECAT,
        SETPAR, SETTVP, and UPDAT.  TVFLG remains out for other fixes.
        Moved to 15JAN90 this date.

 5441.  November 16, 1989              VLBIN                  Phil
        In calculating the AC bias and removing it the output array
        was not being zeroed properly and some crap was coming through.
        Fixed.
        Moved from 15APR90 this date.

 5442.  November 16, 1989           SCREAT                  Eric
        Corrected error message to give ``too large'' disk sizes
        in 8-bit rather than ``AIPS'' bytes.
        Moved from 15APR90 this date.

 5443.  November 17, 1989           ITICS                   Eric
        Added a call to TICCOR to correct tick mark lengths for
        declination.  Lowered limits on lengths for small subimages.
        Moved from 15APR90 this date.

 5444.  November 17, 1989             TVFLG                  Eric
        (1) Corrected bugs related to having fewer than 4 graphics
        overlay planes.  It was possible for the menu to be erased
        without the menu routine being told about it.  The correction
        to IMANOT, made earlier, fixes a bug in which the graphics plane
        was not always turned on when needed.
        (2) Corrected handling of interactive window setting --- made it
        accept ``error'' returns for cursor off the image as at the
        outermost pixel of the current image.  I thought I had done this
        a year ago.
        (3) Added a dummy read of the cursor position to force the TV
        buffers to be flushed to the device.  Otherwise, graphics planes
        were left on when the program did things like prompt for
        term,inal input.
        (4) Changed an initialization so that the current menu selection
        gets highlighted again when the user returns to the menu mode.
        (5) Changed to handle format errors reading terminal input
        using the new error codes of INQINT et al.  This provides new
        exit methods from a couple of places.
        (6) Corrected TVFOAD to initialize the image catalog when it
        zeros the memory.
        (7) Corrected GRIDTB to compute the subarray number correctly;
        machine accuracy of 1 part in 10**8 or so was assumed.  The
        data for subarrays > 1 were not gridded correctly.  NOTE: this
        error is probably common throughout AIPS.
        (8) Corrected GRIDTB to set IRET error code on errors from
        GTBWRT; such errors went undetected by higher-level routines
        previously.
        Moved from 15APR90 this date, nowhere else.

 5445.  November 17, 1989               ACFIT                   Phil
        Debugged. It now will write an SN table containing the full
        time variable amplitude calibration factors for all antennas
        selected, will print various useful messages upon request,
        and also update the HI file.
        Also wrote the .HLP file.
        Moved from 15APR90 this date.

 5446.  November 17, 1989                UVFLG                   Phil
        In entry #5428 I missed one occurence of the setting of the
        number of sources. Fixed.
        Moved from 15APR90 this date.

 5447.  November 19, 1989             TVFLG                       Eric
        Corrected bugs in TVFOAD that caused the load by baseline length
        to fail.  When TVFOAD was rewritten for vectorization, the
        array indices for the second and third summing arrays were not
        modified for the baseline length, only the first was.  Also
        changed TVFLG to display the subarray number in the CURVALU-like
        display while flagging, to use a faster alogorithm to convert
        from length number to baseline number, and to display current
        selection of length vs baseline order with an asterisk if the
        next load will switch that selection.
        Moved from 15APR90 this date.

 5448.  November 20, 1989              TVFLG                  Eric
        Corrected writing of history and flag files:
        (1) Corrected overhaul bugs in the handling of strings giving
            the ``REASON'' for the flag and history files.
        (2) Corrected missing arguments to WRITE for some history
            cards and added a test on NPOINT greater than zero.  The
            latter made a confusing message on restarts.
        Moved history corrections only from 15APR90, nowhere else.

 5449.  November 20, 1989             ACFIT                    Phil
        When removing a polynomial baseline, there was no trap to
        determine if the whole spectrum was flagged. Also there was
        an error in the printing out of the gain factor, the value
        written into the SN table was fine though.
        Moved from 15APR90 this date.

 5450.  November 20, 1989     Directory changes            Bill C.
        Created a new branch of the AIPS directory structure for
        non-release specific text files:
           VMS directory      Logical       Purpose
           [AIPS.TEXT.IONS]   AIPSIONS   Ionospheric monitoring data
           [AIPS.TEXT.PUBL]   AIPSPUBL   old DOCPUBL directory
           [AIPS.TEXT.GRIP]   AIPSGRIP   old DOCGRIP directory
           [AIPS.TEXT.WHO]    AIPSWHO    old DOCWHO directory
        As a part of this change the contents of TST:DOCPUBL, DOCGRIP and
        DOCWHO were moved to the new directories.
           Also created was a directory AIPS_VERSION:[INC.LOCAL] given
        logical name INCLOC.
           TVMON was moved from AIPS_VERSION:YVTVPGM to a new directory
        AIPS_VERSION:YPGVDEV ( [Y.PGM.VDEV])
        Moved from 15APR90 this date.

 5451.  November 21, 1989     APLNOT:BPASET.FOR            Bill J.
        This subroutine didn't handle the case when both polarisations
        had been flagged.  When the table was normalised, some divide
        by zeros were demanded.  This affected POSSM, HORUS and SPLIT
        amongst others.
        Moved from 15APR90 this date.

 5452.  November 21, 1989     Midnight job directory changes  Bill C.
        Changed UPDVMS:SRTUNQ.COM not to copy AIPSGRIP and AIPSWHO rather
        than DOCGRIP and DOCWHO.
        Moved from 15APR90 this date.

 5453.  November 22, 1989       BLREFM                        Phil
        The opcode in the call to TABBL was wrong when reformatting the
        tables.
        Moved from 15APR90 this date.

 5454.  November 22, 1989           Subarrays                  Phil
        There was a potential problem in the way in which we were
        determining the antenna numbers and subarray number. If
        significant rounding errors were occurring the wrong value
        would be picked up from the random parameter array. The
        following subroutines and tasks were changed:
           DATFLG, DATGET, DGETSD
           CLIP, CORER, FUDGE, UVFND, UVMTH, ACFIT, ASCOR, AVER,
           AVSPC, BLOAT, BSMAP, FILLM, INDXR, LISTR, MULTI, POSSM,
           USUBA, UVAVG, UVCOP, UVDGP, UVFIT, UVFIX, UVIMG, UVMOD,
           UVPLT, VBCAL, VBMRG, WTMOD, ASCAL, BLCAL, BPASS, CALIB,
           CVEL, PCAL, VSCAL
        Moved from 15APR90 this date.

 5455.  November 28, 1989           ACFIT                    Phil
        Was writing the number of subarrays into the # antennas
        slot in the SN table header.
        Moved from 15APR90 this date,

 5456.  November 28, 1989           FILLM                    Glen
        Fixed Corruption of LP band observation of the Sun by
        subroutine MCSOLR.
        Moved from 15APR90 this date.

 5457.  November 28, 1989          FITTP                    Phil
        Removed a 'feature'; when FITTP read the FQ table it looked
        to see if there was only one row, if so it translated it to
        a CH table so older versions of AIPS could read it. The
        translation routine checked to see if there was only one IF
        and if so wrote nothing. Normally this is not a problem, but
        for some line experiments it means a frequency offset is lost.
        Modified so that a CH table is now always written.
        Moved from 15APR90 this date.

 5458.  November 28, 1989              TVFLG                   Eric
        Corrected GRIDTB: when it was converted for vectorization, I
        suspect, the option to put the data in both as Ant1-Ant2 and
        as Ant2-Ant1 was subverted with no data going in the latter.
        Moved fix from 15APR90, nothing else.

 5459.  November 29, 1989          UVFIX                    Phil
        An index was wrong in the writing of compressed data.
        Moved from 15APR90 this date.

 5460.  November 29, 1989           TABBL                   Phil
        Wrong index in array lead to incorrect number of IF's being
        written/read into/from BL tables.
        Moved from 15APR90 this date.

 5461.  December 1, 1989        Misc                      Eric
        Changed AIPINI to avoid disk access when called by FILAI2.
        Changed APLVMS:ZMKTMP to do a modulo 1000000 on the process
        ID.  Some VMS 5.n systems can have very high process IDs.
        Moved from 15APR90 this date.

 5462.  December 5, 1989       ZTKCL2 in APLBERK               Kerry
        At some point in the evolution of SunOS 3.x, the disabling of
        exclusive use upon closing a terminal device quit working as
        advertised (i.e., closing the device should be sufficient).
        This meant that the second execution of a Tektronix oriented
        task or verb would still get a "device busy" error.  This has
        been averted now by adding an {\tt ioctl} call with TIOCNXCL on
        the device to explicitly relinquish exclusive before closing it.
        This should not be necessary, didn't used to be necessary and,
        at least under Convex OS 7.1, still isn't necessary, but should
        not cause a problem either.
        Change in 15JAN90 same date.

 5463.  December 5, 1989         SL2PL, plotting            Eric
        Corrected LABINI, SLBINI to use the passed length of their
        input character strings (as *(*)) rather than declare 80.
        This messed up SL2PL which had used length 132 strings.
        Cleaned up typing in SL2PL and removed improper declarations
        of dimensions as (1).
        Moved to 15JAN90 this date.

 5464.  December 5, 1989         OPCODE.HLP                 Eric
        Changed adverb help file to describe every task and verb
        which uses it including listing all allowed values of OPCODE.
        Moved to 15JAN90 this date.

 5465.  December 7, 1989         CGASET                        Bill C.
        Fixed an indexing problem for computing baseline dependent
        corrections for fringe rate errors.  This would cause problems
        for MKIII VLBI data only.
        Moved to 15OCT89 and from 15APR90 this date.

 5466.  December 8, 1989              GPOS                  Kerry/Bill C.
        Fixed zero divide problem.
        Moved from 15APR90 this date.

 5467.  December 8, 1989              SNPLT                Kerry/Bill C.
        Fixed zero divide problem.
        Moved from 15APR90 this date.

 5468.  December 8, 1989             GREYS                   Eric
        Corrected bug affecting plots where the two images did not
        identical header coordinates and dimensions.  The contour
        image header was used for the axis labeling which would
        produce a shift of the labels with respect to the plot.
        A call to SETLOC in this case could also produce trouble ---
        so saved not only the header but the whole location common
        and restored them at the end of GLAB.
        Moved from 15APR90 this date.

 5469.  December 9, 1989        Plot jobs                    Eric
        Corrected CNTR, PCNTR, and PROFL to restore a standard location
        common before calling the star plotting routine.  Non-default
        labeling options would have made the stars be plotted
        incorrectly.  Also made this change in KNTR, but, since it
        loops over planes, also had to restore the labeling version of
        the common after the call to STARPL.
        Moved to 15JAN90 this date.

 5470.  December 9, 1989          Midnight job                Eric
        Changed UPDVMS:COPY.COM to handle the new directories called
        AIPS_ROOT:[AIPS.TEXT...].  Before, it only did names with
        AIPS_VERSION correctly.
        Moved from VAX1 this date to 15JAN90 and 15APR90.

 5471.  December 9, 1989          WTMOD                     Eric
        Cleaned up the typing some and changed it to avoid unflagging
        data.  Previously negative weights are altered, but remain
        negative.  Changed help file to clarify this.
        Moved from 15APR90 since this is what users expected.

 5472.  December 9, 1989         BLANK                     Eric
        The TV loading function type was left out of the input
        parameters common causing BLANK to use the function type
        as an X increment in TV loads.  The function never was
        converted from HOLLERITH to CHARACTER either although the
        CHARACTER form was given to TVLOAD via the image header.
        Moved this fix only from 15APR90 this date.

 5473.  December 11, 1989     LOGIN.CSH and LOGIN.SH                Kerry
        Added the environment variable definitions for the new non-version
        specific directories (i.e., AIPSIONS, AIPSGRIP, AIPSPUBL and AIPSWHO).
        Added {\tt limit coredumpsize 0} to LOGIN.CSH so that {\tt core} files
        are never generated (don't know how to do this in LOGIN.SH for Bourne
        and Korn shells).  Also ``included'' environment variable definitions
        for local devices, however, this may saturate the environment on some
        systems.
        Change in 15APR90 same date.

 5474.  December 12, 1989         DBCON                     Phil
        Minor fix in DBCON. Under some circumstances it could blow up
        when attempting to determine the source number for single source
        compressed data if the array element it was looking in was a Nan.
        Changed so it only determines source numbers if it has to.
        Moved from 15JAN90 and to 15OCT89 this date.

 5475.  December 12, 1989          UVIMG, GRIDTB                Eric
        Changed UVIMG and GRIDTB to set the error code to 0 before
        calling DATGET.  There is some way in which the error code
        is sometimes not reset by DATGET and this was causing UVIMG
        to quit when the first point not on the grid was encountered.
        Moved HITIME from TST to NEW to accomodate the history and
        user-parameter handling changes.
        Moved to 15JAN90 this date.

 5476.  December 13, 1989        FILLR                       Bill J.
        The LOCAL INCLUDE 'FILLR.INC' had not been changed to reflect the
        addition of the FREQID column to the NX table.  This caused
        the source (SU) table to have source ids of 1 for all sources.
        Change in 15APR90 this date.

 5477.  December 14, 1989             SPLIT                      Phil
        When copying the FQ table to the output file the offset for
        IF's was not being adjusted correctly, except for the 1st IF.
        This was causing problems later since the u,v,w's for IF's >
        1 would then be calculated wrongly.
        For some inexplicable reason SPLIT was not using the freq.
        offset from the SU table when writing the output file header
        and rescaling the u,v,w's. The frequency is now updated correctly
        for each source in SPLCOP.
        Moved from 15APR90 and to 15OCT89 this date.

 5478.  December 14, 1989           UVPLT                    Eric
        Corrected bug positioning the time-date string on the plot.
        It was one character too high.  This upset TVPL at least.
        Moved to 15JAN90 and 15OCT89 this date.

 5479.  December 21, 1989   YGYHDR for IIS model 75   Claire Russell/Kerry
        Changed ``IF (IANGLE.EQ.1) THEN ...'' to ``IF (IANGLE.EQ.0) THEN ...''
        in the logic that determines which bits to turn on in the TV subunit
        header (apparently a typo introduced during the conversion of an
        ``IF ... GO TO ...'' construct to an ``IF ... THEN ... ELSE ...").
        Changed in 15APR90 same date, 15OCT89 December 22.

 5480.  December 22, 1989        UVPGET                    Bill C
        Fixed problem in format 1030.  This problem was causing programs
        to blow up if there was a problem with the random parameters in
        a data file.
        Moved from 15APR90 this date.

 5481.  December 22, 1989        UVFIX                         Bill C
        A logic error caused the UT1-UTC and IAT-UTC corrections set by
        the user to be ignored.
        Moved from 15APR90 this date.

 5526.  December 21, 1989   YGYHDR for IIS model 75   Claire Russell/Kerry
        Changed ``IF (IANGLE.EQ.1) THEN ...'' to ``IF (IANGLE.EQ.0) THEN ...''
        in the logic that determines which bits to turn on in the TV subunit
        header (apparently a typo introduced during the conversion of an
        ``IF ... GO TO ...'' construct to an ``IF ... THEN ... ELSE ...").
        Changed in 15APR90 same date, 15OCT89 December 22.

 5482.  December 27, 1989  Type Declarations for EXTERNAL Routines  Kerry
        In addition to being declared EXTERNAL, such routines must also be
        given a (dummy) type declaration.  Otherwise, ``debug'' compilations
        (i.e., ``-g'') with the old ``bundled'' Sun f77 compiler will fail
        with the declaration error ``can't get dbx basetype information''.
        Sun's new ``unbundled'' FORTRAN 1.x does not have this problem.
        In the APLPGM program XGAUS, an INTEGER declaration has been added
        for the EXTERNAL subroutine FCN (passed as an argument to the routine
        LMSTR1).  Also, in the APLSUB routines LMDER and LMDER1, an INTEGER
        declaration has been added for the routine argument FCN.
        Changed in 15APR90 same date.

 5483.  December 28, 1989          AIPSUB:AU8A                  Colin/Kerry
        In the section for listing info on plot extension files from VBPLT,
        the GO TO 303 should be GO TO 302.  Otherwise, missing antenna pair
        data causes loop 302 to terminate, perhaps prematurely.
        Changed in 15APR90 same date.

 5484.  December 28, 1989          APLBELL:ZLOCK                Colin/Kerry
        The check for unavailability from a lockf() error return should be
        against EACCES, not EACESS.
        Changed in 15APR90 same date.

 5485.  December 28, 1989          APLNOT:TABBP                 Colin/Kerry
        GO TO 50 should be GO TO 60.
        Changed in 15APR90 same date.

 5486.  December 28, 1989          APLUNIX:ZABORS               Colin/Kerry
        The generic UNIX version of the abort handler was trying to use the
        external character array "sys_siglist" to extract the meaning of the
        caught signal, however, Bell UNIX systems have no such list.  If they
        do it's got another name.  Changed to simply report the number code
        of the caught signal.  Also changed the messages issued by the routine
        to say "ZABORS:" instead of "ZABOR2:" (i.e., the pre-overhaul name of
        this routine).  Also replaced the call to abort() with a call to
        kill() such that the process sends an illegal instruction to itself.
        There is no standard signal issued by the abort() function.  For
        example, Sun issues SIGIOT whereas most other implementations issue
        SIGILL.  IOT and EMT are PDP-11 instruction mnemonics and therefore
        not issued on Suns, so Sun chose to use it for this purpose.  This
        is not totally screwy.  POSIX will probably replace SIGIOT with
        SIGABRT.
        Changed 15APR90 same date.

 5487.  December 28, 1989          APLUNIX:ZFRE2                Colin/Kerry
        Replaced the call to index(), which is Berkeley UNIX specific, with
        a trivial, portable loop.
        Changed in 15APR90 same date.

 5488.  January 1, 1990        TIMDEST, ZOPEN                 Eric
        Changed AU3A to send a blank character string rather than an
        integer 0 as the task name to PRTMSG to delete messages.  The
        Convex anyway, took it to be some (nonexistant) task name.
        Changed ZOPEN to declare the file name as character *(*) rather
        than *48.  This is important for dummy names and the like.
        Moved changes only from 15APR90 this date.

 5489.  January 2, 1990              GTBWRT                   Eric
        Corrected bug in addressing in GTBWRT used by TVFLG and UVIMG.
        It was addressing too many locations in the TVFLG mode and
        not determining the max and min correctly in all cases in
        which more than one buffer was used.
        Moved this correction from 15APR90.

 5490.  January 2, 1990            APLUNIX:ZCMPR2               Colin/Kerry
        Fixed error in null terminating the translated logical part of the
        physical file name (i.e., changed "xlated[tlen]" to "xlated[xlnb]").
        Also, changed PMODE to 0666 (i.e., owner, group & world readable &
        writeable), replaced obsolete reference to the former name of this
        routine (ZQTRUN), removed calls to "sync" (synchronizes the super-
        block) and changed the calculation of the number of bytes in an AIPS
        block to "256 * sizeof (int)".
        Changed in 15OCT89 and 15APR90 same date.

 5491.  January 2, 1990            APLBELL:ZABOR2               Colin/Kerry
        This is new, Bell UNIX specific version.  It differs in that the
        signal SIGCLD (death of a child) is ignored.  Under Bell UNIX, ignoring
        SIGCLD prevents terminated child processes from becoming zombies that
        are then erroneously reported by the task query mechanism (i.e.,
        ZTACT2) as still active.  The only problem with this is that, although
        it is still supported on many System V-based systems (e.g., HP-UX, Cray
        UNICOS, Masscomp RTU), SIGCLD is not part of the SVID (System V
        Interface Definition) and programmers are discouraged from using it
        in new products.  The POSIX draft says "applications should set the
        action for this signal to SIG_DFL in order to ignore it"???
        Moved to 15OCT89 and 15APR90 same date.

 5492.  January 4, 1989              NXTFLG                   Eric
        Corrected error.  To decide whether to include a given FG table
        entry it was searching a list of 30 included source numbers if
        any had been specified (via SOURCES, CALCODE, or however).  It
        did not check for more sources if there were more and it did
        not check for the flag being source independent.  Changed to
        check source independence first and then to test the actual
        number of source IDs in the list when the flag is source
        dependent.  The full calibration system must be relinked.
        Moved from 15APR90 this date.

 5493.  January 5, 1990        EXTINI, TABINI                 Eric
        When a file's catalog slot is renumbered, the file names
        stored in the headers of the old and new table format files
        are not changed.  Thus, when TABINI and EXTINI open an old
        table, they need to force the name in the header to match
        the current name.  Changed it to do so.  Relink the system.
        Moved from 15APR90 this date.

 5494.  January 5, 1990        TABBP                        Bill C.
        Cleaned up typing and some declarations.
        Moved from 15APR90 this date.

 5495.  January 5, 1990         BLGET                        Bill C.
        Cleaned up a problem with nested DO loops with a common termination
        and GO TOs to loop terminator.  This caused trouble on HP compilers.
        Also cleaned up typing and declarations.
        Moved from 15APR90 this date.

 5496.  January 8, 1990             SNPLT                      Chris
        Fixed a bug in the time axis scaling: the difference between
        the maximum and minimum on the y-axis was being used instead
        of the difference between the maximum and minimum on the
        x-axis.
        Changed in 15APR90 this date.

 5497.  January 9, 1990               ANCAL                  Chris
        Corrected ANCAL to check whether values in the CL table are
        blanked before attempting to multiply them by the gain
        correction factor. Failure to do this was giving rise to
        large, spurious values in the CL table.
        Changed in 15APR90 this date.

 5498.  January 9, 1990      AIPSUB:GETFLD               Bill C.
        Moved error trap before processing output variable from GETNUM.
        In the case that a character string starting with "." was typed
        in (specifically ".false.") GETNUM was detecting a bad value and
        setting the output to DBLANK which was overflowing a single
        precision word on IEEE machines; causing an abort.
        Moved from 15APR90 this date.

 5499.  January 10, 1990       RSTOR                   Bill C.
        Fixed problem in computing size for scratch files when the
        two dimensions of the image were different.
        Moved to 15JAN90 this date.

 5500.  January 10, 1990        TVSLV                  Bill C.
        Copied TVSLD to [aips.local.dead.pgm] and .hlp] and removed
        from both NEW and TST.  This task apparently survived the
        last purge of software that didn't survive the overhaul.
        Moved to 15JAN90 this date.

 5501.  January 11, 1990       UVSUB                   Phil
        Increased the buffer sizes to cope with 4096 square
        images.
        Moved from 15APR90 this date.

 5502.  January 15, 1990         BPASS                 Bill C.
        Fixed arguments in call to BPADJ.  There was a bug here which
        caused the routine to fail and die with an error message.
        Moved from 15APR90 this date.

 5503.  January 15, 1990        FILAI2, ZDIR            Eric
        Corrected FILAI2, it used the wrong arguments to a WRITE
        statement, thereby blowing a FORMAT.  Brought the initialization
        statements for the accounting file up to date.  Changed
        ZDIR (APLVMS: version) to append a period to the file names
        from the root area ('RT').  Otherwise, FILAI2 was seeking
        SYSPARM.DAT.  Changed FILAI2 to use LUN 6 for messages since
        it is run in batch where LUN 5 is only an input device.
        There is no interactivity in this program.
        Moved from 15APR90 today.

 5504.  January 18, 1990               VLBIN               Dan Briggs/Phil
        Dan spotted an error in the fbs correction routine that remained
        from the overhaul, it used to be a pseudo I*4 section which was
        erroneosly erased and caused the fbs correction to fail.
        Also tidied up the autocorrelation transform routine.
        Moved from 15APR90 this date.

 5505.  January 19, 1990   UVHGM.FOR,UVHGM.HLP  Mark Calabretta/Bill C.
        Fixed a number of bugs and added the option to plot frequency (FQ)
        id.
        Moved from 15APR90 this date.

 5506.  January 19, 1990               UVGRID              Glen
        Set zero spacing flux to 1. for creating a beam.  Added new
        general subroutines which handel bandwidth synthesis averageing:
        UVZERO sets a vis point to zero, except U value.
        UVZRSP sets zero spacing flux.
        UVCONJ performs complex conjigate of one vis point
        UVSETB sets values for creating synthesized beam from VIS.
        Moved from 15APR90 this date.

 5507.  January 19, 1990         HITIME                  Eric
        A bad declaration --- some variable should have been integer,
        but were listed as real --- caused a formatting error (as well
        as poor history cards).
        Moved from 15APR90 this date.

 5508.  January 19, 1990          GRIDTB                  Eric
        Corrected the number of buffers actually being handled at any
        one time.
        Moved nowhere --- this fix was done in 15APR() some time ago.

 5509.  January 19, 1990   QPUT                                Glen
        Added wait after QPUT in FPS version
        Moved from 15APR90 this date.

 5510.  January 20, 1990   UVGRID/UVCONJ                       Glen
        Modifed UVCONJ to conjugate all stokes as well as all
        frequency channels, if requested.  UVGRID call to UVCONJ modified.
        Moved from 15APR90 this date.

 5511.  January 21, 1990          FILLM.FOR                   Bill J./Bill C.
        Added Bill C.'s fixes
          (1) corrected format statement so that it wouldn't blow up when
              the FQ tolerance was large.
          (2) made FILLM do shadow flagging correctly.
        Moved from 15APR90 this date.

