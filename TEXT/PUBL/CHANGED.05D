;-----------------------------------------------------------------------
;  Copyright (C) 2004-2006
;  Associated Universities, Inc. Washington DC, USA.
;
;  This program is free software; you can redistribute it and/or
;  modify it under the terms of the GNU General Public License as
;  published by the Free Software Foundation; either version 2 of
;  the License, or (at your option) any later version.
;
;  This program is distributed in the hope that it will be useful,
;  but WITHOUT ANY WARRANTY; without even the implied warranty of
;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;  GNU General Public License for more details.
;
;  You should have received a copy of the GNU General Public
;  License along with this program; if not, write to the Free
;  Software Foundation, Inc., 675 Massachusetts Ave, Cambridge,
;  MA 02139, USA.
;
;  Correspondence concerning AIPS should be addressed as follows:
;         Internet email: aipsmail@nrao.edu.
;         Postal address: AIPS Project Office
;                         National Radio Astronomy Observatory
;                         520 Edgemont Road
;                         Charlottesville, VA 22903-2475 USA
-----------------------------------------------------------------------
     This file must be used to record any changes made to the Master
version of AIPS kept in SOCORRO.  An entry is:

   line 1:   Date Program name Your name
   line 2:   What was done (may span multiple lines)
   line n-1: Where has this change been moved (e.g. 15JUL94, nowhere)
   line n:   Blank

 The details of line 1 are important since programs are used to find
 specified strings and do conversions on them.  It MUST be typed as
 follows: 1 blank, 4 digits, a period, two blanks, then the Month,
 day, comma, year, some space, a title, some more space, your name.


***********************************************************************
***********************************************************************

                 Changes while 31DEC05 is TST

***********************************************************************
***********************************************************************

11753.  December 1, 2004           roll-over                 Eric
        Changed the files GETRLS, SETPAR, INSTEP1, install.pl,
        update.pl, UPDCONTROL, AIPSPATH.CSH, AIPSPATH.SH, ZXHLP2.PL
        to specify 31DEC05.  The AIPSPATH ones I changed so that new
        is 31DEC04 and old is 31DEC03.
        Moved nowhere.

11754.  December 2, 2004      MNJ                      Eric
        Changed UPDRSYNC to drop the work-around for an error and
        AIPSUPD to fix the error, definig $logFile and the error file
        with full pathnames rather than relative ones.  We have been
        leaving LogFile entries lying around.
        Moved to 31DEC04 this date.

11755.  December 3, 2004       more MNJ                Eric
        UPDCVS and UPDREMOVE also had this work-around.  (I hate
        work-arounds, one should always find the general solution.)
        Moved to 31DEC04 this date.

11756.  December 5-6, 2004         more MNJ            Eric
        Changed AIPSUPD to set the LogFile and ErrorFile logicals with
        full pathnames inside the version loop.  Otherwise they were
        set with the calling version which might not be the version(s)
        being done.  Changed AIPSUPD, UPDCONTROL, and UPDCVS always to
        tee every message that goes to ErrorFile also to LogFile.  It
        was inconsistent previously.  Changed UPDUPDATE to do the
        $AIPS_ROOT portions only if UpdDoCopy is YES and to provide
        the $AIPS_ROOT value as a call arg to AIPSROOT.DEFINE.
        Changed UPDREPORT to use the logical LogFile rather than a
        locally relative name.
        Moved to 31DEC04 this date.

11757.  December 6, 2004   $APLNOT/J2B, B2J            Leonia
        The new subroutines J2B, B2J convert J2000 to B1950 and
        vice versa.
        Moved to 31DEC04 on 14 Dec.

11758.  December 8, 2004 $APLSUB/JABER.FOR             Leonia
        There has been an error calculating the linear speed of
        rotation of the Earth. TWOPI was missed.
        The strange OMEGA = 360.9856D0/360.0D0
        changed for more recognizable OMEGA = 1.002737778D0
        Moved nowhere.

11759.  December 8, 2004         Misc                   Eric
        Changed:
        1. FLATN.HLP   There is no reason to limit IMSIZE to 8192
        2  UPDCONFIG   Wrong home area for MPI.
        Moved to 31DEC04 this date, #1 to Hawaii, #2 to Bonn.

11760.  December 9, 2004   $APLNOT/JPRECS.FOR          Leonia
        The new version of JPRECS can work with both J2000 and B1950
        coordinate systems. Originally JPRECS could work only with
        J2000. The new version converts B1950 mean coordinates
        (if EQUIN=1950D0 and DIR=1) into J2000 using the new
        subroutine B2J (see #11757) and recalculates
        the found J2000 mean coordinates to the apparent coordinates.
        If DIR=-1, then JPRECS converts the given apparent coordinates
        into the mean J2000 and then recalculates J2000 in B1950 using
        the new subroutine J2B (see #11757).
        Moved to 31DEC04 on 14 Dec.

11761.  December 14, 2004 $APGNOT, $APGOOP, $QPGNOT  Leonia
        Change the old subroutine PRECES for the new JPRECS
        (see 11759) in the following tasks:
             $APGNOT/DTSIM.FOR
             $APGNOT/FXVLA.FOR
             $APGNOT/M3TAR.FOR
             $APGNOT/MK3IN.FOR
             $APGNOT/MULTI.FOR
             $APGOOP/UV2MS.FOR
             $QPGNOT/SDVEL.FOR
        Moved nowhere.

11762.  December 14, 2004         BLAVG, UVFND            Amy
        Add SUBARRAY selection.  Both BLAVG and UVFND use UVGET to get
        and calibrate data.  UVGET does not allow calibration of multiple
        subarrays (i.e., SUBARRAY=0), but UVFND and BLAVG did not allow
        the user to select an individual SUBARRAY, causing a frustrating
        feature, where they would quit with an error telling the user to
        select a subarray but since there was no SUBARRAY input that was
        impossible.
        Moved nowhere.

11763.  December 14, 2004              SN2CL              Amy
        The IBM compiler exposed a problem in SN2CL (a subroutine
        that does the interpolation for CLCAL) in which it relied
        on floating point arithmetic to give it an exact zero in
        order to not interpolate FBLANK entries.  SN2CL now no longer
        relies on this nor does it do any arithmetic on FBLANKs
        themselves.
        Moved to 31DEC04 this date.

11764.  December 14, 2004       AIPSASSN                  Eric
        Changed to add VLADATADIR for the VLA site and to add a call
        to LOCALASSN.CSH or .SH if present.
        Moved to 31DEC04 this date.

11765.  December 14, 2004       FILLM                      Eric
        Changed to force the apparent position to be computed by
        Leonia's new JPRECS.  This removes the diurnal aberation
        included by the VLA but it was only right for one time not the
        whole data set anyway.
        Moved to 31DEC04 this date.

11766.  December 14, 2004      ATMCA                       Leonia
        Change the collinearity limit (APARM(1)=1) from 30 degrees
        to 45 degrees. Reduce the help file.
        Moved nowhere.

11767.  December 15, 2004          MAKE.*MNJ            Eric
        Changed MAKE.MNJ to copy the MAKE.*MNJ files to the update
        work area along with the A*, U*. and R* files.  Also fixed the
        message that comes out ahead of doing this from link to copy.
        MAKE.BMNJ still was not executable in the putbck version.
        Moved to 31DEC04 this date.

11768.  December 17, 2004        FILLM                  Eric
        Users may use fixed frequency for calibrator observations
        followed by tracking frequency for target source line
        observations.  Changed the setting of the velocity type
        keywords to catch tracking modes should they occur after the
        first source.
        Moved to 31DEC04 December 29.

11769.  December 17, 2004        CALIB                  Eric
        Changed CALIB, UVUTIL, CLBPA, GCALC, GCALC1, GCALC2, NCALC,
        and ECALC to return the rms from the closure computation and
        eventually to report the avergae rms and the rms of the rms's.
        Moved nowhere.

11770.  December 17, 2004           WIPER               Eric
        Changed to display the curvalue-like bit in the same location
        as the menu.  This lets the user move it out of the way of the
        data.
        Moved nowhere.

11771.  December 17, 2004  install.pl, MAKE.*MNJ, UPDRSYNC    Eric
        The former left out HP2 architecture from the list of cvs
        forbidden things and the latter including a debug printout.
        Added SYSTEM areas for all architectures to install.pl even
        for rsync installs.
        Moved to 31DEC04 this date.

11772.  December 19, 2004        PRINT                 Eric
        Changed the PRINT/TYPE verb to print the actual length of
        strings up to the last character rather than including
        trailing blanks.  Sbroutine is KWICK.FOR.
        Moved nowhere.

11773.  December 20, 2004      X band models         Amy/Eric
        Put back models for 3C286 and 3C48 at X band.
        Moved to 31DEC04 automatically.

11774.  December 20, 2004    FRMAP, GETSOU            Leonia
        COMLNK/COMRPL $YPGNOT/FRMAP.FOR and $APLNOT/GETSOU.FOR
        using the new version of JPRECS.
        Moved nowhere.

11775.  December 24, 2004          WIPER                 Eric
        Adjusted the curvalue-like display to keep it inside the
        boundary line.
        Moved to patch area and 31DEC04 April 22, 2004.

11776.  December 24, 2004          RECAT                 Eric
        Changed AU3B to put out a renumber message only when it really
        renumbers something.
        Moved nowhere.

11777.  December 24, 2004            PLOTR               Eric
        Added CPARM so that one can have lines and or symbols with
        each data type.  Added 2 levels of broken lines as well.
        This means that one does not have to devote 2 type numbers
        with identical data if one wants connected symbols.
        Moved nowhere.

11778.  December 25, 2004           PLOTR                  Eric
        Put a proper dashed line subroutine into place rather than 3
        special cases.
        Moved nowhere.

11779.  December 25, 2004           SNPLT                  Eric
        Added adverb SYMBOL to control the points plot symbol used and
        changed FACTOR s.t. when FACTOR < 0, abs(FACTOR) scales the
        points plotted and the points are connected with lines.
        Moved nowhere.

11780.  December 26, 2004          IMAGR                  Eric
        In QCLEAN.FOR:
        1. Changed the limit on interpolated TV load images from
           -3 to -5.
        2. Added histogam for current field only to CLRHIS.  This is
           used to make the switch to/from SDI Clean decision while
           the histogram over all fields is used for the level to
           which BGC Cleans go.
        3. Changed the flux loaded for SGI to use RSSMAX(ifield)
           rather than RESMAX which is the incorrect maximum residual
           over all fields, most of which are not current.  It could
           get trapped in a position of taking almost nothing with
           each major cycle without this fix.
        Moved nowhere.

11781.  December 27, 2004          BPASS                 Eric
        Forgot to fix the call sequence to GCALC et al when I changed
        them for CALIB.
        Moved to AOC immediately.

11782.  December 28, 2004           PLOTR               Eric
        A subtle error caused the lines to miss the points.
        Moved nowhere.

11783.  December 28, 2004        EXTLIST                 Eric
        Updated AU8A for changes to PLOTR and SNPLT.
        Moved nowhere.

11784.  December 28, 2004         SNPLT                  Eric
        Changed to allow a plus as well as a cross sign.  Changed
        SOURNU so that its error messages can be blocked which SNPLT
        tried to do.
        Moved nowhere.

11785.  December 28, 2004        PNTPLT                 Eric
        let's clarify this once and (hopefully) for all.
        Changed PNTPLT to require the diagonal X points in the
        precursor comments, to use new numbers 2-22 (were 0-20) with a
        new number 1 = plus sign and 23 = vertical line.
        Changed
        AU5B     to have the range 1-23 for symbol and to use an X set
                 of corners
        GAL      X corners for new symbol number 3
        IRING    X corners for new symbol number 3
        LOCIT    to handle new plot symbol values
        MFPRT    to handle new star numbers
        PLOTR    to handle new plot symbol values
        SNPLT    to do X corners for symbol always, new symbol values
        STARPL   to new symbol values
        CLPLT    to use PNTPL with vertical line default
        VPLOT    to use PNTPL with vertical line default
        Changed HELP files: COSTAR, LOCIT, MFPRT, PLOTR, SNPLT, STARS,
        SYMBOL, CLPLT, VPLOT.
        Moved nowhere.

11786.  December 29, 2004           FILLM                 Eric
        Added check on gain codes with message and flagging of data.
        Moved to 31DEC04 this date.

11787.  31DEC04 only

11788.  January 4, 2005         install.pl,  CDSETUP      Eric
        install.pl was given option -c to mean CDrom as well as the
        test on logical AIPSCDROM=YES.  It was fixed to turn off
        network when CD and vice versa and to test for previous
        network or CD specification not made this time.
        CDSETUP was excessively complicated since it assumed that one
        might be redoing the size of the AP or the XAS or similar
        things even when keeping things on the CD.  These things
        cannot be done.  I suppose that one could fully offload the CD
        to disk and then do a normal install rather than a CD one, but
        not when keeping a light footprint.
        Moved to 31DEC04 (04 version of install.pl) this date.

11789.  January 6, 2005          OTF data                  Eric
        OTF data are now written by Linux and so are byte swapped from
        what they used to be.  Changed:
        OTFUV     Detects this now, lies to AIPS about which OS it
                  actually is to get things still to work.  Now calls
                  ZBFLIP rather than ZR64RL and ZRLR64 et al. to avoid
                  masking apparent Nan's (could have been a problem
                  before too since strings are present).
        OTFIN     As OTFUV.
        SDDPTS    Changed call sequence to deal with all cases.  Calls
                  ZIPAC2 directly.
        ZIPAC2    C routine had typo in previously unused mode.
        PRTLIN    The lie causes CHLTOU to fail.  Changed test to 'Q'
                  and 'q' instead.
        Moved to patch area this date, to 31DEC04 April 22, 2005.

11790.  January 6, 2005            FILLM                    Eric
        The gain exponent test was able to make too many messages.
        Reordered the code so that excess gain values are reported
        only when they cause data that would have been pass to be
        instead deleted.  Changed the range to -10 through +22.
        Values up to 15, 16, 17 are in fact used.
        Moved nowhere.

11791.  January 6, 2005           AIPSMEM111              Ed/Leonia
        Long awaited memo on using ATMCA.
        Moved to ftp site this date.

11792.  January 10, 2005         SPFLG, TVFLG             Eric
        When looping over channels, Stokes, baselines, etc. in
        CLIP BY FORM and REDO FLAGS, an error in the TV load function
        due to no valid data should simply be noted and the function
        continued.
        Moved to patch area and 31DEC04 April 22, 2004.

11793.  January 10, 2005           install.pl             Eric
        Reversed the order of the 2 link statements that link aips and
        AIPS to START_AIPS.  On Macs, the case dependence is lost and
        one ended up with AIPS rarher than aips, so switched them
        since the lower case is usually the preferred one.  MACS will
        do both the rm and the ln in case-independent fashion, but
        when you try to execute them from the shell, then they care
        about case!
        Moved nowhere.

11794.  January 10, 2005         RUN area                 Eric
        Removed BEEP, CYGLOAD, CYGLBOX, CYGEXEC, DOTLOAD, DOTEXEC,
        DDTHLOAD obsolete procs and CYG and CYGSAVE help files.  Also
        deleted the CYG data from the aips ftp site.  Fixed DDT.HLP to
        omit the useless reference to DDTHLOAD and correct the ftp
        site reference to Socorro and the latest versions.
        Moved nowhere.

11795.  January 10, 2005             REGRD                 Eric
        Changed it to translate the pointing position to the new epoch
        along with the other coordinates.
        Moved nowhere.

11796.  January 10, 2005           CfA                     Eric
        Changed UPDCONFIG for site CFA to 2 machines both direct
        clients of nrao.  Changed AIPSASSN.{CSH,SH} to turn off the
        message emulator by default for site CFA.
        Moved nowhere.

11797.  January 11, 2005        STQUEUE, AIPS              Eric
        Updated Copyleft in AIPS; corrected error numbers for STQUEUE
        in AU2.
        Moved nowhere.

11798.  January 19, 2005         TVFLG, SPFLG              Eric
        These old tasks used the non-standard FLAGVER=0 -> 1 default.
        Corrected handling to use highest.
        Moved to patch area and 31DEC04 April 22, 2004.

11799.  January 19, 2005          CALIB                   Eric
        Changed CALIB, UVUTIL, CLBPA, GCALC, GCALC1, GCALC2, NCALC
        to allow external limitation on how tight we squeeze in the
        robust solution method.  Also BPASS call seq (use 0).
        Moved nowhere.

11800.  January 19, 2005        VLBAFQS (VLBAUTIL.001)          Amy
        VLBAFQS did not handle the situation where there was X, S, 90,
        or 50 frequency band data but no S/X or 90/50 data correctly.
        Fixed.
        Moved nowhere.

11801.  January 26, 2005       XGAUS, XBASL, XPLOT       Eric
        Moved these tasks from $APLPGM to $YPGM and added TV plot
        option.  Modernized the code some too.  Moved TVLAB and TVVEC
        with no real changes to $YSUB from $AIPSUB.
        Fixed ITICS which confused image and TV pixels in setting tick
        lengths, leading to wierd lengths at times.
        Moved nowhere.

11802.  January 26, 2005       CXPOLN, CXCLN              Eric
        This old procedure and task to clean complex images had not
        been properly updated to the new naming conventions.  They now
        have and I actually tested them.  They still use MX, sigh...
        Thanks to Uwe Bach for debugging this.
        Moved to patch area and 31DEC04 April 22, 2004.

11803.  January 26, 2005          IMFIT, JMFIT            Eric
        Typo "if" instead of "of" made a complex sentence much harder.
        Moved nowhere.

11804.  January 27, 2005          UFVIX                Eric
        Corrected:
        1. Header epoch to 2000.0 when multi-source; single source was
        done already.
        2. History gets the Besselian epoch of observation iff it is
        ever actually used.
        Moved nowhere.

11805.  February 8, 2005           LISTR                Eric
        Changed the SCAN listing so that the FQ table frequencies are
        picked up and used when listing the frquencies for all or each
        source.  It used to do that only if there was no FQ table, but
        the SU table has an FQ id in its header so which FQ to use is
        clear.
        Moved nowhere.

11806.  February 11, 2005       CLCAL, DEFAULT          Eric
        Changed the default of DOHMS in POPSDAT and AU2A.FOR.  Fixed
        other DEFAULT values in AU2A, several were missing.
        Upgraded CLCAL.HLP with added explain.
        Moved nowhere.

11807.  February 11, 2005        VLACLCAL               Amy
        Added DOBTWEEN and DOBLANK as inputs.
        Moved nowhere.

11808.  February 14, 2005        CONFI                  Leonia
        The minor changes have been done to make CONFI work for
        very wide field of view (+- 90 degrees). The .HLP file
        is updated.
        Moved nowhere.

11809.  February 14, 2005           BPASS               Eric
        (1) Added test on number records copied to scratch file for
            fitting the bandpass.  A no data selected problem was not
            trapped and bad, mysterious things happened later.
        (2) Changed GCALC, GCALC1, NCALC to return (1,0) whenever an
            antenna is missing.  They would only do this before if
            INIT was true.
        (3) Changed weighting - the task seemed not to know when a
            baseline was missing for a particular channel but not for
            others.  Weights are now channel-dependent but can also be
            affected by channel-dependent amplitude factors.  Trapped
            the pure (1,0) solutions and blanked - to be fixed by
            interpolation.
        (4) VLBA alway interpolated (since shifted) so adverb not
            needed - add to help file.
        Moved nowhere.

11810.  February 15, 2005        INSTEP3                Eric
        Add OGEOM, REMAG for Y2K HUGE to list of tasks done.
        Moved nowhere.

11811.  February 15, 2005     3C48 C model              Amy
        New source model.
        Moved nowhere.

11812.  February 16, 2005        LISTR                 Eric
        Added DOACOR to inputs; took DOACOR=true from the matrix
        listing.  Then made the AUTO scaling message appear only if
        DOACOR is true.  At the end of the matrix listings, the
        averages and rmses of the matrix halves came out only if they
        differred from the first line.  Now they will come out unless
        they are empty.
        Moved nowhere.

11813.  February 17, 2005        FILLM                 Eric
        Attempts to make it use a different output file if the input
        data files were in bad time order failed.  This task is very
        excessively complicated.  Added loud messages about time
        order.
        Moved nowhere.

11814.  February 17, 2005        SPFLG, TVFLG          Eric
        Both would fail if the data are out of time order.  Added
        messages and caused it to stop rather sooner.
        Moved to patch area and 31DEC04 April 22, 2004.

11815.  February 17, 2005            UVSRT              Eric
        Stop it from copying the NX table which should be obsolete.
        Moved nowhere.

11816.  February 18, 2005            WIPER               Eric
        The flag area function would abort if buttons B, C, or D were
        hit when button A was expected.  Also button D would delete
        data despite what the instructions state.  Now, when A is
        needed B and C are taken to be A and D exits always with no
        more flagging.
        Moved to patch area and 31DEC04 April 22, 2004.

11817.  February 23, 2005             FIXBX               Eric
        The task handled really messy boxfiles well - but did not work
        for single-facet cases such as using higher-frequency boxes
        for the next lower frequency in a generally simple case.
        Fixed it handle simple cases incl BOXFILE = ' '.
        Moved to patch area and 31DEC04 April 22, 2004.

11818.  February 28, 2005           IMAGR.HLP             Amy
        Clarified explanation of UVWTFN.
        Moved nowhere.

11819.  March 8, 2005       Model subtraction            Eric
        Changed message in GRDCRM to suggest using DFT when a CC file
        has mixed object sizes/types.
        Moved nowhere.

11820.  March 8, 2005              IMMOD                 Eric
        The code cared about the sign of the axis increment when
        setting flux levels and scaling.  Added a couple of ABS
        values.
        Moved nowhere.

11821.  March 8, 2005               IMAGR.HLP             Eric
        Corrected UVWTFN - Amy misunderstood and the old version was
        bad.
        Moved nowhere.

11822.  March 9, 2005                SNPLT                Eric
        The computation of LST had an odd extra factor which made both
        the antenna LSTs and Hour angles incorrect.
        Moved nowhere.

11823.  March 10, 2005           INSTEP2                  Eric
        A typo in an error handler was pointed out by Joe Lazio.
        Moved nowhere.

11824.  March 10, 2005           EGETHEAD                 Eric
        New verb: GETHEAD but sets ERROR rather than signalling an
        exception.  Allows testing header for existence of a keyword
        in procedures.
        Moved nowhere.

11825.  March 28, 2005             DRAWBOX                Eric
        Changed AU5C to have DRAWBOX with non-blank BOXFILE invoke the
        FILEBOX verb with no changing of boxes allowed and slightly
        different messages.  Without BOXFILE, DRAWBOX does a REBOX
        with similar differences.  Changed FILEBOX to use GRCHAN.
        Moved nowhere.

11826.  April 6, 2005            POSSM                   Eric
        The scaling to km/s for velocity was done twice to the
        velocities listed in OUTFILE.  Removed the extra one.
        It also hard-coded the epoch for the coordinates in the text
        file output.
        Moved to patch area and 31DEC04 April 22, 2004.

11827.  April 19, 2005            TECOR                  Eric
        Changed web address from cddisa to cddis.
        Moved nowhere.

11828.  April 19, 2005             CL2HF                  Eric
        Three calls to UV2TAB had an extra argument in them which
        confused the handling of Fortran string lengths.  Caused
        failure under Linux but not under Solaris.
        Moved to patch area and 31DEC04 April 22, 2004.

11829.  April 19, 2005             CONVL                  Eric
        Changed $QPSAP routines QRFFT and QXFOUR to allow them to do
        32768 length FFTs.  Changed CONVL to test on 2*MAXIMG rather
        than MAXIMG which I will leave at 16K.  Also changed CONVL's
        computation of scratch file size to avoid overflow.
        Moved nowhere.

11830.  April 19, 2005             CALIB                  Eric
        Changed FACSET to recognize the primary flux calibration
        sources and to sum only those Clean components within a
        standard radius of the central position.  Thus interfering
        sources, needed for modeling, are assumed not to be included
        in the official source flux.
        Moved nowhere.

11831.  April 20, 2005             CALIB                  Eric
        Changed CALIB to sum and report the average gain modulus
        whenever amplitudes are being solved and, if CPARM(2) > 0,
        saving it as MGMOD.
        Moved nowhere.

11832.  April 20, 2005             SETJY                  Eric
        Added adverb APARM(3) to allow the user to ask for APARM(3)
        times the formal Baars et al fluxes.  This allows for user
        corrections for resolution in case the user is not using one
        of the source models.
        Moved nowhere.

11833.  April 20, 2005              TCOPY                Eric
        This task got overlooked when the tape LUNs were changed
        around.  They should be 129 - tape# rather than 30 + tape#.
        Moved to patch area and 31DEC04 April 22, 2004.

11834.  April 20, 2005            FRING                  Eric
        Reduced to optimization level 0 in OPTIMIZE.LIS due to
        compiler error on HP2s.
        Moved nowhere.

11835.  April 22, 2005          BPASS                    Eric
        Gain solutions were not initialized correctly if the first
        scan had channel 1 flagged.  Fixed handling of the INIT
        parameter.
        Moved (this fix only) to patch and 31DEC04 this date.

11836.  April 25, 2005             MAXIMG                 Eric
        I thought I could get away without changing this, but...
        Changed MAXIMG in PMAD.INC, changed CONVL.FOR to treat MAXIMG
        as it did before (limiting image  to MAXIMG/2).  Recompile an
        awful lot and relink everything.
        Moved nowhere.

11837.  April 25, 2005          Mac version              Eric
        Changed the PAPC.INC in $INC/NOTST/MACPPC to make 80-Mbyte AP
        and recompiled ZDCHIN, $QOOP, $QPSAP on pippin.  The MNJ above
        will relink everything.  Also ren SETPAR.
        Moved nowhere.

11838.  April 26, 2005            UPDRSYNC                Eric
        The cron that builds all of the areas for the MNJ puts a
        blocking file in $AIPS_VERSION/SYSTEM.  UPDRSYNC looked for it
        in $AIPS_VERSION/$ARCH/SYSTEM and of course never found it.
        The blocking should be architecture independent, so fixed
        UPDRSYNC.
        Moved nowhere.

11839.  April 28, 2005          CL2HF, MBDLY        Eric/Dave Gordon
        Installed latest GSFC version of these merged with the few
        changes we made over the last 5 years.:
        CL2HF - drop unused FLAGVER, get phases from the SN table,
                add APARM(3) the integration time.  APARM(5)=0 is
                explicitly deprecated (= 1 => use SN table for
                residual phases).
        MBDLY - modified to pass phases from FRING, so APARM(6) has no
                effect. Also it will pass 'failed' observations with
                APARM(7) = 1. They will get a quality code of zero
                later on in CL2HF (and in the Calc/Solve database).
        Also help files.
        Moved nowhere.

11840.  April 29, 2005           CXPOLN                   Eric
        Changed CXPOLN to use vput/vget to save the user's input.
        Then test and set if needed the output name parameters.
        Then tput cxpoln, default mx and uvpol; tget cxpoln.
        Changed help to mention the defaults and encourage users to
        set the output name parameters (name, seq, disk).
        Moved nowhere.

11841.  May 2, 2005            MNJ                    Eric
        Brought the UPDCONFIG file up to date replacing bob with dave.
        Changed the UPDCOPYSUB to use scp rather than rcp when doing
        simple copies.  The method when using UpdSSH is too complex -
        using exchanged permission files - so UpdSSH remains NO for
        miranda.  I hope this does not break other people's MNJs.
        Changed the message about this in AIPSUPD to describe the new
        situation rather than the old ("this is bad").
        Moved to miranda this date, nowhere else.

11842.  May 3, 2005                 BOXES                Eric
        This task, like FIXBX, could not handle really simple cases
        although it did the fancy BOXFILEs really well.  Added minor
        fixes to let it do simple BOXFILEs and single fields.
        Moved to 31DEC04 16 August, nowhere else..

11843.  May 4, 2004             GEOMs                 Eric
        I added some comments about accuracy to the help file portions
        of HGEOM, LGEOM, PGEOM, OGEOM, and OHGEO warning about
        interpolation order and support size.  The last two I also
        mentioned points per beam which also matters.
        Moved nowhere.

11844.  May 6, 2005              TECOR                     Eric
        TECOR has assumed that the ionosphere remains roughly fixed
        wrt the Sun and so adjusts longitudes in looking up the values
        for times intermediate between the provided data.  In many
        cases this is bad and it seems that much better results come
        from assuming the iocosphere moves with the earth.  Added
        APARM(2) to select which model or some intermediate case -
        APARM(2) about 0, fixed with the earth, about 1 fixed wrt the
        sun.  Pure 0 is taken as 1 to keep the old method.
        Moved nowhere.

11845.  May 6, 2005             IMDIST                     Eric
        Added shift parameter display to AU9 and help.
        Moved nowhere.

11846.  May 6, 2005           GETNAME et al.               Eric
        Changed them to set the disk number as well - the printed
        display is misleading if we do not change disk 0 to
        something.  Also CLRNAME and friends do zero the disk so this
        is similar.  Changed AU8 and the help files.  Previously these
        verbs changed the disk from 0 only if needed to avoid
        duplicate names (although GETONAME's help file said
        otherwise).
        Moved nowhere.

11847.  May 9, 2005             UPDCOPYSUB                   Eric
        Added 2> /dev/null to stop login messages from by repeated by
        cron for miranda.
        Moved nowhere.

11848.  May 11, 2005             UVCOP                       Eric
        Extended the time range used to copy tables by 15 minutes in
        each direction in order to insure that there are enough table
        entries for all the data that have been copied.
        Moved nowhere.

11849.  May 11, 2005              CLCOR         Eric/Bryan Butler
        Corrected OPAC to use the full exponential function rather
        than a 3-term expansion.
        Moved nowhere.

11850.  May 12, 2005             IMFIT, JMFIT              Eric
        Fixed both tasks to return the baseline parameters in the
        output adverbs and to use a better print format for them.
        Changed JMFIT to do something like IMFIT to find the errors
        for the baseline (curved plane) parameters - varying each
        parameter individually within a guessed uncertainty and
        figuring out the width of the resulting rmses.
        Moved nowhere.

11851.  May 13, 2005              POSSM                    Eric
        Clarified STOKES default in help file.
        Moved nowhere.

11852.  May 14, 2005              TAPLT                    Eric
        Changed it to do a more careful job of labeling the axes.
        When a column did not have units the axis got ticks but no
        labels.  Changed ATAN and ATAN2 from radians to degrees and
        made sure any axis with that function was labeled degrees.
        CPARM(9) and CPARM(10) were forced to 1,0.  Restored the
        option to do an overall scale and offset to the X axis.
        Added examples to the previously non-existent explain file.
        Moved nowhere.

11853.  May 16, 2005               UVCOP                   Eric
        A typo changed it to copy only 30 minutes around the start
        time rather than extending both ends of the time interval as
        intended on May 11.
        Moved nowhere.

11854.  May 16, 2005              TAPLT                    Eric
        Added BPARM(1) < 0 => plot the sum rather than the average in
        each bin.  Fixed the binned plotting to be self-scaling and
        corrected errors that led points to be omitted from the bins.
        Improved the labeling at the top for binned plots and fixed an
        error that truncated the top label strings.
        Moved nowhere.

11855.  May 17, 2005              FITTP               Eric
        The conversion to true Stokes made a modest mess of the
        weights.  It should be more correct now.
        Moved nowhere.

11856.  May 18, 2005             CLCAL                 Eric
        Significant problems corrected:
        1. Time smoothing of delays did not check for blanked delay
           values and so used the magic value to figure out a phase
           correction for the "change" in delay.
        2. Merging SN tables meant only concatenating and sorting.
           This if SN table 1 had valid solutions for IF 1 and blanked
           for IF 2, while SN table 2 had the reverse, the merged
           table would have two records for each time.  The merged
           records would indicate various "failures" which would
           probably mess up the interpolation to the CL table.  Time
           smoothing (tiny boxcar would do with DOBLANK >= 0) would
           fix this sort of, but that is inelegant and often
           forgotten.  A new, true merger has been added.  If the
           sorted records have two or more records for the same
           time/antenna/subarray/source/FQID then any blanked
           solutions are replaced by good ones, the weights adjusted,
           and only one record written back into the merged SN table.
        CLCAL.HLP explain file had a substantial paragraph added about
        this.
        Moved nowhere.

11857.  May 18, 2005            DDT, Y2K               Eric
        Updated and corrected the DDT, DDTSAVE, Y2K, Y2KSAVE help
        files.
        Moved nowhere.

11858.  May 23, 2005             AIPSPATH.SH            Eric/Pat
        Quotes were needed to guard against undefined variables in the
        LD_LIBRARY_PATH area for binary jobs.
        Moved nowhere.

11859.  May 24, 2005             SNPLT                  Eric
        Added Ionospheric Faraday rotation to the plot choices and
        simplified some of the labeling code.
        Moved nowhere.

11860.  May 24, 2005              CALIB                  Eric
        SNVER = 0 is forced for single-source files - made this point
        in the help file.
        Moved nowhere.

11861.  May 24, 2005              TABED                  Eric
        When looping over table versions, it set the range of allowed
        lines based on the first file.  This was to get the range into
        the history - I found a new way to do this over the full list
        of versions.
        Moved nowhere.

11862.  May 24, 2005               IMDIST                 Eric
        Changed AU9 to drop the requirement that the second image have
        the disk number specified.  The name, class, and seq must be
        specified or the first image is used for both positions, but
        the disk can do normal defaulting.
        Moved nowhere.

11863.  May 26, 2005            ZEXPN2.C                 Eric
        Changed it to zero the memory that is copied to the expanded
        disk areas and also changed the lseek type code to SEEK_END
        rather than 2.  The latter is recommended although the two are
        identical.
        Moved nowhere.

11864.  May 26, 2005               MCUBE                 Eric
        Added DOCONCAT option to force a SEQ>NUM> axis even when there
        are differeing coordinates on some one other axis.  The HI
        even gets the ignored coordinate values.
        Moved nowhere.

11865.  May 27, 2005                MCUBE                Eric
        Added a header keyword whan an axis coordinate is ignored
        while building a cube (while forcing a SEQ.NUM. axis).  This
        keyword then lets a restart - filling in more of an existing
        cube - to also add that coordinate to the history on the
        restart.
        Moved nowhere.

11866.  June 1, 2005               CLCAL                  Eric
        The new version of SN2CL interpolates SN solutions to times
        before the first one and after the last one by a continuing
        linear extrapolation.  This is fine up to a point but gets
        ridiculous at times - making weights negative for example just
        because the two weights differed.  Changed it to limit all
        interpolation factors to the range -0.5 to 1.5 and the factors
        for solution weights to 0 to 1.
        Moved nowhere.

11867.  June 9, 2005             PBEAM                   Leonia
        PBEAM requires the first column of the input files changing
        slower than the second one. If it is opposite, PBEAM creates
        a lot of plots with a few points and works very slow.
        Now PBEAM can switch the first two columns of the input files
        under control of APARM(7).
        PBEAM uses UV data AIPS file only to attach a plot file, if
        it is planed to create it (DOTV.LE.0). PBEAM is modified now
        to allow the user exclude the UV data putting OUTNAME=''.
        However if OUTNAME='' and DOTV.LE.0, PBEAM switches DOTV to 1
        and prints out the relevant message.
        Moved nowhere.

11868.  June 9, 2005               CALIB                  Eric
        When CALIB created a new flag table (DOFLAG > 0) and a new SN
        table, the latter seemed to be forgotten.  This is probably
        because the task used two in-memory copies of the image
        header.  One was referenced for the SN and the other for the
        FG.  Changed to use the same one for both.  This has been
        working fine for single-source files but not for
        multi-source.
        Moved this fix only to 31DEC04 16 August, nowhere else.

11869.  June 10, 2005                PBPARM                 Eric
        Added comment that when PBPARM(2) <= 0, the default VLA or
        ATCA beams are used to the help files for SAD, IMFIT, JMFIT,
        PBCOR, BOXES, FACES, FLATN, PATGN, SETFC, LTESS, MOMNT, STESS,
        UTESS, VTESS, and XMOM.  Apparently the old wording was not
        clear.
        Moved nowhere.

11870.  June 16, 2005           READLINE, install.pl        Eric
        Removed the 4 SHR files in $SYSUNIX that implemented the old
        version of readline and put back a new READLINE.SHR containing
        all of a modern version.  Changed install.pl to look for
        libreadline.so and libreadline.dynlib (Macs) as well as
        libreadline.a when finding whether the OS already has what we
        need.  Also changed it to drop the unpacking of RLSUPP.SHR
        which is now contained in the main SHR file.
        Changed $UPDUNIX files UPDUPDATE and UPDCONTROL to ignore
        changes in READLINE.SHR.  An installed site does not need to
        react to changes we may make in READLINE.
        Moved the old READLINE files to $APLCONTR to keep them
        around.
        Moved nowhere.

11871.  June 19, 2005           READLINE                     Eric
        The file contained rcs-recognized $Id, $Revision, $Date,
        $Author strings that the mnj prep script cause to change every
        day.  So READLINE.SHR was being checked in every day.
        Removed these lines.
        Moved nowhere.

11872.  June 19, 2005                XGAUS                   Eric
        Found a spot where the catalog header for the residual image
        was being updated on disk even if there was no residual image
        being written.  This trashed the AMPL1 header and image
        structure which coud cause bad failures and caused an error
        about history files to be written.
        Major COMRPL yesterday since not all subroutines affected by
        MAXIMG change were compiled - also affected XGAUS.
        Moved nowhere.

11873.  June 20, 2005            misc                     Eric
        Changed help files for
        1. MF2ST meaning of star plot symbol numbers was not updated.
        2. FITTP adverb CATNO applies at all times not just on DOALL.
        Moved nowhere.

11874.  June 21, 2005           UVCON                     Leonia
        The following enhancements of UVCON are added:
        1. The information defining the antenna noise temperature (TSYS)
           and efficiency dependence on elevation is read by UVCON from
           an auxiliary second input file (IN2FILE), supplied by the user.
        2. The new connotation of the frequency channel bandwidth is added:
           APARM(8)<0 => one channel data are created with different
                             U,V,W for each frequency. Such data are
                             useful for simulating of multi frequency
                             imaging.
           APARM(8)>=0 =>it is frequency increment and the created
                             UV data are AIPS' standard multi channel
                             data. The data can be used for different
                             transformations in AIPS. In particular
                             such data can be used for simulating of
                             smearing effect using AIPS tasks UVAVG
                             for time averaging and AVSPC or SPLAT
                             for frequency averaging.
        3. The error (help file) in uniform sphere notification is
           fixed:  3 (not 2 !!!) => uniform sphere.
        Moved nowhere.

11875.  July 3, 2005              HIIO                   Eric
        In task MOVE, HIIO often reports that the attempt to increase
        a HI file size failed since the apparent size did not go up.
        Added to HIIO a test to see if the size got bigger than we had
        thought it to be previously.  If so, we now ignore the error.
        Moved nowhere.

11876.  July 6, 2005              FRING                 Eric
        Changed wording of multiple subarray condition message.
        Moved nowhere.

11877.  June 6, 2005            3C286 C Model            Amy/Eric
        New calibrator model for 3C286 at C band (6 cm).
        Moved nowhere.

11878.  July 6, 2005          AIPSLetter                 Eric
        June 30 AIPSLetter put back and mailed today.
        Moved nowhere.

11879.  July 8, 2005             IMAGR                   Eric
        Improved the help file description of NCHAV, CHINC.
        Moved nowhere.

11880.  July 8, 2005             CALIB                   Eric
        Changed CLBPA to mark failed solutions with weight -1 for real
        failure and -2 for "no data".  Changed CALIB to count only
        those at -1 not those at -2 as "failed".
        Moved nowhere.

11881.  July 11, 2005            PNTPLT                 Eric
        The box definitions were confused - the ends of the major and
        minor axes are needed not corners.  Changed PNTPLT to allow
        the simple functions to follow this rule and added a cross
        with gap since the other became plus with gap.  Changed box in
        call to PNTPLT in AU5B (COSTAR), CLPLT, GAL, IRING, LOCIT,
        PLOTR, SNPLT, and VPLOT.  Changed help files for all these
        plus STARS.
        Moved nowhere.

11882.  July 13, 2005          install.pl                  Eric
        If a tarball cannot be found in the usuaal places, ask the
        user if the user intended a binary installation.
        Moved nowhere.

11883.  July 14, 2005              SAD                    Eric
        Added the option to read in an image of RMS to use for setting
        the error bars on the components.  The usual global RMS is
        used in the earlier portions of the task.  The task RMSD may
        be used to compute the rms image.  That image does not have to
        align with the image being fitted.  The coordinates of each
        source are used to select and interpolate inthe rms image.
        Moved nowhere.

11884.  July 15, 2005            UVnTYPE                  Eric
        Added a reference to all help files for UV gridding function
        types.
        Moved nowhere.

11885.  July 15, 2005              SPLIT                  Eric
        When doing simple frequency smoothing and using CHINC the
        increment in the FQ tale should be computed using CHINC not
        the count of channels averaged.  SPLAT does not do the same
        sort of thing.
        Moved nowhere.

11886.  July 19, 2005         SNPLT           Eric/Mark Kettenis
        JIVE noticed that SNPLT was not plotting PC tables correctly.
        To plot an IF greater than BIF one must increment the pointers
        by NTONE not 1.  This applies to phase, amplitude, rate, real,
        and imaginary.  Also added tests so that BCOUNT is in range of
        1 - NTONE.
        Moved nowhere.

11887.  July 19, 2005        Mac stuff                 Eric/Wes
        Added to LDOPTS.SH
              LINK="-L/usr/lib -lSystemStubs"
        Added to $APLLINUX/ZCPU.C
              #include <limits.h>
        which the latest OS requires, previous did this for us.
        Moved to pippin $SYSLOCAL, nowhere else.

11888.  July 19, 2005         MSGSRV                    Eric
        The screen goes away too fast when it has trouble starting.
        MOved the delay call in $APLUNIX/ZMSSRV.C to make it delay
        before doing any of the final closes.  Maybe we can then read
        the error messages.
        Moved nowhere.

11889.  July 21, 2005           LSAPROPO                  Eric
        Changed HLPA to include the task, verb, adverb, etc. names
        themselves as symbols for the APROPO verb.  Changed LSAPROPO
        to bring it up to date and to add all help file names as
        symbols.  Changed AU1A also - apropos had a small error in
        setting the output string making for bad spelling.
        Moved nowhere.

11890.  July 21, 2005             CLCOP                   Eric
        NEW TASK - copies right cal to left, left to right, or swaps
        the 2 polarizations in SN or CL tables.
        Moved nowhere.

11891.  July 25, 2005            CCOPTS                     Eric
        The SOL architecture had not been fixed to do 64-bit files by
        default.  If people do SOL rather than SUL, this hurts.  Fixed
        the default.
        Moved nowhere.

11892.  July 26, 2005             XMOM                      Eric
        Typos found while doing SPIXR - LAT and LONG axes would not
        have been recognized as equivalent to RA and DEC.
        Moved nowhere.

11893.  July 26-27, 2005     BOXES, FACES, SETFC             Eric
        Added code to go through the files doing formatted reads only
        every 25 records until we are nearly in range and then
        quitting when we are out of range.  This only works on files
        that are in strict RA order - those in $AIPSTARS.  But they
        are the long files.
        Moved nowhere.

11894.  July 29, 2005           IMMOD                   Eric
        Changed task from one that added a single component in flux
        and arc second units to one that adds up to 4 components in
        the brightness and pixel units (and adverbs) used by
        IMFIT/JMFIT.
        Moved nowhere.

11895.  July 29, 2005              SPIXR                Eric
        NEW TASK: Finds the spectral index along the X axis of a cube
        which can be either a true frequency axis or a SEQ.NUM. axis
        with frequencies in the history file written by MCUBE.
        Moved nowhere.

11896.  July 29, 2005             TI2HA                   Eric
        Changed it to use the hour angle of antenna 1 rather than the
        average of the two hour angles in the baseline.  For VLBI,
        where this matters the old usage took data from the same time
        and put them at separated times.
        Moved nowhere.

11897.  August 1, 2005           WINDF, CCEDT             Eric
        Changed $APLSUB/WINDF and CCEDT to check rectangular boxes for
        reversed corners and reorder them to the expected BLC, TRC
        order.  WINDF is used in IMAGR et al.  Local versions of WINDF
        in CHKFC and FIXBX were also modified.
        Moved nowhere.

11898.  August 1, 2005             IMAGR                  Eric
        Found a typo in TVUTIL.FOR which should have made it hard to
        get TXINC for TV loads.  Changed QCLEAN to separate OVERLAP 2
        into a separate cleaning subroutine from overlap 0 and 1, thus
        simplifying the code.  Changed UVPREP to catch and signal the
        no visibilities error.  QCLEAN had some odd code that limited
        the interpolated image to < 520 pixels for some unknown
        reason.  That code also allowed the TXINC, TYINC to become -1
        which would then load different increments in X and Y.
        Moved nowhere.

11899.  August 1, 2005          Spectral indexes           Eric
        Fixed SPIXR to use the reference frequency as the reference
        for spectral index when the axis is a regular FREQ axis.
        Changed UVMOD, adding DPARM to specify spectral indices and
        curvatures for 4 sources and the noise level.
        Moved nowhere.

11900.  August 4, 2005             FITLD                   Eric
        Phil code: Two JD dates obtained by dufferent means were
        differenced and the difference was required to be >= 0.  A
        difference of -1.0D-6 caused the task to skip the data file!
        To add more injury, more than one subroutine did not
        initialize the version number before calling the ext. table
        INI routine.  That was fine on the first call and if there is
        only 1 version but not if there are multiple subarrays or
        whatever.  But this is the first 2005 fix of FITLD!!!!!
        Moved to 31DEC04 16 August, nowhere else.

11901.  August 4, 2005               REAMP                  Eric
        NEW TASK: Cleaned up version of FUDGE, rescales vis amplitudes
        and weights.  FUDGE does this too but the new task is cleaner.
        Moved nowhere.

11902.  August 5, 2005          CLCOP                  Eric
        Enhanced so that it can make a 2 polarization file from a 1
        polarization file.  Fixed it to do weights, reference
        antennas, clocks, multi-band delays, etc.  These were
        overlooked previously.
        Moved to AOC Linux this date, nowhere else.

11903.  August 6, 2005          CCEDT                  Eric
        Corrected numerous problems:
        1. Made CCBOX be in a common so that its dimensions could
        change should the automatic splitting be done.
        2. Fixed history to tell the boxes correctly in both arc sec
        and pixels.  Fixed formats to fit.
        3. Put tests in to make sure that the number of boxes and the
        number of output files are the same when writing multiple
        output files.
        4. NCCBOX as a negative bvalue could be used in the past to
        create data in an object.  Error fixed by going to the common.
        5. Changed to set CCBOX in arc sec to look like like BLC/TRC
        in those units and corrected the test for component inside a
        box.  The old test assumed boxes in the correct order and axis
        increments < 0 in X and > 0 in Y.
        6. Changed code to do all the work of summing fluxes only when
        CUTOFF is being used.
        7. Some counters assumed that there were <= 10 boxes despite
        the parameter MAXBOX used elsewhere.
        8. The automatic algorithm changed the size of search boxes by
        too much for each minor iteration.  Limited the change to
        10%.  This gets more realistic boxes.
        9. Changed the automatic algorithm to set CCBOX and NCCBOX -
        so that the history file could contain the correct boxes
        rather than some adverb values that were ignored.
        10. Changed the automatic algorithm to do only one pass -
        previously it would do overlapping boxes - such as a large one
        with a smaller one taken out of the middle!
        Moved nowhere.

11904.  August 6, 2005              IMAGR                  Eric
        New QCLEAN subroutine CLNUV2 was able to return an error code
        = -2 indicating that the selected field was too weak and there
        were no more fileds.  Suppress this as an error.
        Moved nowhere.

11905.  August 9, 2005         FLAGR, FINDR              Eric
        Changed ASOLVE to return negatives on truely failed solutions
        and magic blanks on non-existent data.  Similarly, changed
        VSOLVE to return pure zero on failed and blanks on no-data.
        Changed FLAGR and FINDR to flag on things <= the cutoff rather
        than < cutoff so that zero will flag the failed solutions -
        previously they were blanked and ignored and so not flagged.
        Changed help files to match.
        Moved nowhere.

11906.  August.10, 2005        Intel compiler              Eric
        Changed $SYSLINUX versions of CCOPTS.SH, LDOPTS.SH and
        FDEFAULT.SH to insert the new Intel compilers icc and ifort
        and the parameters that Benjamin Mort (Oxford) found for them.
        Moved nowhere.

11907.  August 11-12, 2005          FITLD                  Eric
        Changed:
        (1) removed a large set of unused FORMATs.
        (2) Added code to recognize station Y with gain 1.0 as needing
        the Tant set to -1.0 rather than magic blank.  This tells
        later code that the Tsys is really Tsys/Tant (values less than
        1 rather than in 2 or 3 figures actually).
        (3) 8/12 changed to test sensitivity rather than gain curve
        since that is 1.0 frequently.
        Moved to 31DEC04 16 August, nowhere else.

11908.  August 16, 2005         BOXES, FIXBX               Eric
        IMAGR can also set boxes and fields with adverbs as well as a
        boxfile.  Changed:
        FACES  - Fixed bug in reading stars files
        SETFC  - Fixed bug in reading stars files
        BOXES  - dropped SHIFT adverb that was not used, added NFIELD,
                 RASHIFT, DECSHIFT, fixed bug reading stars files
                 NFIELD if > 0 controls the max number of facets no
                 matter what the BOXFILE contains.
        FIXBX  - Added NMAPS, NOISE, RBSIZE, NBOXES, CLBOX to describe
                 old imaging parameters along with INFILE, added
                 NFIELD, RASHIFT, DECSHIFT to describe new imaging
                 parameters along with BOXFILE.  Fixed incorrect
                 wording in help file.
        Moved nowhere.

11909.  August 22, 2005       Dynamic memory             Eric
        We need to use LONGINT for address pointers in dynamic memory
        since 64-bit computers may use more of the virtual address
        space than can be represented in ordinary integers.  This
        means declaring the index pointer a LONGINT which is
        translated to INTEGER on 32-bit addressing machines and to
        INTEGER*8 on 64-bit addressing machines.  Changed:
        ZADRSZ   New - returns size of an int pointer (4 or 8)
                 A copy is in $SYSUNIX/ZTRLOP.C already.
        ZMEMRY   Change INTEGERs to LONGINT.  Fixed QUIT opcode to
                 delete all entries ignoring all other args - FRAL
                 deletes only those of named routine.
        ZMEMR2   $APLGEN stub fix declarations
        ZMEMR2   $APLUNIX C change int * to long * for offset.
        DIETSK   Added call to ZMEMRY with opcode 'QUIT'
        ZDBPC    $INC changed PBPBUF, PBPIBF, PVLBUF, ANTNX, ANTPNT
                 pointers to LONGINT
        BPASET   Changed comments (calls ZMEMRY with above), changed
                 to 0 ANTNX with DO loop since FILL may not be okay.
        BNGET    Changed local variables that are set from pointers.
        DATBND   Changed local variables that are set from pointers.
        IOBSRC   Comments
        CALADJ   Changed OFFSET to LONGINT - local dynamic memory.
        UVGET    Changed comments, frees PBPBUF and references it.
        INTERPLATE  Changed PTIMAG to LONGINT.
        TVUTIL   Changed subroutine OTVBOX pointer WINP to LONGINT.
        ACFIT    Changed pointer VISOO and variable K (to KLONG)
                 computed from it to LONGINT
        ATMCA    Fixed to call ZMEMRY only if really needed and to
                 free the memory once used.  It otherwise created two
                 memories with only a single pointer even when they
                 were not needed and never freed them.
        BPSMO    Changed secondary pointers LWT, LBP
        CLIPM    Changed pointers
        FLGIT    Changed pointers
        GETJY    Changed pointers
        MSORT    Changed pointers
        OTFUV    Changed pointers and local variable
        SNFLG    Changed pointer
        SPLAT    Changed pointers
        STFUN    Changed pointers
        UVLIN    Changed pointers
        UVMLN    Changed pointers
        XTRAN    Changed pointers - are call args from main
        SDMOD    Changed pointer - is call arg from main, also local
                 version of pointer
        UVMTH    Changed pointer
        BLAPP    Changed pointers, added FRAL call
        CCEDT    Changed pointer
        FIXWT    Changed pointers
        FXPOL    Changed pointers
        BPASS    Changed pointers
        CALIB    Changed pointers in 2 routines
        DEFLG    Changed pointers
        FRING    Changed poointers in two places.  In the dynamic
                 pseudo-AP, changed to LONGINT pointer, then set AP
                 pointer to LONGINT one, and if not equal branch to
                 error message and exit.  I*4 AP pointer will not be
                 equal I*8 pointer if allocated memory is too far
                 away.
        KRING    Changed numerous pointers
        BLING    Changed multiple pointers and corrected their usage -
                 1 has to be added to all references.
        BSAVG    Changed pointer and secondary pointer
        IMAGR    Changed pointer in common and 2 secondary ones
        OMFIT    Changed numerous pointers - it appears to be
                 allocating many small areas which is not a good
                 idea.  Removed unused variables.
        SCIMG    Changed pointer in common and 2 secondary pointers
        WFCLN    Changed pointer in common and A secondary pointer
        DELZN    Changed pointers in common
        ELINT    Changed pointers in common
        IBLED    Changed pointers
        OBPLT    Changed pointers
        VPLOT    Changed pointer and numerous secondary ones
        WIPER    Changed pointers
        FRPLT    Dropped DBPC.INC
        BSCLN    Changed pointers
        Moved to CfA promptly for testing.

11910.  August.23, 2005          FINDR, FLAGR             Eric
        Changed dimension of certain time arrays from 1000 to 15000,
        putting them in the same common to save space.  Corrected the
        VRFI routines to check counters against this limit also.
        Moved nowhere.

11911.  August.26, 2005           ANTAB                 Eric
        Increased max FQID from 12 to 25.
        Moved to AOC this date, nowhere else.

11912.  August 26, 2005           REUSE                 Eric
        NEW SERVICE TASK: Converts from user public catalogs to user
        private catalogs, renaming the CA, SG, and all data files.
        Moved nowhere.

11913.  August 26, 2005        Public catalogs          Eric
        Changed:
        AIPS    Will create and init public catalogs if missing
        AIPSB   Will create and init public catalogs if missing
        FILAIP  Dropped 2 questions - will always do private catalogs
                and 10 tape lock files.  NVOL not needed at all.
        FILAI2  Changed to do private catalogs always - this program
                not used now I think.
        install.pl  - changed its use of FILAIP.
        Moved nowhere.

11914.  August 28, 2005      RESEQ, MATCH, PRTAN              Eric
        Changed MATCH help file to make it clear that it effectively
        concatenates the AN, FQ, and SU information.  Thus, careful
        applications of MATCH will allow separate VLBI data sets (each
        missing some antennas, sources, and/or FQIDs) to be made so
        similar that they can be safely merged.
        Task RESEQ is meant to renumber the various ground station
        "antenna numbers" for the space antenna into a single antenna
        number.  It had the attributes:
        1. It used a non-standard way to read and write UV files which
        failed when I tried it and died with no message in its set-up
        phase when Craig tried it.  A FUDGE clone would have worked.
        2. The tables subroutine did not set a LUN.
        3. The polarization checking code used a wrong reference
        pixel.
        4.  The subarray number was dropped from the output baseline.
        5.  The antenna number column in AN tables was not recognized
        as such.
        Took a FUDGE clone to copy the UV and made RESEQD (DIDDLE) do
        the UV copy wit antenna renumber and possible baseline
        direction swap.  Copied the TABLE handling routine from the
        old RESEQ and cleaned it up and made it work.  The new task
        will be able to renumber antennas in complicated schemes,
        completely swapping things around if desired.
        PRTAN confused AN row number with antenna number, causing the
        VLA display to be messed up when the 2 are not equal.
        Moved nowhere.

11915.  August.28, 2005         3C48  L-band Model             Amy
        Putbck new model for 3C48 at L band 1.426 GHz.
        Moved nowhere.

11916.  August.30, 2005          LINUX                    Eric
        Added -axNP option the $SYSLINUX CCOPTS.SH, LDOPTS.SH, and
        FDEFAULT.SH for the Intel compilers.  This should get us load
        modules that will work on generic machines but also take
        advantage as much as possible of the current PIV chip.
        Moved to AOC Linux this date, nowhere else.

11917.  August 30, 2005             FRING                Eric
        The formula for how much memory is needed in the fring search
        was wrong.  This caused the dynamic memory routines to ask for
        slightly too little memory when doing enormous fring
        searches.
        Moved nowhere.

11918.  August 31, 2005        $SYSLINUX, XAS               Eric
        More changes for the Intel compiler:
        1. -xW overrides the -axNP so drop it in CCOPTS.SH,
           FDEFAULT.SH
        2. Force linker to use AIPS-provided run-time libraries with
           -Xlinker -rpath -Xlinker $LIBR/INTELCMP
        3. Add comments to Makefile in XAS.SHR as guides to someone
           using the Intel compiler.
        Moved nowhere.

11919.  September 2, 2005           TYPUVD                 Eric
        TYPUVD is set to identify types of UV data.  UVMOD, UVCON, MX,
        and UVMAP took +1 to be -NCP when the correct value is -1 for
        -NCP.  The last two exited on TYPUVD > 0 at one point and then
        tested for +1 later.
        Moved nowhere.

11920.  September 2, 2005            CELGAL                Eric
        On UV data, AU7 (CELGAL verb) changed RA/DEC to GLON/GLAT but
        then back to RA--/DEC-.  Changed it to test properly and
        return with or without the -'s.
        Moved nowhere.

11921.  September 6, 2005          Single dish            Eric
        Changed UVPGET to allow Galactic, Ecliptic, and az/el
        coordinates for random parameters and axis parameters but only
        for single-dish data.  Drop projected coords.
        Changed OBJMNGR to call all coordinate types that are not
        projected 'SD'.  Changed UVUTIL subroutine U2IDES to test
        coordinate types and use what comes in for SD data only.
        These two will take care of SDGRD I hope.
        Changed SDIMG to use whatever coordinate comes in rather than
        forcing RA-- and DEC-, but add the -'s if needed.
        Made it check that the random parameters and the axis
        coordinates are the same type.
        Removed SELSD and GRIDR, they were fully replaced by SDIMG and
        SDGRD and do not handle compressed data and are otherwise is
        need of work.  This allows us to drop projected coordinates
        from single-dish UV data entirely.
        SDVEL so far tests for RA/DEC and quits if it is not.  It
        could do everything with a subroutine to convert Galactic and
        Ecliptic to RA/Dec.
        Moved nowhere.

11922.  September 6, 2005            ANTINI               Eric/Bill
        A more careful approach to finding the columns pointers is
        used most places but was not used here.  Bill has pointed this
        out and provided the revised code unsolicited.
        Moved nowhere.

11923.  September 6, 2005           CCEDT                 Eric
        Fixed error - I took CUTOFF to be used only if positive, but
        one may want to allow minor negatives just not big negatives.
        Moved nowhere.

11924.  September 11, 2005          PRTAB                 Eric
        Changed it to allow for negative times, correcting range tests
        and formatting.
        Moved nowhere..

11925.  September 12, 2005          FITLD                 Eric
        Wrote new include DCTV.INC and new subroutines CTINI, TABCT,
        and CTREFM to init, read/write, and reformat (add a time
        interval column) CT (Calc) tables.   Changed FITLD to invoke
        the reformating and then to add the time intervals after the
        files has been read.
        Moved nowhere.

11926.  September 13, 2005        INTERP                 Eric
        INTERP is too nice a subroutine name.  The $APLNOT/INTERP.FOR
        subroutine is not used anywhere but it is a good routine.  So
        changed $APLNOT/JPLEPH.FOR internal subroutine name INTERP to
        JPLINT.  Also changed comments and/or subroutine name internal
        to AIPS, AIPSB, AIPSC, DAIP, KWICK, POPSGN, UVCON, and APCAL.
        I do not see how this was missed earlier - the Mac MNJ failed
        last night for this.
        Moved nowhere.

11927.  September 15, 2005          MCUBE, SPIXR           Eric
        Changed MCUBE to write an FQID axis when forced to combine
        frequencies that are not well aligned.  Moved FQINI and TABFQ
        from $APLNOT to $APLSUB with a substantial improvement to the
        code (see e.g. ANTINI above) for use by MCUBE.
        Changed SPIXR to read the FQ table when axis 1 is FQID;
        corrected the frequency chosen for primary beam correction,
        made the reference frequency be that from the header on the
        FREQ axis (or what is left of that axis).
        Changed TRANS, CPYRT, REMAG to copy all table extension
        files.
        Moved nowhere.

11928.  September 16, 2005          EXTDEST                 Eric
        Changed AU8 to write EXTDEST happenings into the HI file.
        Moved nowhere.

11929.  September 21, 2005       CLCOR                     Leonia
        The new OPTYPE='EOPS' has been implemented:
        CLCOR reads the CT table, interpolates the eop parameters (UT1-UTC,
        WOBXY) into the the CL table row time, calculates the delay taking
        into account the EOP correction. This is the delay (possibly wrong)
        which used by correlator.
        Then CLCOR reads the USNO file, interpolates the eop parameters
        (UT1-UTC, WOBXY) into the the CL table row time, calculates the
        delay taking into account the EOP correction.
        This is the correct delay.
        Having calculated the two delays CLCOR applies their difference
        to correct the given CL table row delay, rate, phase.
        So the new  OPTYPE='EOPS' allows to correct the wrong application
        of the eop parameters by the VLBA correlator.
        CLCOR has erroniously corrected the total geometrical delay for
        OPTYPE='ANTP' and 'ANAX'. This correction has been removed.
        Moved nowhere.

11930.  September 22, 2005     UVCON                      Leonia
        W term has been always considered zero. I have added W term
        calculating visibilities. It works only if the model is given
        as a set of CC components (CMETHOD='DFT ', CMODEL='COMP')
        Moved nowhere.

11931.  September 28, 2005     CLCOR                      Leonia
        CT table first group has been printed out if the all groups are
        identical. Nothing has been printed out if the groups are not
        identical. Now all CT table groups are printed out if the groups
        are not identical. The warning about using OPTYPE='EOPS' only for
        VLBA correlator has been added.
        Moved nowhere.

11932.  October 3, 2005       FLGIT                   Eric via Amy
        Fixed loop over subarray.  The closes were outside the loop but
        the UVGET ('INIT') is inside.
        Moved nowhere.

11933.  October 6, 2006       VLBAUTIL                        Amy
        Compressed procedures by putting variable declarations on one
        line where possible.
        VLBALOAD - add ability to load from disk.
        VLBAMPCL - add check on repeats in the ANTENNAS inputs, a user
           used ANTENNAS 5, which filled the ANTENNAS array with 5s and
           since I needed to add the reference antenna to the list this
           caused it to croak.  So now it checks for repeats and changes
           things like ANTENNAS=5 to ANTENNAS=5,0.
        VLBAEOPS - new procedure to run CLCOR to correct EOPs.  If
           INFILE is left blank then the USNO file with final EOPs is
           automatically downloaded into the /tmp directory and used with
           CLCOR.  The file is them deleted.
        Moved nowhere.

11934.  October 9, 2005         UVFLG, TACOP                  Eric
        Changed FLAGUP to do a JTRIM on the reason in an existing FG
        table before comparing the reason from the user adverb.
        Changed error messages in TACOP to be a bit more explicit.
        Moved nowhere.

11935.  October 10, 2005          LISTR                Eric
        The MATX listing limited the time averaging to > 0.0001
        days or about 7 sec.  Fixed to something much less.
        The GAIN listing forced 2 second averaging - changed to 0.01.
        Moved nowhere.

11936.  October 10, 2005          MFPRT                Eric
        Changed the basic printing and the LIST printing to include the
        file INNAME, INCLASS, and INSEQ.  Useful whenlisting many
        files.
        Moved nowhere.

11937.  October 10, 2005           VLBAUTIL                Amy
        Add VLBAEOPS to VLBAUTIL.HLP and added a couple information lines
        at the end of VLBAEOPS (i.e., CL# ? contains the EOPS correction...).
        Moved nowhere.

11938.  October 10, 2005             QINP                  Eric
        New verb - restart INP or INPUTS (or QINP) at the last page
        that was showing, including any new adverb values.  Changed
        AU1A.FOR, NEWPARMS.001, POPSDAT.HLP and new QINP.HLP
        Moved nowhere.

11939.  October 11, 2005         CLCOR.HLP                Leonia
        The explanation of CLCORPRM for OPCODE='EOPS' included JD.
        This confused people who could think that JD information has
        to be provided by the user. Actually it has not.
        I changed the help file with the help of Michael Bietenholz.
        Moved nowhere.

11940.  October 11, 2005            GETNAME                 Eric
        The GETNAME error message for bad volume used the wrong
        variable so complained that 0 was > 4.  Fixed AU8.
        Moved nowhere.

11941.  October 13, 2005            FRING                    Amy
        When the Intel compiler optimized the loop that calculated the
        frequencies (FREQS) the accuracy was degraded enough (errors
        on the order of a few hundred kHz), that it triggered a
        "FREQUENCIES NOT ON A UNIFORM GRID" warning.  Changed the
        FREQS array to double precision, which seems to force the Intel
        compiler not to optimize the do loop in question, and the
        calculated FREQS now have a high degree of accuracy.
        Moved nowhere.

11942.  October 13, 2005        XAS and UNIX SERVERS          Eric
        It was discovered that some sites need quotes around the
        process name to be executed inside the xterm.
        Moved nowhere.

11943.  October 14, 2005          FRING                    Eric
        A MOD operation conflicted when DF was REAL*4 and FREQS was
        double.  Made a DPDF to use inside the grid test routine and
        set it to the real*4 DF on the way out.  Made FTOL be properly
        known as fractional error (one use was as absolute ~ 1 MHz)
        and fixed some comments.
        Moved nowhere.

11944.  October 15, 2005        UPDUPDATE              Eric
        Add section to copy $SYS$ARCH to $SYSLOCAL except for LDOPTS,
        CCOPTS, and FDEFAULT and to make noise about them.  This will
        let me put no-quote versions if XASERVERS and UNIXSERVERS in
        $SYSSUL.  Which I have done.
        Moved nowhere.

11945.  October 15, 2005     $APGNOT/RMSD               Leonia
        The new OPCODE='mean' has been added at request of Rob Ivison
        from Edinburgh (UK). RMSD with this opcode creates the image
        of MEAN at the vicinity of the pixel. The existing OPCODE='rms'
        allowed to create the image of RMS at the vicinity of the
        pixel.
        Moved nowhere.

11946.  October 19, 2005      $RUNSYS/VLBAARCH.001         Lorant
        After Amy added reading disk files with VLBALOAD (upon my
        request), the VLBALOAD help file changed, causing INDXR in
        ARCHLOAD to break. Fixed by adding INFILE='' to the code.
        Moved nowhere.

11947.  October 19, 2005       UPDUPDATE              Eric
        Tests of this on a Linux box allowed == for an equality test.
        Unfortunately, this mean Linux is nicer than other boxes which
        insiste on the correct = test.
        Moved nowhere.

11948.  October 19, 2005         Slices                 Eric
        Fixed:
        SLICE   to use a better format in the output text file
        SL2PL   to remove typo that drew an extra line at x=0
        AU8A    to adjust pointer to max & min in SL listing
        SLFIT   to say physical units for the 2nd output list
        Moved nowhere.

11949.  October 20, 2005         VLBAEOPS               Amy
        When CLCOR was run INFILE pointed to the wrong directory ($FITS
        rather than /tmp).  Fixed.
        Moved nowhere.

11950.  October 20, 2005           MOVE                 Eric
        Changed limit on userid from 8192 to 46655.
        Moved nowhere.

11951.  October 24, 2005           RSTOR                Eric
        Added FACTOR adverb to allow components to be removed instead
        of added.  This still works only when components are exactly
        on pixels, components are points, and the image is 2^n in
        size.
        Moved nowhere.

11952.  October 25, 2005            tape                Eric
        Added a message to ZTPOPN suggesting a mount when AMT0n cannot
        be translated.  Changed TPMON to add error reports after every
        call to a Z tape routine.
        Moved nowhere.

11953.  October 26, 2005          SYSTEM                   Eric
        Added new adverb SYS2COM to allow SYSTEM commands to be very
        long.  Changed:
        AU1A    Inputs now only show the characters in the string, not
                all the trailing blanks
        AU3B    To pick up the new adverb
        SYSTEM  Help file to describe usage.
        ZSHCMD  $APLGEN changed to support longer strings
        ZSHCM2  $APLUNIX and $APLIBM changed to support longer strings
        SYS2COM New help file
        POPSDAT Add adverb
        NEWPARMS  Add adverb
        Moved nowhere.

11954.  October 27, 2005            CALIB                Eric
        Changed the subtle adjustments made to times - the scans were
        extended by 1 sec in each direction, now by 0.05 sec.  Other
        adjustments were changed from 0.1 to 0.05 sec.  The VLA is
        producing data at 0.41666 sec intervals and the VLBA can also
        do short intervals.
        Moved nowhere.

11955.  October 28, 2005           UVHOL                   Amy
        At Rick Perley's request I added the option to print the elevation
        and azimuth at the beginning and end of scans to output file.
        APARM(4)>0 triggers this new option.
        Moved nowhere.

11956.  October 30, 2005           FILLM                 Eric
        FILLM took bandwidth code 8 to be the same as 9 and to be
        50MHz/(2^9).  Actually both modes are 50/(2^8).  This led to
        wrong reference channels and other less important errors when
        data were taken in mode 9 (very narrow spectral line mode).
        Changed help file to say that NCOUNT is ignored by the ON-LINE
        version.  It already says that STOP will always be needed or a
        stop time in the ON-LINE version.
        Moved nowhere.

11957.  October 30, 2005      install.pl, UPDCONTROL          Eric
        Changed UPDCONTROL to put out messages about recompiling
        ZTRLOP, PP, et al only for non-binary jobs.
        Changed install.pl to make an AIPS symlink only if not MACPPC
        - that system confuses AIPS and aips.
        Moved nowhere.

11958.  October 31, 2005          FITLD                    Eric
        Rearranged code in UT2UV so that files will be closed on error
        to allow later file management to occur, trying to die
        gracefully.
        Moved nowhere.

11959.  October 31, 2005             VPLOT                 Eric
        VPLOT had a limit of 1000000 visibilities and when it got
        above that limit it kept counting and reading the data.  Then
        in plotting it thought it had much more data than it had.
        Changed to test the limit more carefully and to quit counting
        and reading at that point.  After testing this I raised the
        limit to 2000000.  Note that this is via dynamic memory
        anyway.
        Moved nowhere.

11960.  November 1, 2005           CALWR                 Eric
        Changed it to force the BLC and TRC to retain the center pixel
        as the center pixel in the output.
        Moved nowhere.

11961.  November 1, 2005       Cal models                 Eric
        Redid all the calibrator models so that the center pixel is
        the center pixel of the subimage actually shipped.  A feature
        in the imaging causes subimages that do not have this property
        to shift the object in self cal.
        Moved nowhere.

11962.  November 2, 2005          TECOR                    Amy
        Added the the ability to use a directory name, rather than just
        a environmental variable in INFILE.  This was needed for the
        VLBATECR procedure.
        Moved nowhere.

11963.  November 3, 2005      VLBAUTIL/VLBATECR            Amy
        New procedure that 1) looks at the header and NX table calculates
        the date and number or files it needs to downloads; 2) downloads
        the files using SYSTEM and the system commands wget, curl or
        ncftpget (depending on what is available) to the /tmp directory;
        and 3) runs TECOR.
        Moved nowhere.

11964.  November 7, 2005          BPASS, CPASS               Eric
        BPASS began with a call to CLSORT on CL table 1 for a VLBA
        data sets.  Then, if VLBA and ACONLY, it called a routine that
        handled shifting of the observation.  That called FRQUPD but
        told FRQUPD that the CL table was already open and sorted.
        The latter was true but not the former.  Dropped the call to
        CLSORT and changed the call to FRQUPD so that FRQUPD will open
        and sort the CL table if it is going to use one.  FRQUPD is
        smart enough to handle the absence of a CL table without
        complaint.
        CPASS for no visible reason called CLSORT as well.
        Moved nowhere.

11965.  November 8, 2005        CLCOR                      Leonia
        If the INFILE (opcode 'EOP') is loaded long ahead of the
        observation, then the last date with real data in the file
        can be too close to the OBSDAT or even precede it. The
        using the INFILE may be wrong in such a case.
        So CLCOR is terminated now in such a case and the relevant
        warning is issued.
        Moved nowhere.

11966.  November 9, 2005          install.pl             Eric
        Added code for AMD 64s to (1) recognize the architecture as
        LINUX but also set a new variable IS64, (2) remove
        -malign-double from FORTOPT when IS64 is YES, and (3) change
        the library in XAS' Makefile to lib64 when IS64 is YES.
        Now nothing special has to be done for the AMD 64s.
        Moved nowhere.

11967.  November 10, 2005          CVEL, BPASS          Eric
        CVEL has been dying in the Intel compiler.  With debug
        messages added but not actually output, it does not fail.
        I hate magic fixes.
        BPASS was corrected recently - previously it was supposed to
        read the CL table for autocorrelation bandpasses on the VLBA,
        but managed to avoid doing so.  When I fixed it to try to do
        so, all sorts of conflicting LUNs showed up.  Changed the LUN
        for table sort to 89 and 88 in TABSRT.  Changed 2 LUNs away
        from 49 which is used in FRQUPD and never closed.
        Moved nowhere.

11968.  November 14, 2005    subimage self-cal trouble    Eric
        When self-cal (or UVSUB or ...) with a sub-image, the tasks
        get confused if the original central pixel is no longer the
        central pixel.  Also, the tasks cannot tell if the imaging was
        done with 3-D or not.  I have decided to add 3 header
        parameters to tell the type of imaging (KIITY) with value 1
        for non 3-D and 2 for 3-D (and 0 says not to use the other 2
        parameters).  The other two parameters are the offset of the
        reference pixel from the numeric image center in the original
        image.  Changed:
        DHDR.INC    Add the 3 pointers
        VHDRIN      Compute the 3 pointers
        CATN2L      Send the new header data to-from networks
        IMCREA      Set the 3 parameters in the header
        IMHCOR      Set the 3 parameters in the header
        GRDAT       If the type is 1 or 2 get the XPOFF, YPOFF from
                    the header, else compute as before (wrong for
                    subimages)
        SETGDS      If header is 2 count image as do3d true
        SETDO3      If header is 2 count image as do3d true
        AU7A        GETHEAD and PUTHEAD on added keywords - PUT is
                    dangerous but will allow subimages to be corrected
        PUTHEAD     help file updated - include making new keywords
        GETHEAD     help file updated
        EGETHEAD    help file updated
        CALWR       add line of image type,xpoff, yposs
        FITTP       add line of image type,xpoff, yposs
        FITAB       add line of image type,xpoff, yposs
        DFIT.INC    add 3 parameters for reading tasks
        VFIT.INC    add 3 parameters for reading tasks
        Moved nowhere.

11969.  November 16, 2005        UPDUPDATE                Eric
        Changed the grammar of an or statement in the script - Solaris
        will not by or statements so far as I can tell.  This led to
        error messages that seem harmless if strange when I fixed the
        g77 options in $SYSSUL/FDEFAULT.SH.
        Moved nowhere.

11970.  November 17, 2005        UPDCONTROL               Eric
        Did not make a special report file for binary jobs any more
        but then tested the logical to see if it exists and is bigger
        than 0 bytes.  Solaris (again) does not like this.  Moved the
        file creation outside the if binary section.
        Moved nowhere.

11971.  November 17, 2005      DELZN                        Leonia/Eric
        The source file has had low dimension (30). It caused corruption
        of the OUTFILE if the actual source number exceeds 30!
        Fixed it increasing the dimension to MXSOU=100.
        Moved nowhere.

11972.  November 17, 2005        STARPL                 Eric
        The reading of the background image could get caught with a
        pixel slightly outside the image which would then get a bad
        window return from the read-init operation.  Fixed to suppress
        this edge effect.
        Moved nowhere.

11973.  November 18, 2005     DELZN                      Leonia/Eric
        Leonia made a mistake at the yesterday DELZN correction.
        Moved nowhere.

11974.  November 18, 2005          CALIB                Eric
        Changed it to calibrate weights when calibrating the
        single-source output file.
        Moved nowhere.

11975.  November 18, 2005         CHKFC                 Eric
        Changed it to allow F cards in the BOXFILE.  This requires
        adding the COORDINA adverb.  So also changed it to take
        NFIELD, RASHIFT, DECSHIFT, NBOXES, CLBOX and do the usual
        things with them.  This means that BOXFIL can be blank and the
        adverbs are used unless overridden by the BOXFILE.
        Moved nowhere.

11976.  November 20, 2005         3C286_L.MODEL         Amy/Eric
        Checked in Amy's new model
        Moved nowhere.

11977.  November 20, 2005          UVPLT                Eric
        Added FACTOR < 0 to tell it to connect the pplot points with
        lines.
        Moved nowhere.

11978.  November 20, 2005           Misc                 Eric
        WIPER - changed to free all dynamic memory rather than just
                one.  Some users reported troubles at exit.  Also did
                not die when some of the dynamic memory did not
                allocate properly.
        UVMLN - typo caused it to do history only when there was an
                error, this was backwards from desired.
        POSSM - added antenna number un upper right corner of
                appropriate plots (along with station info in upper
                left).
        Moved nowhere.

11979.  November 20, 2005         SNSMO                 Eric
        Changed VLBI to average rates only over polarization,
        previously rates were average over IF and polarization.  Added
        SMOTYPE VLRI to average rates (only) over IF also and
        explicitly have VLMB do so also.
        Moved nowhere.

11980.  November 21, 2005       LSAPROPO, ABOUT           Eric
        Updated HELP files LSAPROPO, and about files
        ADVERB    ANALYSIS  AP        CALIBRAT  CATALOG   FITS
        GENERAL   IMAGE-UT  IMAGING   MODELING  ONED      PLOT
        POPS      PROCEDUR  RUN       SINGLEDI  SPECTRAL  TABLE
        TASK      TV-APPL   UV        VERB      VLBI
        Fixed REAMP.HLP which declared CALIBRAT not CALIBRATION as its
        secondary keyword.  This messed up the SHOPH task.
        Also update the tab completion file HLPIT.LIS.
        Moved nowhere.

11981.  November 21, 2005          FIXBX                 Eric
        Added NGAUSS adverb.  Changed it to honor the input adverbs
        NMAPS and NFIELD rather than depend on the input box files.
        Changed the reading of those box files to include Clean box
        field numbers to set the number facets if the adverbs are
        zero.  Previously it ignored the input adverbs and depended
        solely on the box files.  BOXES already does most of this.
        Moved nowhere.

11982.  November 21, 2005       Flagged FG table records   Eric
        WIPER copied FG table records but did not test for such
        records being flagged.  Instead it died silently.  Added
        messages and omit the copy of flagged records.
        Also corrected subroutine FGREFM and tasks CLIPM, SNFLG,
        UVMLN, VPFLG, CALIB, DEFLG for this over sight.
        Moved nowhere

11983.  November 22, 2005           WIPER                Eric
        An addressing error (when BIF > 1) accessing dynamic memory
        arrays caused the freeing of the memory that was not used to
        abort the task.  Corrected the addressing error and the free
        now works.  Curious...
        Moved nowhere.

11984.  November 28, 2005            MK3IN                 Eric
        The precession change made a year ago had a typo - the output
        variables from the 2nd JPRECS call were supposed to be
        different than those of the 1st call and they were not.
        Moved nowhere.

11985.  November 29, 2005         IMSTAT, TVSTAT          Eric
        AU6D required that the number of iterations be > 0 as well as
        the Clean beam area be > 0.  Dropped that excess requirement
        (not in IMEAN).
        Moved nowhere.

11986.  November 30, 2005            CookBook                Eric/Amy
        Update text of CookBook:
        0    Drop recipe
        2    Change EXIT to KLEENEX
        3    Add QINP, drop some about deleting files outside AIPS,
             added KLEENEX to some EXIT references
        4    Changed to emphasize model usage in VLA calibration,
             CLCAL discussion add INVERS for range of SN tables,,
             SNPLT SYMBOL adverb, baseline correction reference web
             page pather than defunct vlais.
        5    typos, Add sentence on FLAGR, add references to RSTOR.
        6    XGAUS et al under TV as well, deprectae TEK, TAPLT subtle
             reword
        7    TV under XGAUS, UVMOD spectral index, IMMOD up to 4
             sources, SPIXR paragraph
        8    Paragraph MCUBE DOCONCAT = 2 option
        9    www addresses, TECOR changes incl VLBATECR, VLBAEOP, CLCOR
        12   Useful verbs and tasks for procedures section.
        13   Update ABOUT files
        B    Corrected CLCAL entry to SAMPTYPE BOX and warning about
             changed adverbs.
        C    www addresses, added flagging info for external
             telescopes, EOPS and TECOR helpful procs
        D    Fix www addresses - including change to AIPSprovided cal
             models
        I    Updated
        Also COOKBOOK.PDF and html files.
        Moved nowhere.

11987.  December 1, 2005              CTINI                  Eric
        Corrected CTINI - one of the keyword types was not set due to
        a typo.  Why did this work?  Anyway, also added code to close
        the table on error so the LUN will not stay open.
        Affected FITLD mostly.
        Moved nowhere.

11988.  December 1, 2005             UVPRT                   Eric
        Change format of Weight scaling message.
        Moved nowhere.

11989.  December 1, 2005           3c$8 X band model         Eric
        Compressed the CC file.
        Moved nowhere.

***********************************************************************
***********************************************************************

                 Changes while 31DEC05 is NEW

***********************************************************************
***********************************************************************

11991.  December 4, 2005        TVFLG, SPFLG                 Eric
        The gridding routine needed a +0.001 to avoid numeric errors
        with computing the row to grid.
        Moved to 31DEC05 this date.

11992.  December 6, 2005             APCAL                   Eric
        Bad call seq to PLCLOS caused Intel load modules to abort.
        Moved to 31DEC05 this date, nowhere else.

11993.  December 6, 2005           IMAGR                    Eric
        MINPCH was allowed to change to match window sizes etc.
        Fixed to use a local value based on the user's MINPATCH
        without changing the user's value in routine CDECID in QCLEAN.
        Moved to 31EC05 this date, nowhere else.

11994.  December 8, 2005            install.pl             Eric
        Made grammar changes suggested by Chris Phillips (ATNF) and
        also added a read after an information display (of available
        OS flavors) so that the user has time to read the display.
        Moved changes to 31DEC05 this date.

11995.  December 9, 2005           DSORC                   Eric
        Olaf Wucknitz (Jive) pointed out an error in the routine that
        calls the source changing so that the changing was done on the
        input not the output.
        Moved to 31DEC05 this date.

11996.  December 9, 2005           CCRES                   Eric
        NEW TASK - like RSTOR except that it uses brute force methods.
        Thus it can subtract and/or add Celan components from/to any
        image without requiring the components to be on cells or the
        images to be powers of 2 in size.  A model file of varying
        Gaussian widths may be subtracted or added also.
        Moved to 31DEC05 this date.

11997.  December 12, 2005          TVCPS                   Eric
        Corrected it to read more than one image from disk when more
        than one is visible.  Note that this works only when the
        images are on different image planes and are the same in
        general image size and coordinates.
        Moved to 31DEC05 this date, nowhere else,

11998.  December 16, 2005          CPASS                 Eric
        Changed it to accept error code 3 from the solver as normal,
        error code 2 is reported but the answer accepted anyway (no
        converge), and so it dies only on error code -1 - input
        parameter error.  Fixed help file to tell defaults and suggest
        that many iterations and larger tolerance is needed.
        Moved to 31DEC05 this date.

12001.  December 29, 2005         *GEOM helps             Eric
        The explain files for LGEOM, HGEOM, and PGEOM used the APARM
        nomenclature for the order of interpolation in part and then
        used the actual order number in the rest of the explanation.
        Changed it to use the APARM(n) nomenclature solely.  The order
        is APARM(n)/2 where n=1 for HGEOM and n=6 for the other two.
        Moved to 31DEC05 this date.

12003.  January 4, 2006 VLBAUTIL, VLBALOAD, VLBAEOPS, VLBATECR Amy
        Fixed VLBALOAD, the final INDXR did not work if people
        used the new load data from disk option.
        Fixed VLBAEOPS and VLBATECR to set SYS2COM and SYSOUT to ''
        at begining
        Moved nowhere - later to reopened 31DEC05.

12004.  January 5, 2005           XASERVERS, UNIXSERVERS     Eric
        There are too many sites for which the quote marks do not work
        in the xterm -e 'message-server ; sleep 3 ' commands and only
        one site that I am sure requires them.  Of course the sleep 3
        lets the sites that cannot use the quotes to read the message.
        I have dropped the quotes so some sites will now have an xterm
        flash by with no way to see what is wrong.
        Moved to a re-opened 31DEC05 this date.

12006.  January 6, 2006            TVUTIL                 Eric
        Missed one variable that needs to be LONGINT - caused DOTV in
        IMAGR to abort on AMD 64s.
        Moved to 31DEC05 this date.

-------------------------   PATCHES   -----------------------------


12011.  January 17, 2006         DBCON                 Eric
        Fixed code to handle FQ entries that do not have the same
        channel width (in magnitude or sign) as the header.  This
        matters when the reference channel is changed to 1.
        Moved nowhere - moved to 31DEC05 patch 21 Feb.

12014.  January 19, 2006          DSMEAR                  Eric
        This VLBI de-smearing routine did not handle FQIDs correctly.
        It should test for a match or for either the CQ table or the
        calling routine FQ <= 0.  It only tested for a match so when
        there is only 1 FQ and hence no FQID parameter, the routine
        failed.  Made fixes to BPASET, BPGET, CSLGET to require > 0
        for both FREQ IDs or a match.
        Moved nowhere - moved to 31DEC05 patch 21 Feb.

12016.  January 23, 2006             SAD                 Eric
        Fixed the routine that computes a string of the RA/Dec in
        sexagesimal.  The round-off terms were not reduced when the
        accuracy was increased - the resulting display was 0.0005
        seconds of time and 0.005 seconds of arc too large.
        Moved nowhere - moved to 31DEC05 patch 21 Feb.

12021.  January 30, 2006             WIPER               Eric
        Corrected source number initialization to -1 since 0 is what
        one gets for single-source files and elevation etc require a
        source parameter lookup.  Added a call to IAXIS1 to display
        axis labels whenever the full image is visible.
        Moved nowhere, source number to 31DEC05 patch 21 Feb.

12035.  February 20, 2006           SETFC                Eric
        Found an error in setting the boxes around NVSS sources.  The
        X position was computed by dividing the RA difference by the
        cos of declination.  That should be a multiplication when
        converting to pixels.
        Moved nowhere - moved to 31DEC05 patch 21 Feb.

12037.  February 21, 2006         FLATN                    Eric
        Changed INTERPLATE.FOR - several intermediate variables needed
        to be LONGINT.
        Moved nowhere - moved to 31DEC05 patch 21 Feb.

12038.  February 22, 2006          IBLED                   Eric
        Changed:
        1. UVGET  had a bad error message which had mismatched
                  variable list and format
        2. IBLED  did not set error returns in the init routine and
                  did not check for them in main
        3. IBLED  did not provide a sensible default for NMAPS and
                  used numerical values for call arguments that are
                  in/out
        4. IBLED  perhaps due to changes in FACGRD failed to detect
                  missing model images (it looks for I, R, and L) and
                  quit instead if all 3 were not present.
        Moved nowhere - IBLED went to patch 31DEC05 23 Aug 2006.

12047.  March 6, 2006              TABF3D                  Eric
        Fixed TABF3D subroutine so that the default column count is 1.
        It was returning zero.  Linked FITLD, UVLOD, IMLOD, etc.
        Moved nowhere, went to patch 31DEC05 23 Aug 2006.

12105.  May 16, 2006              MBDLY                  Eric
        A call sequence got messed up with an extra argument.  Caused
        it to have bad antenna number, time, rate, source ID and
        source name.
        Moved nowhere, went to patch 31DEC05 23 Aug 2006.

12165.  August 23, 2006            CCEDT                     Eric
        Changed the automatic boxing code a bit more - removing an
        infinite loop situation occasioned by the old code combined
        with the newer code which reduced the amount that DX and DY
        are adjusted in each cycle.  Dropped error messages for things
        that are really not errors.  Note however that CCEDT
        automatic code gets different answers than it used to.
        Moved nowhere, went to patch 31DEC05 23 Aug 2006.

12166.  August 23, 2006             IBLED                    Eric
        Found an error in which the window limits were computed as if
        IYP(1) < IYP(2) immediately following a computation  that had
        them opposite!  This caused error bars on phase plots to
        produce TV errors killing the task.
        Moved nowhere, went to patch 31DEC05 23 Aug 2006.
