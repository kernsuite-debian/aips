-----------------------------------------------------------------------
;  Copyright (C) 1995
;  Associated Universities, Inc. Washington DC, USA.
;
;  This program is free software; you can redistribute it and/or
;  modify it under the terms of the GNU General Public License as
;  published by the Free Software Foundation; either version 2 of
;  the License, or (at your option) any later version.
;
;  This program is distributed in the hope that it will be useful,
;  but WITHOUT ANY WARRANTY; without even the implied warranty of
;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;  GNU General Public License for more details.
;
;  You should have received a copy of the GNU General Public
;  License along with this program; if not, write to the Free
;  Software Foundation, Inc., 675 Massachusetts Ave, Cambridge,
;  MA 02139, USA.
;
;  Correspondence concerning AIPS should be addressed as follows:
;          Internet email: aipsmail@nrao.edu.
;          Postal address: AIPS Project Office
;                          National Radio Astronomy Observatory
;                          520 Edgemont Road
;                          Charlottesville, VA 22903-2475 USA
-----------------------------------------------------------------------
         This file must be used to record any changes made to the the
master version of AIPS kept in Charlottesville.  An entry is:

   line 1: Date Program name Your name
   line 2: What was done
   line 3: Where has this change been moved (e.g. 15OCT90)
   line 4: Blank

 The details of line 1 are important since programs are used to find
 specified strings and do conversions on them.  It MUST be typed as
 follows: 1 blank, 4 digits, a period, two blanks, then the Month,
day,
 comma, year, some space, a title, some more space, your name.


                    Changes to 15APR93 (aka 15JUL93)


***********************************************************************

        Changes while 15APR93 was TST:
        (Note: change 7568, April 28 renames 15APR93 to 15JUL93)

***********************************************************************

***********************************************************************

 7097.  August 25, 1992 ZABOR2 Chris/Eric
        Noticed that floating-point errors cause no interupts when
        debug is invoked even if the particular task is not running
        debug.  The new ZACTV9 means that the parent process will have
        departed unless it is the debugger and, hence, on non-debug, the
        parent process id is 1 for root after the real parent is gone.
        Changed $APLSUN/ZABOR2.C.  Also versions in $APLUNIX, $APLBERK,
        $APLDEC, $APLIBM, $APLBELL, and $APLCRI.
        Moved to 15OCT92 (NEW) this day.

 7098.  August 25, 1992 VLBIN Phil
        The switch cycle change to VLBIN had a minor problem, a divide
        by zero was introduced.Moved offending line to correct place.
        Moved to 15OCT92 today.

 7099.  August 25, 1992 $SYSIBM/FCOPTS.SH Pat
        Added some optimization features that should improve the
        performance of AIPS on IBM RS/6000 models.  These came from
        the parameters used by IBM in their RFP (AUI-504) response
	when they benchmarked AIPS on several models.  The -Pv flag
	makes the compiler use a different preprocessor which
	according to IBM should result in a 5% speedup.  The -ND and
	-NA flags increase compiler space for variables which
	apparently has a significant effect on speed of execution.
	Moved to 15OCT92 today.

 7100.  August 25, 1992 $APLNOT/TYINI.FOR Pat
	Inserted a change for Gustaaf Van Moorsel and Gareth Hunt.  A
	change in band during a run was causing NKEY to become too
        large and (on IBM's at least) was causing DTYP to get overwritten.
	FILLM then bombed.
	Moved to 15OCT92 today.

 7101.  August 25, 1992 tape writing Eric
        Added new opcode to $APLGEN version of ZTAPE.  BEGW causes ZTAPE
        to BAKF 1, write 2 EOFs, and then BAKF 1 (or 2 if it's at the
        beginning of tape).  Added call to this operation to FITTP.
        This allows one to write to Exabyte 8200 tape devices even at
        places other than beginning-of-tape and end-of-information, and
        at least does not hurt other devices.  It does cost some time
        (56 second in one Exabyte test), and it means that a bad call to
        FITTP immediately writes on the tape, even if the other adverbs
        cause the task not to write any data.  It does prevent the error
        of writing in the middle of a file which FITTP allowed (by
        oversight I assume) previously.  Removed the special $APLSUN
        versions of ZTAPE since the EOM option was removed from BAKTP
        last May.
        Moved to 15OCT92 as well from the VLA.

 7102.  August 25, 1992 DBCON Eric
        DBCON has an array called JORD that allows the correlators to be
        rearranged in order.  It was dimensioned only 2000!  A simple 2
        Stokes, 512-channel data set required over 3000.  Changed it to
        20000 and added an error test on the new limit.  Raised all
        buffer sizes from 5000 to 8192 also.
        Moved to 15OCT92 as well from the VLA.

 7103.  August 25, 1992 SPFLG Eric
        Added new operation - show next baseline.  Changed the fortran
        and also SPFLG.HLP and HLPSPFLG.HLP
        Moved to 15OCT92 as well from the VLA.

 7104.  August 25, 1992 PRTTP Eric
        Added progress messages and record/byte count message.
        Correct buffer size on each file - allows special TAPIO that
        limits buffer size on read (for dats).
        Moved to 15OCT92 as well, from VLA.

 7105.  August 25, 1992 plotting Eric
        Corrected the algorithm which interpolates vectors to fit in the
        plot area.  Changed LWPLA, GVEC, TVPL, QMSPL, TXPL, and, CANPL.
        This caused a serious error in LWPLA where position commands go
        to the printer.  TVPL etc. survived better if the plot program
        was not too criminal.  Also added YHOLD calls to TVPL.
        Moved to 15OCT92 as well, from VLA.

 7106.  August 25, 1992 UVLSF Eric
        Corrected a bug which caused the output continuum values to be
        determined at ECHAN+1 rather than at the specified channel.
        Moved to 15OCT92 as well, from VLA.

 7107.  August 26, 1992 T2DHMS Eric
        Corrected version of TODHMS - returns the time in sexagesimal
        form with a sign in a character variable.  TODHMS should be
        gradually replaced.
        Moved to 15OCT92 as well, from VLA.

 7108.  August 26, 1992 POSSM, EXTLIST Eric
        Changed it to plot a line at 0 in phase, real, and imaginary.
        Fixed it to position inside the plot for blanked channels.
        Changed it to try to fill the screen when DOTV is true.  Changed
        its handling of times to make it much simpler and to avoid
        various format overflows.  Corrected the exterior character
        counts.  Changed it to use the interactive option in GFINIS when
        doing multiple plots (SOLINT > 0) on the TV.  Also corrected and
        enhanced AU8A (verb EXTLIST) to describe POSSM plots better, and
        get correct units in UVRANGE in UVPLT.  Fixed POSSM to be more
        careful to fill in the parameters in the plot header for EXTLIST.
        Moved to 15OCT92 as well, from VLA.

 7109.  August 26, 1992 TVMOVI, TVBLNK Eric
        Changed timing formulae and changed them to skip the ZDELAY call
        entirely when trying to go their fastest.
        Moved to 15OCT92 as well, from VLA.

 7110.  August 31, 1992 $APLOOP/OBJECTMNGR.FOR Bill C.
        Added UV data class with virtual keyword support for catalog
        header values.  Also added virtual derived keyword 'LREC' for
        the record size.
           Added routines OBH2C and OBC2H to deal with character
        arguments being declared as either a single character string or
        an array of character strings.  This removes the necessity of
        equivalencing an string array to a single long string when
        reading or writing strings to an object.
        Moved nowhere.

 7111.  August 31, 1992 $APLOOP/GENERIC.FOR Bill C.
        Added UV data classes to the generic functions.
        Moved nowhere.

 7112.  August 31, 1992 $APLOOP/UVDATA,UVUTIL.FOR Bill C.
        New, rudimentary UV data class.  Also added utility library
        UVUTIL.FOR although there's not much in it.
        Moved nowhere.

 7113.  August 31, 1992 $APLOOP/UVDESC.FOR Bill C.
        New uv data descriptor class.
        Moved nowhere.

 7114.  August 31, 1992 $APLOOP/CALEDIT.FOR Bill C.
        New uv data selection/calibration/editing class.
        Moved nowhere.

 7115.  August 31, 1992 $APLOOP/INPUT.FOR Bill C.
        Added support for logical values passed from POPS.
        Moved nowhere.

 7116.  August 31, 1992 $APGOOP/MBDLY Bill C.
        New task.  Fits multi band delays from individual IF fringe
fit
        results.  This task is useful for determining multiband delays
        when the IFs are widely spaced in frequency.
        Moved nowhere.

 7117.  August 31, 1992 tape routines Eric
        Added more explanatory error messages to $APLGEN versions of
        ZTAPE (for remote tapes), ZTPMIO, and ZTPWAT, to the $APLIBM
        version of $ZTPMIO, and to the $APLCVEX version of ZTPOPN.
        Moved to 15OCT92 as well, from the VLA.

 7118.  August 31, 1992 ASCAL Eric
        Added deprecatory comments to the inputs header and help file.
        Moved to 15OCT92 as well, from the VLA.

 7119.  September 1, 1992 $APGOOP/CL2HF Bill C.
        New task.  Converts AIPS CL table and associated tables and
data
        to a Haystack type HF table.  This task is intended to be part
        of the data path from AIPS to the Haystack/Goddard
        geodetic/astrometric package.
        Moved nowhere.

 7120.  September 1, 1992 VBPLT Phil
        Added a new option to VBPLT - it will now average spectral
        channels and/or IFs on the fly before plotting. The labels
        on the plots let the user know what channels/IFS have been
        averaged. VBPLT.HLP has a couple of new adverbs. Also added a
        subroutine (AVGCIF) to APLSUB to do the averaging.
        Moved nowhere.

 7121.  September 1, 1992 PRTGA Eric
        When DOCRT TRUE, it would take a Q to mean loop for the next set
        of data rather than quit all the way.  Changed its error
        handling to stop this.
        Moved to 15OCT92 as well, from the VLA.

 7122.  September 1, 1992 UVINIT Eric
        Changed it to read only the bytes needed (as it does in UVDISK)
        rather than a disk sector more than needed.  This was taking us
        off the end of file when the first or second read reached the
        last visibility.
        Moved to 15OCT92 as well, from the VLA.

 7123.  September 1, 1992 CALIB, FRING Eric
        The call to ZCMPRS was making the file too small.  The correct
        formula for file size is NVIS * LREC + 2 * NBPS.  Adding 128
        vis's rather than the 2 disk sectors is not right although all
        other tasks do it.  We should add 1 vis for safety plus the 2
        sectors.  Changed CALIB and FRING which were too small.  The
        rest can wait until I really need something mindless to do.
        Moved to 15OCT92 as well, from the VLA.

 7124.  September 1, 1992 labeled tapes Eric
        If one is reading more than one record then one cannot simply
        advance file on every tape label record.  In fact, it would be
        wise to read them all and do no file skipping.  Changed TPHEAD
        and TPIOHD to do this.
        Moved to 15OCT92 as well, from the VLA.

 7125.  September 2, 1992 $APLSUB/SHIFTP.FOR Glen
        New subroutine which calculates the U,V and W terms for the
        phase shift of an image center (or clean component).  Modified
        MX, UVMAP, GRDAT and MAKMAP to use SHIFTP.
        Moved nowhere yet.

 7126.  September 2, 1992 SMOSP Phil
        SMOSP was never dealing with flagged channels - could cause
        severe problems when interference was present. Now does it
        correctly.
        Moved nowhere.

 7127.  September 3, 1992 FILLM Gustaaf
        Added several fixes:
        1 - FILLM failed to recognize a spectral line data base of ONE
        channel as such. Instead, it attempted to add the data to an
        existing (and already open) channel 0 map. In the fix the data
        bases are labeled as 'channel 0' or 'spectral line'.
        2 - Antenna files were labeled with the frequency of the
        PREVIOUS data base; the first data bases had frequency 0.  Fixed
        updating of the catalog in routine ANTFLM.
        3 - On Eric's suggestion made change in FLMCLS. To LSIZE, input
        parameter to ZCMPRS, an extra term 2*NBPS was added. Its absence
        has not led to FILLM problems thus far, but other tasks failed
        when such a term was missing, suggesting potential problems for
        FILLM, too.
        Moved to 15OCT92 as well

 7128.  September 3, 1992 UVGLU Gustaaf
        When the number of channels in the first data set (nch1) is
        smaller than that in the second data set (nch2), only nch1
        channels in the second set are written correctly to the output;
        the remaining nch2-nch1 are set to zero. This is for compressed
        data only. The error was caused by an incorrect parameter of the
        expansion routine ZUVXPN for the second input data set. This was
	fixed.
        Moved to 15OCT92 as well.

 7129.  September 3, 1992 PTAB.INC Chris
        New parameter include file.  This defines mnemonics for the
        AIPS table type codes so that we don't have to keep looking
        them up in "Going AIPS".  The mnemonics are as follows.
          TABDBL double precision floating-point
          TABFLT single-precision floating-point
          TABHOL Hollerith (4 characters per word)
          TABINT integer
          TABLOG logical
          TABBIT bit string
          TABSEL select flag
        Also defined the following mnemonics for the IRCODE argument
        to TABIO.
          TIOROW table row
          TIOPTR DATPTR/DATYPE record
          TIOSEL data selection string
          TIOTTL column title
          TIOUNT column units field
          TIOKEY keyword/value pair
        Moved nowhere.

 7130.  September 4, 1992 $APLOOP/UVDESC,IMAGEDESC.FOR Bill C.
        Fixed misspelling of 'DATE-OBS', 'DATE-MAP' and 'CRPIX' in
        data statment.
        Moved nowhere.

 7131.  September 4, 1992 $APLOOP/CALEDIT,VELOCITY Bill C.
        Fixed bad argument list to SECGET and VELGET.
        Moved nowhere.

 7132.  September 4, 1992 SNPLT Phil
        Suppressed an error message that occurred when plotting
        variables against elevation/HA and the source column in the
        table was not filled in. Task finished OK but filled the screen
        with a particular error message on occasion.
        Moved nowhere.

 7133.  September 5, 1992 FITS tapes Eric
        In order to preserve header keywords and their values when data
        are written to FITS tapes and read back, invented form
           HISTORY AIPS HEADERi keyword = value / comment
        where i is the type code and changed
        FITTP to write all header keywords out in this form.
        GETCRD to recognize such cards and return IERR = -1 to indicate
                their presence.
        PUTCRD to parse such cards and write keywords into the new
                header file (new routine).
        IMLOD to call PUTCRD when needed in subroutine FITHDR.
        UVLOD to call PUTCRD when needed in subroutine UVFHIS and
                to handle HI file errors better.
        FITLD to call PUTCRD when needed in routines IMGHDR and
                UVFHIS, to handle HI errors better in UVFHIS, to loop to
                1000000 header cards everywhere, to call PUTCRD in
                BTFHIS when needed, to copy the header keywords into
                the output uv file in the new tables uv format, and to
                reset the read/write status for uv files so that good
                files are not deleted on subsequent errors.
        Moved to 15OCT92 as well.

 7134.  September 7, 1992 MX, GRDAT, MAKMAP Glen
        MX modifications to add the History and AN tables to the UVWORK
        dataset.  Modified GRDAT and MAKMAP to use the $APLSUB/SHIFTP
        subroutine to calculate the phase terms for the field shifts.
        Moved ot 15OCT92 as well.

 7135.  September 9, 1992 $APLOOP/OBJECTMNGR.FOR Bill C.
        Fixed problem with virtual derived keyword LREC in uv data
        class.
           Also changed the name to OBJMNGR.FOR to avoid problems with
        the long name.
           Also corrected the arguments to LEN to be the first element
        of the array.
        Moved nowhere.

 7136.  September 10, 1992 $APLOOP/TABLE.FOR Bill C.
        Added routine TBLCOP to copy the contents of a table.
        Moved nowhere.

 7137.  September 10, 1992 $APLOOP/TABLEUTIL.FOR Bill C.
        Added routine OCHNCO to copy the selected contents of an FQ/CH
        table.
        Moved nowhere.

 7138.  September 10, 1992 $APLOOP/UVDATA.FOR Bill C.
        Modified OUVSCR to honor selection by channel, IF and
        polarization.
           OUCREA now sets UV_DESC values for ANAME, FNAME, FDISK.
           OUVOPN now uses FNAME from UV_DESC when opening a file for
        write as it might be a scratdh file.
        Moved nowhere.

 7139.  September 10, 1992 $APLOOP/UVDESC.FOR Bill C.
        Added missing class members.
        Also fixed UVDCOP not to attempt to copy virtual keyword LREC.
        Added missing items: EPOCH, OBSERVER'
        Moved nowhere.

 7140.  September 10, 1992 $APLOOP/UVUTIL.FOR Bill C.
        Added the following UV class utility routines:
        OUVDFT - DFT a uv data set to an image; driver routine.
        UV2SCR - copy a uv data set to a scratch file
        U2IDES - Copy descriptive info from a uvdata object to an image.
        UVREFQ - Determine reference frequency of a uv data set with
                 possible averaging in frequency.
        UV2TAB - Makes a table object associated with a uv data object.
        Moved nowhere.

 7141.  September 15, 1992 $QOOP/QUVUTIL.FOR Bill C.
        New library for OOP UVdata utility routines calling "Q"
        routines.
        OUVDFT - DFT a uv data set to an image; driver routine.
        ODFT - Low level DFT routine
        OUNFWT - Front to UVTBUN, uniform weighting routine.
        Moved nowhere.

 7142.  September 15, 1992 $QOOP/APUTIL.FOR Bill C.
        New library for OOP utility routines calling "Q"
        routines. Mostly moving data between an object and the "AP'.
        AP2IMG : Copy an image plane from "AP" memory to an image
        object.
        IMG2AP : Copy an image plane from an image object to "AP"
        memory.
        AP2UV Copy a set of visibilities from the "AP" to uv object.
        UV2AP: Copy a set of visibilities from a uv object to the "AP".
        Moved nowhere.

 7143.  September 10, 1992 $APLOOP/IMAGE.FOR Bill C.
        Fixed IMGOPN to create output files if necessary if OPEN was for
        write.
        Moved nowhere.

 7144.  September 10, 1992 $APLOOP/IMAGEDESC.FOR Bill C.
        Added missing items: EPOCH, OBSERVER'
        Moved nowhere.

 7145.  September 10, 1992 $APLNOT/UVGET.FOR Bill C.
        Modified to allow using scratch files.
        Moved nowhere.

 7146.  September 10, 1992 $APLOOP IBM fixes.  Bill C.
        Made numerous fixes which may have been causing trouble on IBMs.
        Most modules contained form feeds (^L) which have been removed.
        Also fixed fortran problems in TABLE.FOR and HISTORY.FOR.
        Moved nowhere (but similar changes should be made in OCT92).

 7147.  September 10, 1992 $SYSUNIX/FDEFAULT.SH Pat
        Modified the default compile option for IBM/AIX so that it now
        uses -qcharlen=10000.  The 5000 previous limit was causing
        problems for one of the APLOOP routines.
	Moved nowhere yet, maybe to 15OCT92 soon.

 7148.  September 10, 1992 IBLED Phil
        Due to an indexing error the interactive flag option no longer
        worked - fixed. The select frame option did not do what users
        expected - it adjusted the selected frame window to put the
        centre portion in the editing frame if it was too big -
        changed so that it would downsize the frame but keep the start
        pixel the same. Also increased the MAXVIS from 8192 to 16384.
        Moved to 15OCT92 today.

 7149.  September 10, 1992 UVMAP Glen
        Small modification to UVMAP to do exact field phase shift
        calculations.  Uses subroutine SHIFTP.
        Moved to 15OCT92 today.

 7150.  September 10, 1992 TV common Eric
        Added parameter TVIMPC = TV images per color to DTVC.INC.
        This has values 0 for one image only (e.g. XAS on workstations),
        1 for one image channel per color (e.g. Deanza), and > 1 for
        more than one channel displayed at a time in whatever color
        (e.g. IIS Model 70).  Changed $YDEA, $YM70, $YM75, $YIVAS, $YSS,
        and $YGEN versions of YTVCIN to show the correct value.  Added a
        line to ask for the parameter to SETTVP.  TVHUI uses this to
        do a 3-channel display on TVs which support it.
        Moved to 15OCT92 as well.

 7151.  September 11, 1992 TVHUI Eric
        New task to display two images on the TV using one to control
        the intensity and the other the hue.  This works rather well on
        all TV types, allowing interactive manipulation using a
        decremented subimage with the full image updated on button C.
        An output file with an RGB axis may be written.  A special
        mode for TVs better than XAS (i.e. separate images in RGB) is
        supported.
        Also a help file.
        Moved to 15OCT92 as well.

 7152.  September 11, 1992 PRTHI Eric
        AU7 had a limit of 10000 history cards and forgot to issue the
        error message.  Changed to display the warning and to continue
        when DOCRT is > 0.
        Moved to 15OCT92 as well.

 7153.  September 14, 1992 $SYSUNIX/STARTPMON Pat
        Clarify some error messages, issue errors if there's a new
        TPMON.EXE and an old TPMONx and the process won't die, etc.
        More important, use $TST/$ARCH/LOAD instead of $LOAD.  This
        prevents the use of OLD or NEW versions of TPMON.
	Moved to 15OCT92 today.

 7154.  September 15, 1992 $APLIBM/ZMOUN2.C Pat
        Fixed logic that figures out the OS version (3.2 or higher vs.
        anything lower) and subsequently whether to do a REWIND or
        UNLOAD.  Latter is only available to tctl in AIX 3.2 and higher.
        Moved to 15OCT92 today.

 7155.  September 15, 1992 DUVH.INC/UVPGET Phil
        Added the integration time as a random parameter to uv-data.
        Needed a small change in DUVH.INC and UVPGET. However a large
        number of subroutines in APLNOT, APLSUB, APLOOP and QNOT need
        to be recompiled. Some tasks (see below) need minor work.
        Moved nowhere.

 7156.  September 15, 1992 $APLPGM/PRTTP Glen
        Needed some info about dates on PRTTP PRTLEV = -2 and -1.  Now
        attempts to print observation date, frequency and random axies
        or number of visabilities.  Removed listing tables for PRTLEV
        = -2.  (With DATs with 250 files, any extra lines added up to
        alot of extra paper.)
        Moved nowhere.

 7157.  September 15, 1992 Integration time Phil
        Modified VLBIN and MK3IN to record the data integration as
        a random parameter. Also changed DBCON local common to know
        about the new r.p. Other tasks will need to know about this
        soon, will let these changes trickle through first.
        Moved nowhere.

 7158.  September 15, 1992 $APLOOP/HISTORY.FOR Bill C.
        Modified how buffers are obtained.  OBOPEN and OBCLOS are now
        used rather than OOPEN and OCLOSE.
        Moved nowhere.

 7159.  September 15, 1992 $APLOOP/UVUTIL.FOR Bill C.
        Fixed typo in U2IDES which caused shifts in declination to be
        ignored.
        Moved nowhere.

 7160.  September 15, 1992 $APGOOP/UBAVG.FOR Bill C.
        New task to do baseline dependent time averaging of "BT" sorted
        data.  The time averaging is set by a field of view and a
        maximum averaging time set by the user.
        Moved nowhere.

 7161.  September 15, 1992 $APLOOP/UVDATA.FOR Bill C.
        Fixed bug in OUCFCL which occasionally left MAPCLR trying to
        clear the status from files on disk 0.
        Moved nowhere.

 7162.  September 15, 1992 BS tables Chris
        Added routines to support baseline fringe solution (BS)
        tables to APLNOT (BSINI.FOR and TABBS.FOR).  Also added
        OO-AIPS wrappers for these to the routines in
        APLOOP:TABLEUTIL.FOR.
        Moved nowhere.

 7163.  September 15, 1992 EXPLAIN Eric
        Changed AU1A to use the correct LUN when closing printer files
        and to branch properly on error so that all things get closed.
        Moved to 15OCT92 as well.

 7164.  September 15, 1992 XBASL Eric
        Corrected one buffer size from 512 to 4096 -- it was the
        declaration that created the actual core array which was
        declared 4096 in subroutines to which it was passed!  Added
        DOCONT adverb to the help file and code.  If DOCONT is true,
        the average baseline is restored to the data (this was the
        only "choice" before).  Changed the selection for fitting so
        that all spectra are fitted for baselines if they have enough
        unflagged points.  Only those with enough high points are
        displayed for the interactive bits however.  Changed the test on
        "high" points to be high in absolute value.  This allows
        absorption signals.
        Moved to 15OCT92 this date.

 7165.  September 17, 1992 $APGNOT/XTRAN Glen
        Increased maximum image size to 3000 by 3000 pixels. Other
        minor improvements.
        Moved to 15OCT92 this date.

 7166.  September 17, 1992 $APLPGM/STARS Glen
        Minor help file improvements.
        Moved to 15OCT92 this date.

 7167.  September 17, 1992 $HLPFIL/SETJY.HLP Rick/Glen
        Editted and inserted Rick's explanation of the VLA values
        of the flux density scale into the HELP file.
        Moved to 15OCT92 this date.

 7168.  September 17, 1992 TVRGB Eric
        New task to load an RGB cube - or 3 independent images, one
        each for red, green, and blue - to the TV.  It uses 3 channels
        on those TVs which can show 3 independent channels in separate
        colors.  On the lest capable TVs - mainly XAS - it uses a color
        optimization scheme due to Jef Poskanzer to encode the most
        popular colors into the (few = about 200) colors available.
        Interactive enhancement is also offerred.
        Moved to 15OCT92 today too.

 7169.  September 18, 1992 MK3IN Bill C./Athol
        Fixed bugs in differential precession correction to u,v.  The
        apparent rather than mean positions were being used and there
        was no cos(declination) factor in computing the rotation.
        Moved nowhere.

 7170.  September 18, 1992 FRING Phil
        Minor change to a format statement
        Moved nowhere.

 7171.  September 18, 1992 TV tasks Eric
        Changed TVHUI to release the TV before making the output image.
        Changed TVRGB to make the number of color levels actually used
        in color optimization a user-controlled option with 40 as an
        upper limit (64000 colors).  Changed TVRGB to check the RGB axis
        parameters carefully and use the colors in correct order when
        they start in some other order.  Correct bug limiting windows in
        TVRGB, made the instructions come out more often, moved the
        reset of the OFM to just when the picture is loaded, and
        improved the progress messages.  Added the new option to the
        TVRGB help file.
        Move to 15OCT92.

 7172.  September 21, 1992 TVHUI Eric
        Changed the LUT version of TVHUI coloration to avoid much of the
        use of LUTs.  It was doing a simple multiply, so why bother with
        the logs and exponentials required by the IIS?  The color
        filters are still computed once into LUTs and the hue used as
        the index into them.  Changed the output routine to do no
        scaling of the intensity image since the coloring routines no
        longer require that help and it was leading to some odd biases
        in the output.
        Moved to 15OCT92 this date.

 7173.  September 22, 1992 ISHSRT Eric
        New service subroutine - does shell sort with two keys on an
        integer array.  SHSORT does it on floating arrays.  Changed
        TVRGB to use the public one rather than a private copy of
        ISHSRT.
        Moved nowhere.

 7174.  September 22, 1992 $APLSUB/PRTLIN Glen
        New duplex printers were always producing a blank first page,
        because PRTLIN was inserting a formfeed as the first print
        character.  Added logic to PRTLIN to exclude the very first
        formfeed.  All print tasks will have to be re-linked.
        Moved nowhere.

 7175.  September 22, 1992 UVAVG Phil
        Found and fixed the bug that had been dogging us for a while.
        On the final call to UVAVDO the call sequence was laced with
        BUFF2 statements rather than BUFF1 - this caused problems inside
        UVAVDo when the freqid and source id etc were extracted from
        these arrays.
        Moved nowhere - its too late.

 7176.  September 23, 1992 PP Eric
        Changed PP.FOR versions from $SYSUNIX and $SYSVMS.  Corrected
        error handling include names like 'MYAREA:DXXX.INC' and
        revised it to allow include files to include files which
        include files.  That is - three levels are allowed.  PP
        watches for - and skips - any file included twice in a
        subroutine or function.  When it does this, it changes the
        include statement into a comment with SKIPPED instead of
        INCLUDE.  Now, for example, a local include can include DSEL.INC
        and DSEL.INC can avoid errors by including its parameter
        definitions (PUVD.INC).  Existing code that already includes
        these all "by hand" will not be affected.  Copied a PP.EXE
        to $SYSLOCAL for the SUNs.  This will have to be done for
        all architectures as the file is copied by the midnight job.
        Moved nowhere.

 7177.  September 23, 1992 UCMPRS Eric
        This routine should be used to compress all UV data files
        henceforth.  It takes care of things in a "standard" way.
        Moved nowhere.

 7178.  September 24, 1992 KNTR Phil
        Added an option so the user can control what is displayed as
        a label in each pane. Default is just the channel number as
        before, but the user can now display the channel velocity if
        ALTSWITCH has been run.
        Moved nowhere.

 7179.  September 29, 1992 $QPGM/RSTOR.FOR Bill C.
        Fixed routine RESTOR to properly FT the CLEAN components.  It
        was reading an uninitialized scratch file and adding it's
        contents to the FT of the CLEAN components.  I don't understand
        how this could ever work before.
           Fixed bug in FILES which caused RSTOR to fail if the various
        images were on different disks.  General cleanup of the handling
        of disk and catalog slot numbers.
        Moved nowhere.

 7180.  September 29, 1992 $INC/ZPBUFSZ.INC Bill C.
        New system dependent parameter include for defining buffer
        sizes.

 7181.  September 29, 1992 PUVD.INC Bill C.
        Added parameter, MAXCIF, to give the maximum product of the
        number of channels times the number of IF.  This should allow
        using arrays smaller than MAXIF*MAXCHA.
        Moved nowhere.

 7182.  September 29, 1992 DSEL.INC Bill C.
        Modified to include and use parameter files PUVD.INC and
        ZPBUFSZ.INC for buffer declarations and arrays whose dimension
        is the number of channels * the number of IFs.
        Moved nowhere.

 7183.  September 29, 1992 Parameterized Buffer sizes Bill C.
        Modified the following routines/tasks to use parameterized
        buffer sizes from ZPBUFSZ:
        $APLNOT/BPASET.FOR, $APLNOT/BPGET.FOR, $APLNOT/SCINTP.FOR,
        $APLNOT/SCLOAD.FOR, $APLNOT/SDGET.FOR, $APLNOT/UVGET.FOR,
        $APLNOT/DATBND.FOR, $APLNOT/TABBP.FOR, $APLOOP/UVDATA.FOR,
        $APGNOT/ACFIT.FOR, $APGNOT/DECOR.FOR, $APGNOT/SDCAL.FOR,
        $APGNOT/SELSD.FOR, $APGNOT/SPLIT.FOR, $APGNOT/UVFND.FOR,
        $QPGNOT/BLCAL.FOR, $QPGNOT/BPASS.FOR, $QPGNOT/CALIB.FOR,
        $QPGNOT/FRING.FOR, $QPGNOT/PCAL.FOR, $YPGNOT/IBLED.FOR,
        $YPGNOT/POSSM.FOR, $INC/DSEL.INC, $INC/CLASSIO.INC,
        $INC/OBJPARM.INC,
           Also changed the "COPYRIGHT" statment in ACFIT to the
        mealy-mouthed user agreement statment.
        Moved nowhere.

 7184.  September 29, 1992 UCMPRS calls Bill C.
        The following routines were modified to use UCMPRS rather than
        ZCMPRS to compress uv data files:
        $APGNOT/ACFIT.FOR, $APGNOT/DECOR.FOR,
        $APGNOT/SDCAL.FOR, $APGNOT/SELSD.FOR, $APGNOT/SPLIT.FOR,
        $QPGNOT/BPASS.FOR, $QPGNOT/CALIB.FOR, $QPGNOT/FRING.FOR,
        $QPGNOT/PCAL.FOR
        Moved nowhere.

 7185.  September 29, 1992   Number of channels/IFs        Bill C.
        Modified the following to use MAXCIF as the maximum product of
        the number of channels and IFs:
        $INC/DSEL.INC, $APLNOT/DATBND.FOR, $APLNOT/TABBP.FOR,
        $APGNOT/SPLIT.FOR, $QPGNOT/BPASS.FOR, $QPGNOT/FRING.FOR,
        $YPGNOT/IBLED.FOR, $YPGNOT/POSSM.FOR.
        Also added checks that the numbers of channels and IF were OK in
        these routines and in:
        $APLNOT/SDGET.FOR, $APLNOT/UVGET.FOR,
        Moved nowhere.

 7186.  September 29, 1992        TVCPS                   Chris
        New task that reads an image from the TV and creates a PostScript
        file containing a colour or greyscale copy of the screen image.
        The PostScript image may be encapsulated for inclusion in a
        document and may be scaled to fit on any sized "paper".
        Moved nowhere.

 7187.  September 30, 1992        $APLNOT/SOUNDX.FOR      Glen
        Seemed to be some problem with selecting a single source after
        comparision with freqids.  Created a buffered list  of sources
        and transfered found/excluded sources to the list.  Re-linked
        SPLIT.  Seems that the SPLIT FREQID default may have changed(?).
        May have to move to 15OCT92

 7188.  September 30, 1992  ZLASCL and ZLPCL2 in SYSUNIX    Chris
        Modified these scripts to recognise a new printer type PS-CMYK:
        PostScript with CMYK extensions.  CMYK extensions are required
        to print colour PostScript output from TVCPS and are available
        on most colour PostScript printers.
        This is a temporary hack: the printer scripts are extremely
        clumsy and should be redesigned.
        Moved nowhere.

 7189.  September 30, 1992.                                 Gustaaf
        I added CLCOR to $SYSLOCAL/OPTIMIZE.LIS. The optimized version
        gave a segmentation fault. Moved nowhere.

 7190.  September 24 & October 1, 1992        XAS             Eric
        Changed upper limit to allowed intensities to the maximum
        that can be supported by the machine with our graphics overlays,
        cursor, foreground, and background (usually 237).   The default
        is still 199.  Added explanations of this to XAS.HLP.
        Moved nowhere - could go to 15OCT92.

 7191.  September 30, 1992        TVRGB, TVHUI              Eric
        Put back major revisions of these two tasks.  Both now offer
        menu-driven enhancement capabilities and interactive setting of
        the window used for the interactive subimage.  Both also offer a
        display of the cursor position to help fine tune enhancements
        and an abort mode that causes the programs to exit without the
        usual, possibly slow, updates of the displays and, in TVHUI,
        without writing the output image.  TVHUI now offers the option
        of including an image of saturation as well as intensity and hue
        images.  Created HLPTVRGB.HLP and HLPTVHUI.HLP to provide
        on-line help imformation and modified the help files.
        Moved nowhere - could go to 15OCT92.

 7192.  October 1, 1992           PP                         Eric
        Changed $APLUNIX and $APLVMS versions of PP.FOR to have a list
        of include files that may be included an arbitrary number of
        times in each subroutine.  This is needed for vectorization
        directives.
        Moved nowhere.

 7193.  October 1, 1992            TVHUI                     Eric
        Added interactive option to use log or linear transfer functions
        for the Intensity image while displaying.  Linear is of course
        used when writing the output file.  Also updated HLPTVHUI.HLP.
        Moved nowhere - could go to 15OCT92.

 7194.  October 1, 1992             FARAD                   Chris
        Fixed a call to CALINI which should have been changed when
        the CALINI arguement list was changed in May '92.  Also
        removed unused variables and reordered variables in a COMMON
        block.
        Moved to 15OCT92 on October 2, 1992.

 7195.  October 2, 1992             SNCOR        Bill Erickson/Phil
        Added another option to SNCOR to transfer phases between
        frequencies with appropriate scaling to compensate for
        ionospheric delays. Added two new adverb arrays to the system as
        a result, SNCORPRM and PHASPRM.
        Moved nowhere.

 7196.  October 8, 1992         ZTAPE               Eric
        The beginning-of-medium was tested for in one part of the BEGW
        operation, but not in the second part.  The IBMs at least did
        then reort this as an error.  I tested this a lot, but not, I
        guess on all architectures.  THe SUN, I conclude, does not
        return beginning-of-medium under all circumstances that it
        could/should.
        Moved nowhere - can we still slide this into 15OCT92?

 7197.  October 9, 1992     $APLOOP/TABLE.FOR       Bill C.
        Allow resetting the number of rows in a table in TABPUT.
        Moved nowhere.

 7198.  October 9, 1992    $APLOOP/TABLEUTIL.FOR    Bill C.
        Close input table in COPHED before opening the output table.
        This is necessary to overwrite the table.
        Moved nowhere.

 7199.  October 12, 1992        ANCAL               Chris
        Removed a test that caused caused gain corrections to be
        flagged if the zenith angle was outside the range 0 degrees
        to 90 degrees.  This made it impossible to calibrate
        space VLBI data since the formal zenith angle for an orbiting
        antenna may be much larger than 90 degrees.
	Moved nowhere.

 7200.  October 13, 1992       VLBIN              Phil
        Moved a line to avoid a divide by zero. This had not been pulled
        up from 15OCT92 for some reason.
        Moved nowhere.

 7201.  October 13, 1992       TVHUI, TVRGB              Eric
        Corrected TVRGB for errors in computing lookup tables on real
        TVs and for the option to force real TVs to do the one-channel
        mode.  Fixed the help file to describe it correctly.
        Changed TVHU and both help files (HLPTVHUI and TVHUI) to add
        the option to optimize the red-green-blue's instead of using a
        simple color scheme.  This requires using 2 TV channels.  The
        inclusion (or not) of the step wedges in the optimization is an
        interesting and needed option with this optimization.  Also
        corrected some small errors related to TVHUI on real TVs.
        Moved nowhere.

 7202.  October 14, 1992      ZLASCL in SYSUNIX            Chris
        Hacked ZLASCL to get around a serious bug in AIX.  The status
        returned by commands called from a shell script invoked from
        a FORTRAN 77 program get lost.  This causes many if-compounds
        to execute the true branch in inappropriate circumstances.
        This may be associated with the spurious system error 10
        returned by system() when called from FORTRAN 77 programs.
        Moved nowhere.

 7203.  October 14, 1992        TVHUI, TVRGB             Eric
        The logic for resetting zooms neglected the case of small image
        and zoom high eneough to leave most of the menu somewhere off in
        space.  Changed both to lower the zoom just enough to fit in the
        larger of the menu and the image.  Corrected more bugs in TVHUI
        with the upper step wedge being altered by the display routine.
        Moved nowhere.

 7204.  October 14, 1992           FITLD and cousins    Phil
        Putback all the modified .INC and .FOR routines in the VLBA
        binary tables software. They were changed to reflect problems
        in the initial design. Also added 3 new types of table: PC =>
        Phase-cal; CM => CALC model; GC => Gain Curve. These will be
        used in the near future. Not all aspects of the VLBA interface
        tested yet, will have to wait for VLBA data.
        Moved nowhere.

 7205.  October 15, 1992       $INC/PUVD.INC                  Bill C.
        Added MAXCCC as a parameter for the maximum number of columns in
        a CC table.
        Moved nowhere.

 7206.  October 15, 1992       CC table interface.         Bill C.
        Added a pair of interface routines, $APLNOT/CCMINI and TABCCM, to
        simplify access to CC tables.  These are similar in structure
        and usage to other AIPS tables routines.  Also added OOP
        wrappers OCCINI and OTABCC in $APLOOP/TABLEUTIL.FOR.
        Moved nowhere.

 7207.  October 16, 1992      Associative lists      Bill C.
        Added a package of routines in $APLNOT to manipulate associative
        lists (lists of labeled pieces of information).  A list is
        declared as an integer array and can be used as a simple, memory
        resident data base system of for passing information around
        inside programs.  Each entry has a unique label and can be of
        type double precision, real , character, integer or logical.
        Separate enties may be of different type.  Each entry  may be an
        array of dimension up to 100 and the dimensionality of  each
        entry is independent.
           Entries may be written, retrieved or deleted and a simple
        minded dump routine is provided.  No direct references to the
        contents of the list are needed or allowed from applications
        software. There is extensive documentation in
        $APLNOT/ALSINI.FOR.
           This package consists of the following:
           $INC/PALIST.INC    Parameters needed to define the structure
                              Note: this is NOT to be included in
                              applications software.
           $APLNOT/ALSINI.FOR - Initialize
           $APLNOT/ALSPUT.FOR - Store an entry
           $APLNOT/ALSGET.FOR - Retrieve an entry
           $APLNOT/ALSDMP.FOR - Write contents with MSGWRT
           $APLNOT/ALSDEL.FOR - Delete an entry and compress.
        The following are needed by the public functions.
           $APLNOT/ALSKEY.FOR - Look entry by keyword.
           $APLNOT/ALSC2H.FOR - character array to hollerith
           $APLNOT/ALSH2C.FOR - hollerith to character array.
        Moved nowhere

 7208.  October 17, 1992      FILLM                  Gustaaf
        Fixed bug in FILLM. The sky frequency, from which the u,v, and
        w are calculated, is pointed at by the pointer JLOCF. The value
        of this pointer is correlator mode dependent, and should be
        updated with every new type of observation. When the required
        file does not exist, it is created and JLOCF is determined
        correctly. When the file already exists, the new data are
        appended, but JLOCF is not updated. This results in completely
        different sky frequencies and hence erroneous u,v, and w
        values. The bug was fixed in that JLOCF is explicitly updated
        each time a file is appended. Surprisingly enough this bug was
        present in all existing AIPS versions but evidently not spotted
        before.

 7209.  October 20, 1992         VBPLT                  Bill C.
        Increased maximum number of model components from 2000 to 10000
        and made this a parameter.  Also general cleanup of unused
        variables and inconsistent common usage.  Modified to use
        ZPBUFSZ.INC.   Also VBPLT.HLP.
        Moved nowhere.

 7210.  October 20, 1992    $APLOOP/VECTOR,ARRAY             Bill C.
        Added functions to copy, fill and add a scalar.
        Moved nowhere

 7211.  October 20,1992          VTESS                  Gustaaf
        Small bug fix in VTESS. The second output map (the one convolved
        with the specified beam) was of type POINTS. This was changed in
        NORMAL. This allows tasks like CONVL to use the beam in the
        header in an appropriate way.

 7212.  October 21, 1992             ACFIT                 Phil
        After the ZPBUFSZ changes an unnecessary equivalence no longer
        worked. Removed it.
        Moved nowhere.

 7213.  October 21, 1992             FRING                Phil
        Removed the now unnecessary restriction that there be > 1
        channel in a database before fringe-fitting is allowed. This was
        the case several years ago but the code has now been fixed.
        Moved nowhere.

 7214.  October 22, 1992             MWFLT                Glen
        Minor improvements to handle subimages correctly and perform
        an image saturation correction.
        Moved nowhere.

 7215.  October 22, 1992        $APLSUB/CCOPY.FOR         Glen
        Character string copy utility for use with soon to be put back
        PHASE task.
        Moved nowhere.

 7216.  October 22, 1992        XGAUS                     Gustaaf
        XGAUS did a wrong conversion from the fitted location of the
        central pixel to the associated velocity. This caused the CENTR1
        map to have wrong values. Now the conversion is done properly.
        Moved nowhere.


 7217.  October 26, 1992        SQASH                     Gustaaf
        SQASH now puts the taskname in the history file in upper case.
        Moved nowhere

 7218.  October 26, 1992        XSMTH                     Gustaaf
        XSMTH failed when specifying BOXCAR smoothing parameters other
        than the input values. Rewrote the BOXCAR part of XSMHED.
        Moved nowhere.

 7219.  October 27, 1992      ALIST additions            Bill C.
        Added routine $APLNOT/ALSASK.FOR and $APLNOT/ALSADD.FOR to
        inquire about an entry in an ALIST or to alocate space (but no
        data) for a new entry.  Also modified package description in
        $APLNOT/ALSINI.FOR.
        Moved nowhere.

 7220.  October 27, 1992          XAS                     Eric
        Changed it to make sure that it is using the default visual and,
        if it is not, to create and install its own color table before
        creating the window.  Added code to use a GrayScale visual if a
        PseudoColor visual is not available.
        Moved nowhere.

 7221.  October 27, 1992          KWICK                   Eric
        Corrected this major POPS routine.  Several tests on stack sizes
        had hard-coded values related to the old size (60) rather than
        using the newer parameterized size SLIM.
        Moved nowhere.

 7222.  October 28, 1992       $APLOOP/OBJMNGR            Bill C.
        Added a function, OBVHKW, to add catalog header keywords to a
        class virtual keyword list.  Also fixed several bugs causing the
        reading and writing of catalog header keywords not to work.
        Moved nowhere.

 7223.  October 28, 1992       TBTSK                     Bill C.
        Fixed adverb name in this paraform task.
        Moved nowhere.

 7224.  October 28, 1992    AIPS sequence numbers in OOP Bill C.
        Rationalized the use of the AIPS sequence number in the OOP
        package.  IMSEQ is now used everywhere to define the aips file
        sequence number.  The table class was using SEQ.
        Affected in $APLOOP:
        TABLE, UVUTIL.
        In $APGOOP:
        CCGAU, CL2HF, MBDLY, POLSN, TBDIF, TBSUB, UBAVG
        In $QPGOOP:
        CXCLN
        Moved nowhere

 7225.  October 28, 1992  New OOP uv data derived keyword     Bill C.
        Added derived keyword NCORR for the number of correlations in a
        uv data set.  Changed $APLOOP/OBJMNGR.FOR, $APLOOP/UVUTIL.FOR
        and $APLOOP/UVDATA.FOR
        Moved nowhere.

 7226.  October 29, 1992     $APLOOP/UVDATA.FOR       Bill C.
        Fixed logic error in OUVCLN which caused incorrect output AIPS
        catalog header to be created when cloning a file.
        Also improved the error messages.
        Moved nowhere

 7227.  October 28, 1992        HINOTE                  Eric
        Changed AU7, DAPL.INC, POPSDAT.HLP and created HINOTE.HLP and
        COMMENT.HLP to create and document a new verb called HINOTE.
        This is used to enter one or more lines in the HI file.
        Moved nowhere.

 7228.  October 30, 1992  $APGOOP/PHASE              Glen
        At long last, I have created a task to estimate the
        coherence time.  This task called PHASE is still experimental,
        but does several usefull things as well as estimate the
        coherence time.  It will do some automatic flagging of UV-data
        and also create a coherence time averaged (CTA) version of the
        input.  The successful results are obtained when the CTA data
        is self-calibrated with CALIB.  The SN table produced by CALIB
        can be copied to the original UV-data and SPLIT used to apply
        the SN table to the original data.  This seems to work well and
        allows the short spacings to be averaged and used in many
        CALIB solutions for the longer spacings.   All the calculations
        are done in a new set of "OOP?" subroutines called UVPHAS.FOR
           Best results are obtained if the input uv-data are first
        SPLIT into single IFs and these IFs processed one at a time.
           Much work is still needed before it will be of general use.
           A test procedure, similar to MAPIT, is being developed.
           Tested successfully on 43GHz VLBI data and VLA C band data.
        Moved nowhere.

 7229.  November 2, 1992       $APLOOP/OBJMNGR.FOR     Bill C.
        Speed up OBNAME by reducing the number of calls to ITRIM.
        Moved nowhere.

 7230.  November 2, 1992       $APLUNIX/ZACTV8.FOR     Pat
        The "Could not translate logical" message for TVALT was
        incorrectly stating that the logical was ARCH.  Fixed.
        Moved nowhere.

 7231.  November 2, 1992       $APLNOT/GAININ.FOR      Glen
        For single source data, if CLUSE=0, it was set to 1, not
        the latest version of the SN table.  This caused problems
        for a procedure which created an undetermined number of SN
        tables, and always wanted to use the latest one.
        Moved nowhere.

 7232.  November 2, 1992       $APLSUB/CFILL.FOR       Glen
        New subroutine which is used to fill arrays of character strings
        in the manner in which FILL and RFILL works.
        Moved nowhere.

 7233.  November 2, 1992       $APGNOT/SPLIT.FOR       Glen
        Added a message to tell which SN/CL table is actually being
        applied to the data.  Used new subroutine CFILL to fill source
        name arrays.  Changed GAINUSE=0 for single source data default
        from SN table 1 to latest SN table.
        Moved nowhere.

 7234.  November 3, 1992        $APLOOP/GENERIC.FOR      Bill C.
        Added CLEAN process class.
        Moved nowhere

 7235.  November 3, 1992        $APLOOP/IMAGEUTIL.FOR   Bill C.
        New Image class utility package.  Has one routine, IM2TAB, to
        create a table object from an image object.
        Moved nowhere.

 7236.  November 3, 1992        $APLOOP/IMAGE.FOR       Bill C.
        IMCREA was not setting the image sequence properly in an image
        object when if created the AIPS catalogued image.
        Initilize array name disk in IMGSCR.
        Added subroutine IMCDES to remove 'Destroy on fail' flags.
            Modified CFLCLR to compress DFIL lists when file status is
        cleared.
        Moved nowhere.

 7237.  November 3, 1992     $APLOOP/ARRAY.FOR        Bill C.
        Changed call sequence to ARROPN to add a READ or WRITE flag.
        Add more informative (i.e. some) error messages in ARREAD and
        ARRWRI.
        Also moved some of the initialization from ARREAD, ARRWRI to
        ARROPN to be sure that it was always done.  ARROPN now properly
        sets windows including complex data types.
        Added better error messages in many routines.
        Window (BLC, TRC) now cleared on output images for most
        functions.
           Array function routines now allow multiple useage of the same
        object; i.e. the same as input and output by creating temporary
        objects when necessary.
            Corrected handling of complex rows in array function
        routines and ARRIO.
            Modified open and close to read and possibly write the
        catblk.
       Moved nowhere.

 7238.  November 3, 1992     $QOOP/QARRAY.FOR        Bill C.
        Changed call sequence to ARROPN to add a READ or WRITE flag.
        Now sets output data type.
        Fixed bug in logic determining size of hermitian reverse
        transform in ARRFFT.
        Moved nowhere.

 7239.  November 3, 1992    $APLOOP/TABLEUTIL.FOR     Bill C.
        The table interface routines were not closing the table when
        called with OPCODE='CLOS'.
        Moved nowhere.

 7240.  November 3, 1992   $APLOOP/CLEAN.FOR          Bill C.
        New class, a clean process class.  Most of the work is done in
        "Q" routines so is not in this module.
        Moved nowhere.

 7241.  November 3, 1992   $APLPGM/SUBIM              Glen
        Added OPCODE to SUBIM.  Options are '   ', for old SUBIM,
        OPCODE='AVE' to average (with blanking) in XINC, YINC box,
        OPCODE='MIN' to return minimum (with blanking) in XINC,YINC and
        OPCODE='MAX' to return maximum (with blanking) in XINC,YINC.
        Updated help file.
        Moved Nowhere.

 7242.  November 4, 1992   CGASET,CSLGET            Bill C.
        Fixed a couple of problems that caused data to be incorrectly
        flagged.   The first problem was in CGASET which tried to
        determine in each time if the data were VLBI data (delay and/or
        rate corrections) and if so updated the baseline dependent
        factor table for the fringe rate amplitude correction.  The
        problem occured with a combination of applying antenna position
        corrections in CLCOR and the problem to be discussed next).  The
        antenna position corrections make delay and rate corrections
        which, while small for VLA data, trigger the fringe rate
        correction.  If the offending antenna is not present for one
        update of the current calibration table then the baseline factor
        table will not be updated and the previous baseline factors,
        hence flagging, will be used.
          The second problem is a combination of a change of the time
        label in CLCOR and the assumption in CSLGET that CL table entries
        come in  groups with EXACTLY the same time.  CLCOR doesn't
        appearing to be overtly changing the time stamp but appears to
        do so. Since the antenna which required a position change
        also had a slightly different time causing it to be the only
        antenna at a single set of CL table entries.
           The fixes were 1) in CGASET to keep old values of the vlbi
        logical flag so that if the rate/amplitude corrections ar made
        once they are always updated and 2) add a tolerance of 0.1
        seconds to what CSLGET thinks is the same time.
        Moved nowhere.

 7243.  November 4, 1992    CLCOR                       Bill C.
        In the routine that corrects the antenna positions (ANTPOS) the
        total model delay polynomial was being addressed as a real
        rather than as a double precision value.  This was changing the
        value of the time label.  Since it was modifying the lsb the
        change was probably never large by was enough to cause problems
        in CSLGET.
        Moved nowhere.

 7244.  November 6, 1992   $SYSUNIX/TVDEVS.SH		Dave A.
	Added new AOC workstations to the TVDEVS.SH listing.
	Moved nowhere.

 7245.  November 6, 1992   $APLGEN/ZRLR64.FOR           Pat
        JingPing Ge found a bug that affected any IEEE machine with
        little endian byte order here.  The data was not being byte
        flipped because of a typo.  This mostly affects FITTP,
        although apparently TVMON and VLBIN also refer to it.
        Affected machines are DecStations or DecSystems running
        Ultrix.
        Moved nowhere.

 7246.  November 6, 1992       PCAL                     Chris
        The subroutine PCLSEL, which copies selected data to a
        scratch file, was taking the dimension of each axis in
        a visibility record from the original catalogue block
        for the uv-file (CATUV) rather than the version modified
        by UVGET (CATBLK).  This caused some interesting failures
        for data sets where the axis order was changed by UVGET.
        PCLSEL now uses the correct catalogue block.
        Moved nowhere.

 7247.  November 7, 1992       PP                       Eric
        Added BLOCK DATA to the list of subroutine declarators.
        Moved nowhere - will need special rebuilding everywhere.

 7248.  November 10, 1992       $APLOOP/INPUT           Bill C.
        Better error diagnostics.
        Moved nowhere

 7249.  November 10, 1991      $APLOOP/UVDESC.FOR             Bill C.
	Made UVDCOP smarter about derived keywords; added a table of such.
	Moved nowhere

 7250.  November 10, 1992       $APLNOT/ACTFRQ.FOR        Phil
        New subroutine. It appears that nowhere in the system was it
        possible to make one subroutine call in order to determine the
        frequency of a given channel in a given IF for a given source at
        a give time. ACTFRQ fills that gap - it has a fairly simple
        calling sequence so should be useful.
        Moved nowhere.

 7251.  November 10, 1992          CVEL             Neil/Phil
        The routine that interpolated weights placed the output into the
        wrong array so the weights were never interpolated properly - not
        catastrophic because spectrally they are nearly always the same.
        Also changed to use a real division instead of an integer
        division to find the interpolation weights internal to the
        routine.
        Move nowhere.

 7252.  November 11, 1992             CSLGET           Phil
        All the dire predictions about AIPS calibrations having some
        fundamental deep-rooted bug came to naught, the problem was
        a typo in a go to statement, a one-character fix was all that
        was needed. Worried us though didn't it?
        Move nowhere.

 7253.  November 13, 1992           GETANT      Henrietta May/Bill C.
        Made appropriate changes for the AT compact array (ATCA).  It
        uses earth centered, right handed antenna coordinates.
        Moved nowhere (sent to Oz).

 7254.  November 13, 1992      ZLPCL2 and PRDEVS.SH             Pat
        Added BIGPRINT and BIGTHRESH environment variables so that
        large print jobs (default: large > 1000 lines) can be diverted
        to another, more suitable printer.  This was a problem at the
        AOC.
        Moved nowhere.

 7255.  November 13, 1991      $APLGEN/ZRHPRL     Tony Beasley/Bill C.
        Trapped underflow case and return 0.0.  This was apparently
        causing trouble on Suns althought it shouldn't be necessary.
        Used in Mk3IN.
        Moved nowhere.

 7256.  November 16, 1992      $UPDUNIX/UPDCONTROL      Pat/Dave A.
        (Gee Tony/Bill, did you REALLY do that in 1991? :-)
        Modified the controlling script for the midnight job so that
        it now notifies whoever about changes to PP, NEWEST, XAS, SSS,
        and XVSS in addition to POPSDAT.HLP (cases where something
        special needs to be done).  Also removed reference to old CVAX
        VPOPS account and replaced with aipssrc.  This will prevent
        the MNJ from doing what the quarterly update does.
        About to be moved to NRAO1 and the AOC this date.

 7257.  November 17, 1992     UVPGET                      Bill C.
        When the dimension of ILOC was last changed, format 1030 (which
        prints it on error) was not changed as well; this causes tasks
        to abort rather than die correctly.
        Moved nowhere.

 7258.  November 17, 1992    $RUNSYS/HEX.001              Glen
        Little procedure to convert decimal to Hex.
        Moved nowhere

 7259.  November 17, 1992    $APLSUB/DFILL.FOR            Glen
        Little subroutine to fill Double precisions with a constant
        double.  We should remove excess loops from code, and use
        the fill and copy routines.
        Moved nowhere.

 7260.  November 17, 1992    $APLNOT/STEPCH.FOR           Glen
        Subroutine to take an real number index/year in order to
        set up to use mark calabretta's coordiante transformation
        routines.  (Name means SeT EPoCH.)
        Moved nowhere.

 7261.  November 17, 1992    $APGNOT/STARS.FOR           Glen
        Moved STARS from $APLPGM to $APGNOT so that it could use
        the coordinate transformation routines, CRDSET, CRDTRN and
        STEPCH.  Now the input file will be optionally transformed
        to any of the "standard" coordinate systems.  Ecliptic
        is not supported.   Updated STARS.HLP
        Moved nowhere.

 7262.  November 17, 1992     MAPCLR                  Bill C.
        Now traps invalid disk or slot numbers and avoids annoying but
        meaningless error messages when a task finishes.
        Moved nowhere

 7263.  November 17, 1992     $APLNOT/SETGRD.FOR           Bill C.
        Modified not to create scratch files if they already exist.
        Moved nowhere.

 7264.  November 17, 1992          $APGNOT/HOLGR.FOR          Mark
        Fixed an error in the computation of the surface deviation map
        in routine SURDEV as reported by Jim Morgan, UMd.

 7265.  November 19, 1992         FILLM               Gustaaf
        Added an adverb DOTABLE to FILLM. If 1, it will create an
        OT (over-the-top table). This table is needed for a new
        baseline fitting task (BASFT) soon to be introduced to AIPS.
        As a result, two new subroutines were added to $APLNOT, namely
        OTTINI and TABOTT. These two routines will also be called
        by BASFT. Obviously DOTABLE defaults to 0 and most users will
        probably not even notice the difference.

 7266.  November 23, 1992     $SYSUNIX/OPTIMIZE.LIS       Pat
        Added several settings for DEC that seem to help make AIPS
        work under Ultrix 4.2 and the DEC fortran compiler (not the
        Mips one).  These were reported by Jingping Ge at Brandeis.
        The -O2 setting appears to cause quite a few problems.
        Moved nowhere.

 7267.  November 23, 1992     $APLOOP/UTILITY.FOR        Bill C.
        New module of general utilities:
        OBSCNF - Fills in file descriptive info for scratch files
        created outside of the OOP system but attached to objects.
        OBFEXS - Determines if an object is fully instantiated
        (underlying files exist).
        Moved nowhere

 7268.  November 23, 1992    $APLOOP/IMAGE.FOR             Bill C.
        Adds keyword/value SCRCNO to scratch images giving the DFIL.INC
        scratch file number needed by numerous AIPS utilities.
        IMGCRE now does not create an extant object.
           Added routine IMBTNF to update the tables info from one
        CATBLK to another.
        Moved nowhere.

 7269.  November 23, 1992      $QOOP/QUVUTIL.FOR         Bill C.
        Rearrainged OUNFWT to put more of the information lookup into
        this routine rather than having to pass it.
        Also added front to AIPS routines:
        OUMSUB - Subtract an image model from uvdata object.
        OUMDIV - Divide an image model into a uvdata object.
        OUVIMG - Make an image or beam from a uvdata object.
        Moved nowhere.

 7270.  November 23, 1992      $APLOOP/CLEAN.FOR               Bill C.
        CLNOPN now open the beam 'WRIT' for UV data to force it's creation.
        Moved nowhere.

 7271.  November 23, 1992           $APLOOP/UVUTIL.FOR        Bill C.
        In UV2SCR explicitly copy CATBLK produced from the calibration
        package to the scratch file.  UV2SCR will now implement the
        'VLBI' weighting (1/4 power) if the appropriate value is in a
        keyword 'UVWTFN'  attached to the input uvdata.
        Added routines to copy tables and select a portion of an FQ
        table with the appropriate update of the uv CATBLK.  Renamed old
        UVTCOP to UVCALT.
           Modified U2IDES to make "RA" reference pixel NX/2 rather than
        NX/2+1.
           Fixed bug in UVREFQ computing reference frequency pixel.
        Moved nowhere.

 7272.  November 23, 1992      $APLOOP/IMAGEUTIL.FOR      Bill C.
        Added routine IMTCOP to copy tables with update of the image
        catalog header.
        Moved nowhere.

 7273.  November 23, 1992      $APLOOP/TABLE.FOR          Bill C.
        Save updated catalog header in TBLCOP.
        TABCRE now does not create an extant object.
        Moved nowhere.

 7274.  November 23, 1992      $APLOOP/TABLEUTIL.FOR      Bill C.
        Now saves updated catalog header whenever a table could have
        been created.  Changes numerous routines.
        Moved nowhere.

 7275.  November 23, 1992       $APLOOP/UVDATA.FOR          Bill C.
        Correctly fill in name, class etc in scratch file CATBLK in a
        probably vain attempt to keep CATDIR from reaming me out again.
           OUVSCR now check to see if the output object exists and
        simply returns if it does.
           OUVCRE now does not create an extant object.
           AIPS catalog flags are not set for READ as UVGET does this
        alreads and a double set of 'READ' flags completely disables
        TABINI from reading tables attached to this object.  Another
        wonderful feature of AIPS catalog flags.
           Added routine OUVTNF to update the tables info from one table
        to another.  Use this routine in OUVOPN to get table info for
        the uvdata.
        Moved nowhere.

 7276.  November 23, 1992      $APLOOP/ARRAY.FOR            Bill C.
        ARRCHK now includes consideration of the dimensionality of the
        array and random numbers for undefined axes are not considered.
        Also ARRWIN now properly takes notice of the total number of
        dimensions.
        Moved nowhere.

 7277.  November 23, 1992        $QOOP/QCLEAN.FOR         Bill C.
        This module contains most of the working code for the CLEAN
        class.  It contains APCLN-like (CLNIM) and MX-like (CLNUV) CLEAN
        deconvolutions.
        Moved nowhere.

 7278.  November 23, 1992       $APLOOP/CCSEL.FOR        Bill C.
        New task: CCSEL is intended to filter out weak isolated CLEAN
        components which can cause a signifigant bias. This task sums
        the flux of all components within a specified distance of each
        component and then selects those components for which this sum
        exceeds a specified threshold.
        Also CCSEL.HLP
        Moved nowhere.

 7279.  November 23, 1992      $QPGNOT/UVADC.FOR        Bill C.
        New task.  This task is like UVSUB except that it adds
        components to a uv data set and optionally corrects for w-term
        distortion, bandwidth smearing and an incorrect assumed center
        frequency.   Also UVADC.HLP
        Moved nowhere.

 7280.  November 23, 1992      $QPSAP/QPTADC.FOR        Bill C.
        New routine.  performs arithmetic for UVADC.
        Moved nowhere.

 7281.  November 23, 1992      $SYSUNIX/PP              Pat
        Modified sed commands so they don't do the wrong thing when
        there is a directory with a dot in its name as part of the
        current directory (or the AIPS_VERSION).
        Moved nowhere.

 7282.  November 25, 1992      $SYSUNIX/FC             Glen
        Modified FC to remove all reference to FCOPTS.SH.  For some
        time FC has only used FDEFAULT.SH to determine compilation
        Options.  Updated FDEFAULT.SH for varios architectures and
        and removed all FCOPTS.SH files in the various directories.
        Also updated the $SYSLOCAL/OPTIMIZE.LIS
        Moved nohwere

 7283.  November 25, 1992             IBLED                 Phil
        Minor fix to get around the occasional problem of the task
        loosing track of the sample separation interval.
        Moved nowhere.

 7284.  November 30, 1992             POSSM               Phil
        A major rewrite of POSSM with the following features:
        (1) Can now produce multiple plots/page controlled
            by the adverb NCOUNT
        (2) All labelling routines and plot generation routines
            tidied up and rationalized. It will be much easier
            to maintain from now on.
        (3) Added the BASELINE adverb array to conform to other
            data selection tasks. Also now deal correctly with
            antenna selection and deselection.
        (4) fixed a bug in the x-axis labelling that has been there
            from day 1.
        Moved nowhere.

 7285.  November 30, 1992      $APLNOT/CSLGET          Glen
        PCAL set the DXTIME to 1 day, which caused CSLGET to make
        time tolerence too large.  Arbitrarily added a DXTIME upper
        limit of 2 hours to the time tolerance logic.  Changed seconds
        per day and milli-seconds to parameters.
        Moved nowhere.

 7286.  November 30, 1992    $APGNOT/AFILE               Phil
        Removed the small section of code that worried about duplicate
        entries for R/L type 52's. According the to MPI group that was
        the wrong thing to do.
        Moved nowhere.

 7287.  December 1, 1992     $SYSSUN/COMLNK,COMRPL,LIBR,LINK
                             and $SYSUNIX/AIPSEXEC             Pat
        Extensively modified these shell scripts to support two sets of
        libraries: one for nondebug, optimized code, and the other for
        debug code.  There are also two load area hierarchies supported.
        $LIBRDBG points to $AIPS_VERSION/$ARCH/LIBRDBG and $LOADDBG to a
        similar load area.  The whole scheme depends on the existence of
        a single file $SYSLOCAL/DOTWOBIN.  If this isn't present, all
        bets are off.
	  -- In addition, moved location and name of shared libraries.
	From now on, these will be in $LIBR/<name>.so instead of the old
        $LIBR/<name>/SUBLIB.so; this should make a binary distribution
        of a shared library installation possible.
          -- Also, if the staging directories $LIBR/<name>/ do not
        exist, they are created.  Likewise for $LIBRDBG/<name>/.
          -- Finally, if environment variable AIPSRCS exists and is set
        to the string "NO", the AIPS RCS transaction files on baboon (or
        wherever) are NOT updated.
        Moved nowhere, but I disabled the AOC main MNJ to prevent riled
          astronomers from breaking Dave's door down tomorrow morning
          while he's in the AIPS meeting...

 7288.  December 2, 1992           $QPGNOT/PCAL            Phil
        Changed the default value of DXTIME from 1 day to 1 sec.
        Moved nowhere.

 7289.  December 3, 1992      $APGOOP/TBDIF              Bill C.
        PRTHED was trying to access 'SEQ' which has been changed to
        'IMSEQ'.
        Moved nowhere.

 7290.  December 3, 1992           $APGNOT/BPCOR         Phil
        The call seq. to CHNDAT was never changed in this
        when we modified it.
        Moved nowhere.

 7291.  December 3, 1992           $APLPGM/TACOP         Gustaaf
        INVERS=0 in TACOP now defaults to the highest version number.
        This was already claimed in the help file, but in practice
        INVERS=0 defaulted to INVERS=1, creating much confusion in
        spectral line calibration.

 7292.  December 5, 1992           $QYPGNOT/MX           Glen
        Fixed problem found by Jim Condon for restarting MX to restore
        a different sized beam.  Also made the use of the FLUX adverb
        much more convoluted.  (Sorry, will add a new adverb later)
        IF Flux > -99 and < 0 then clean stops at first negative clean
        component.  If FLUX < -99 then FLUX is interpreted as the
        minimum MILLI-Pecent change in the Flux density allowed during
        a MAJOR CYCLE.  (Ie FLUX = -1000 => MX stops if difference in
        FLUX is less that 1 % between major cycles.)  This feature is
        used in the COMAP procedure to automate estimation of coherence
        time and self-calibration.
        Moved nowhere.

 7293.  December 7, 1992           $YPGNOT/POSSM.FOR         Phil
        Fixed minor bug in the estimation if what baselines to plot when
        all are asked for.
        Added ability to plot 2 new data types - the auto-correlation
        functions and cross-correlation functions.
        Also modified .HLP to reflect these changes.
        Moved nowhere.

 7294.  December 7, 1992           $APLNOT/ALSDMP.FOR      Bill C.
        This routine was blowing up if a character string entry in the
        ALIST was too long.
        Moved nowhere

 7295.  December 7, 1992          $QPGNOT/CVEL.FOR      Phil
        Sometime in the rewrite of CVEL it forgot how to flag data.
        Since I no longer use UVGET I had to clone DATFLG and NXTFLG
        for CVEl's use.
        Moved nowhere.

 7296.  December 8, 1992          $SYSUNIX/CC (now AIPSCC)   Pat
        With the increased presence of C++ compilers, the conflict
        between the standard name for these (CC) and the AIPS script
        of the same name is increasing.  I've renamed $SYSUNIX/CC to
        be $SYSUNIX/AIPSCC and have modified all scripts that call it:
        COMRPL, COMLNK (generic and Sun4 versions of these), and a
        bunch of CCOPTS.SH files ($SYSUNIX, $SYSSUN, $SYSIBM, $SYSDEC,
        $SYSCVEX, $SYSCVCV, $SYSVLAC1, $SYS3090, $SYSALLN, $SYSCRI).
	Moved nowhere.

 7297.  December 11, 1992         $SYSUNIX/OPTIMIZE.LIS      Pat
        Added a line for COMB on architecture CVEX (convex).  Received
        some complaints that it needs -O1 or less.
        Moved nowhere.

 7298.  December 11, 1992         $YPGNOT/VBPLT.FOR      H.May/Phil
        Added the AT as a specific type of array so the model can be
        plotted correctly. Also updated the help file.
        Moved nowhere.

 7299.  December 11, 1992        FRING                    Bill C.
        FRING was writing the wrong source IDs to the SN table when
        there were multiple source in a file and only one source
        was selected.  Now there is no attempt to get the source ID from
        the iNdeX table.  It is either 1) 0, or 2) obtained from the
        visibility data (multiple sources) or 3) obtained from SOUWAN(1)
        if a single source was selected.
        Moved nowhere

 7300.  December 11, 1992        $SYSAIPS/AREAS.DAT       Pat
        Added APLHP, APLSOL, QHP, QSOL, INCHP, INCSOL, and SYSHP,
        SYSSOL definitions.  Removed obsolete YXAS area.  Have yet to
        create the RCS and actual areas.
        Moved nowhere.

 7301.  December 11,1992         FILLM                    Gustaaf
        Changed FILLM in two places: 1) I got rid of the offensive
        DOTABLE adverb. Since all existing adverb positions were taken
        I had to use the following ugly solution: when CPARM(1).GE.
        100000, FILLM subtracts 100000 from CPARM(1) and creates the
        OT table. While such a solution may be frowned on for general
        use, the very incidental and specialized need for OT tables may
        justify it. 2) Several error reports have come in from users who
        specified TIMERANGE but left REFDATE blank. Taking Gareth's advice
        no time was spent on solving this problem. Instead, FILLM issues
        a warning message in case TIMERANGE is specified, and REFDATE is
        left blank.
        Moved nowhere.

 7302.  December 14, 1992        ISPEC                    Gustaaf
        Following frequent requests from users, I added adverbs DOCRT and
        OUTPRINT to ISPEC.
        Moved nowhere.

 7303.  December 14, 1992        APCLN                   Gustaaf
        Fixed bug. The PHAT option did not work; in fact PHAT = 0 and PHAT
        = any other value gave identical results. In BMSHOV a relevant
        pointer was updated too early, which caused the new beam centre
        value to be put in a unused location.
        Furthermore, I isolated the hard-coded parameters (size of area,
        and cut-off) used in fitting the beam. This in preparation of
        future attempts to improve on the beam-fitting algorithm.
        Moved nowhere.

 7304.  December 15, 1992        XASERVERS               Pat
        Made the logging messages about what XAS or TEKSERVER is
        running a bit smarter.  They now say who is running XAS or
        TEKSERVER, and where the DISPLAY is set.  These messages go to
        a log file in /tmp (AIPS.TVTEK.<host>.LOG) unless you have the
        variable AIPS_VERBOSE set to something non-blank.  Note: you
        have to set this in your .cshrc or .bashrc (or .kshrc?) so
        that it gets defined when "rsh" is done.  Also made it
        accomodate hosts where the hostname command returns a fully
        qualified name (e.g. orangutan.cv.nrao.edu instead of orangutan).
        Moved nowhere.

 7305.  December 16, 1992            $YPGNOT/POSSM      Phil
        A couple of minor changes to the multiple plots/page mode.
        (1) The global labels are now written below the plot rather
            than the clumsy 'at-the-side' approach
        (2) Tidied up and fixed the antenna/baseline selection
        (3) Occasionally POSSM would create a blank plot at the end of
            the data - will now only create plotfiles when data has
            been collected.
        Moved nowhere.

 7306.  December 17, 1992        BLING                  Chris
        First version of the baseline-based fringe-fitting
        program.  This is still experimental (and pretty useless
        until I write the program that applies the results).
        Moved nowhere.

 7307.  December 18, 1992       BSINI in APLNOT        Chris
        Changed the units field for rate and acceleration to agree
        with what BLING writes (ie. Hz and Hz**2).  These units
        are somewhat more user oriented than the sec/sec and
        sec/(sec**2) used originally.  Updated the header comments
        for OTABBS (in APLOOP/TABLEUTIL.FOR) and TABBS to match.
        moved nowhere.

 7308.  December 18, 1992           $YPGNOT/POSSM.FOR     Phil
        In the multiple plots/page section the number of IF's would
        be lost for plots > #2, this caused initialization problems.
        Fixed.
        Moved nowhere.

 7309.  December 18, 1992           $YSUB/STARPL.FOR      Glen
        Fixed a bug about ellipse sizes pointed out by J. Condon.
        Moved nowhere.

 7310.  December 18, 1992      ZLASCL in SYSUNIX          Chris
        Fixed a typo that prevented colour PostScript printers
        being recognised unless they where the default printer.
        Moved nowhere.

 7311.  December 18, 1992          TVCPS                 Chris
        TVCPS now writes a ``%%Requirements: color'' comment in
        the header if writing a colour image.  It should have done
        this all along.
        Moved nowhere.

 7312.  December 21, 1992           $YSUB/STARPL.FOR      Glen
        Fixed a bug introduced during fix of 92-dec-18.
        Moved nowhere.

 7313.  December 21, 1992       $YPGNOT/POSSM.FOR       Phil
        Tidied up the antenna/baseline selection into a separate
        subroutine.
        A couple of variables were in the wrong common and so
        the velocity in the printed output was all zero.
        Moved nowhere.

 7314.  December 21, 1992        $APGNOT/AVSPC.FOR      Phil
        Added a new option requested by the VLBA correlator people.
        AVOPTION = 'SUBS' will now do a boxcar average on a spectrum
        reducing it from n to m (< n) channels. Any extraneous
        channels from the input spectrum are thrown away. One little
        twist is that the average is done in the direction away from
        the LO so that if channels are thrown away they are those
        at the roll-off end of the filters.
        Also modifed AVSPC.HLP.
        Moved nowhere.

 7315.  December 21, 1992         $QPGNOT/CVEL.FOR      Phil
        Fix # 7295 did not work if no FG table was present. A
        minor oversight now fixed.
        Moved nowhere.

 7316.  December 21, 1992         $APLNOT/DATCAL.FOR      Glen
        DATCAL was randomly corrupting a single source data set
        when applying a STOKES='I' solution (ie 1 polarization
        solution) to a standard VLA (RR,LL,RL,LR) uv-dataset.
        Logic now checks for a single solution and does the
        appropriate thing for my case.  I hope it still does
        the correct thing for all other cases.... (Before it
        was accessing an array out of bounds.)
        Relinked SPLIT.
        Moved nowhere.

 7317.  December 22, 1992         $APGNOT/UVAVG.FOR     Phil
        Changed the conditions under which a warning message was
        issued about the possibility of a bad average. It was untrue.
        Moved nowhere.

 7318.  December 22, 1992         $SYSUNIX: HOSTS.CSH, HOSTS.SH,
                                  TVDEVS.SH, START_AIPS         Pat
        Changed the behaviour of these shell scripts so that they use
        the simple hostname, e.g. orangutan, instead of the fully
        qualified hostname, e.g. orangutan.cv.nrao.edu.
        Moved nowhere, but Dave and I should merge them with AIPS_ROOT
        versions in CV and at the AOC.

 7319.  December 22, 1992         CHANGE.DOC            Pat
        The formatting of some items near the beginning (before Sept.
        29)  was screwed up.  Fixed.  Will no doubt play havoc with the
        "diffs" step in the MNJ's.
        Moved nowhere.

 7320.  January 4, 1993             $APGNOT/PRTUV.FOR      Craig/Phil
        Added 2 new options to PRTUV. CPARM(10) will scale the
        amplitudes listed at the users request. DOEBAR will print the
        'error' on the data rather than its weight. Also changed
        PRTUV.HLP.
        Moved nowhere.

 7321.  January 4, 1993             $YPGNOT/POSSM.FOR      Phil
        Finally got a foolproof subroutine for creating lists of
        antennas/baselines to plot.
        Moved nowhere.

 7322.  January 4, 1993             $QPGNOT/FRING.FOR      Phil
        There was always a lot of frustration over the sometimes small
        amounts of data that FRING would deal with in a fringe-fit. It
        is a function of the # antennas, # channels & the integration
        time. The array size was parameterized at 300000 - and this
        was just too small for moderat applications, I increased it to
        1,000,000 and that is somewhat better. For wide windows the user
        will still have a problem and may have to narrow the windows but
        at least more data can be fringe-fit at a time.
        Moved nowhere.

 7323.  January 4, 1993      IAND, IEOR and IOR in APLUNIX     Chris
        Added the return type (int) to these functions.  All three will
        now compile cleanly with both K&R and ANSI compilers even if
        all warnings are enabled.
        Moved nowhere.

 7324.  January 4, 1993          ZABOR2 in APLUNIX             Chris
        Made changes so that ZABOR2 will compile with ANSI C compilers
        on POSIX.1 operating systems as well as with K&R C compilers.
        NOTE: if compiling with an ANSI compiler make sure that it
        is operating in strict ANSI mode rather than some half-baked
        compatibility mode (ie. use the -Xc flag on Suns).
        NOTE 2: this version should replace the system-specific
        versions for POSIX.1 systems.
        Moved nowhere.

 7325.  January 6, 1993             BPASS                 Phil
        Removed a leftover debug msgwrt in the rereferencing
        subroutine.
        Moved nowhere.

 7326.  January 7, 1993         TVFLG, SPFLG, IBLED           Eric
        Changed handling of FLAGVER so that 0 => 1, but FLAGVER = -n
        (n > 0) => ignore flags on input, but write any new ones to
        FLAGVER = +n on output.  Also help files of course.
        Moved nowhere.

 7327.  January 7, 1993         CONVL                     Gustaaf
        Increased size of scratch files created by CONVL. The old size
        was insufficient for e.g. 512 * 1024 data.
        Moved nowhere

 7328.  January 11, 1993           $YPGNOT/VBPLT.FOR      Phil
        Major changes:
        (1) I stripped out the closure phase plotting, it is going into
        its own task (CLPLT - following soon), in the course of this
        many subroutines had to be placed in the APLNOT area so both
        VBPLT and CLPLT can see them. The relevant routines are:
        MODPLT.FOR, PLTSET.FOR, PLOTDA.FOR, BASLIN.FOR, SIDERL.FOR,
        VBPREC.FOR, NUTATE.FOR, POLCHK.FOR nad POLVIS.FOR.
        (2) I added the ability to average the data on the fly before
        plotting it - essential code for this is in $APLNOT/BASAVG.FOR.
        (3) I also added the ability to plot several more quantities:
        Source #, FREQID, Weight, RMS, int. time. Most of these are
        useful for debugging the VLBA correlator, but they are there
        anyway.
        Moved nowhere.

 7329.  January 11, 1993       $YSUB/STARPL           Glen/Jim C.
        Jim C. requested a way of creating overlays for the Palomar
        Sky survey using AIPS and the Guide star catalog.  This is
        possible although painful.  The stars were being covered
        up by the plot mark and a new type (20) now is a cross with
        the central third removed.  Comlnked CNTR, GREYS and PCNTR
        Moved nowhere.

 7330.  January 11, 1993     NEW TASK: CLPLT           Phil
        A new task to plot closure phases and the closure model.
        Based on VBPLT so many of the same inputs:
        Moved nowhere.

 7331.  January 11, 1993      $APGNOT/MULTI          Phil
        MULTI had no check in it to see of it was trying to multi an
        already multi'd database. Inserted the check. We hit this
        because the CIT correlator now writes multi-source FITS files,
        hurrah!
        Moved nowhere.

 7332.  January 12, 1993       $APGNOT/UVAVG       Phil
        Now writes out the correct integration time after averaging
        in the r.p. slot
        Moved nowhere.

 7333.  January 13, 1993       $APLPGM/SUBIM       Glen
        Seemed to have input an indexing bug to SUBIM during the addtion
        of mathmatical function upgrade.  I believe the YINC bug is
        fixed.
        Moved nowhere.

 7334.  January 13, 1993       $SYSLOCAL/NOSHARE.LIS     Phil
        This turned out to be the problem with POSSM - God knows why?
        Can no longer use shared libraries with it.
        Moved nowhere.

 7335.  January 17, 1993       $APGNOT/ANCAL.FOR       Phil
        Added a new option to ANCAL. If GAINVER = -1 then the CL
        table is not updated, all that happens is that the TY table is
        created and filled. This option is used by spectral liners and
        will be explained in the new version of ACFIT. Watch this space.
        Also updated the helpfile.
        Moved nowhere.

 7336.  January 18, 1993       $YPGNOT/VBPLT          Phil
        Fixed a long-standing bug in the baseline selection in VBPLT.
        When the user specifies antennas/baselines and the same number
        appears in both arrays, the autocorrelation is counted in the #
        of baselines to be plotted, however it does not exist internally
        and so some baselines are repeated. Used the method now used by
        POSSM and IBLED - this is more general.
        Moved nowhere.

 7337.  January 19, 1993      $YPGNOT/CLPLT          Phil
        Under some circumstances CLPLT would not form the closure phase
        because the timeaveraging trap did not catch all cases. It now
        does.
        Moved nowhere.

 7338.  January 20, 1993       $APLNOT/DGETSD.FOR     Bill C.
        Fixed a bug in the logic involving the selection of beam caught
        by the HP compiler.  Now calls SCLTD to determine if the beam is
        selected.  Also fixed declarations of arrays used for access of
        the index table to use MAXNXC rather that the hardcoded and now
        incorrect value of 6.  This routine is used in the single dish
        package and with any luck none of the problems fixed had
        noticable effects.
        Moved the usual places (nowhere).

 7339.  January 21, 1993      $QNOT/VISDFT.FOR       Glen
        Fixed a bug found by the HP compiler.  Should not have
        previously affected execution, since buffer size are now large.
        Also added a trap for message about "110 percent complete".
        Moved nowhere.

 7340.  January 21, 1993      Phase rereferencing routines     Bill C.
        Added a number of routines for doing polarization coherent
        rereferencing of phase, delays and rates in an SN table to a
        common reference antenna.  All valid entries in the table are
        processed.
           REFCNT: Count reference antenna usage.
           REFDLY: Rerefererence delays
           REFRAT: Rereference rates
           REFFAZ: Rereference phases
        Moved to the usual places (nowhere).

 7341.  January 21, 1993       $APGOOP/CCSEL           Bill C.
        The image sequence number was called 'SEQ' rather then 'IMSEQ'
        in the table object.
        Moved nowhere.

 7342.  January 25, 1993       $YPGNOT/IBLED.FOR        Phil
        IBLED has 2 menus, one for a wide screen TV, the other for a
        narrow screen. The narrow one was incorrect in one entry, it
        did not allow the user to switch polarizations. Fixed.
        Moved nowhere.

 7343.  January 25, 1993        $HLPFIL/SPLIT.HLP       Phil
        Changed a paragraph in the help file to reflect what is
        actaually done when applying already applied SN tables.
        Moved nowhere.

 7344.  January 25, 1993          MK3IN                   Chris
        Fixed a bug introduced in July 1992 which caused the tape
        I/O structures not to be reset when skipping over a file.
        Because of this data was being missed on some Mk3 archive
        tapes.
        Moved nowhere.

 7345.  January 25, 1993          $APLNOT/SOURNU.FOR     Gustaaf
        The subroutine SOURNU.FOR did not treat the case: blank
        source name, specified qualifier, correctly. This was
        discovered in UVCOP. COMLNK'ed the seven tasks that call
        SOURNU (BLFIT, QUACK, UVCOP, UVFLG, SNPLT, VBPLT, and CLPLT).
        Moved nowhere.

 7346.  January 26, 1993          $YPGNOT/CLPLT.FOR      Phil
        There was no check on whether SOLINT = 0, default is now
        5 minutes and a warning is printed. Also the user scaling was
        lost after the first closure triangle was plotted, fixed that.
        Moved nowhere.

 7347.  January 26, 1993    OOP catalog flag handling     Bill C.
        The handling of AIPS catalog status flags cause problems when
        the same image or uv data files were being accessed for read and
        write simultaneously.  Now if a disk and catalog slot are
        entered in the DFIL.INC common a new catalog flag is not
        atempted.  The affected routines are:
        $APLOOP/UTILITY.FOR
         - OBACF Determines if the catalog status is set in DFIL.INC.
        $APLOOP/IMAGE.FOR
        - CFLSET  No new status is set if program has set one.
        - CFLCLR  Checks to see if flag set before clearing one.
        - IMCREA  Enters file in DFIL.INC
        $APLOOP/UVDATA.FOR
        - OUCFST  No new status is set if program has set one.
        - OUCFCL  Checks to see if flag set before clearing one.
        - OUCREA  Enters file in DFIL.INC
        Moved nowhere.

 7348.  January 26, 1993     $APLOOP/ARRAY.FOR         Bill C.
        The buffer was not always being flushed when an array object
        opened for write was closed.  Routine ARRIO was modified so that
        this is always done.
        Moved nowhere.

 7349.  January 26, 1993     TAPIO in APLSUB           Chris
        Added an 'ADVF' (advance to next file and reset I/O for reading)
        to TAPIO.  This provideds a way to skip files while reading
        from a tape without first closing and reopening the tape to
        reset the I/O structures.
        Moved nowhere.

 7350.  January 26, 1993         MK3IN                 Chris
        Modified ATSKIP subroutine to use the new 'ADVF' feature
        of TAPIO rather than using ZTAPE directly.  This gets rid
        of the extra 'increased receive buffer size' messages
        when using remote tape drives.
        Moved nowhere.

 7351.  January 26, 1993         ZFRE2.C               Pat
        Moved $APLBERK/ZFRE2.C to $APLUNIX/ZFRE2.C, blowing away the
        old module there.  The old one relied on the output of "df"
        which is distinctly non-portable.  $APLBERK/ZFRE2.C compiled
        and worked as is on HP-UX, a Posix and SVR4 variant of Unix,
        so I'm optimistic it will work elsewhere too.
        Moved nowhere.

 7352.  January 26, 1993     $APLOOP/HISTORY.FOR        Bill C.
        Don't copy history files in OHCOPY if the input and output are
        the same.
        Moved nowhere.

 7353.  January 26, 1993          MK3IN                    Chris
        Added code to issue a message and abort if REFDATE is
        badly formatted.  Without this MK3IN assumed that a
        badly formatted REFDATE was equivalent to JD 0.0 and
        silently messed up the timestamps in the output file.
        Moved nowhere.

 7354.  January 27, 1993      $APLHP/various               Pat
        Yesterday I put back a bunch of files in the new Hewlett-
        Packard APLHP area.  This is a brief overview of the files and
        why they are needed.
            ZABOR2.C    SIG_DFL on SIGCLD instead of SIG_IGN (needed?)
            ZDCHI2.FOR  Floating Point defs, System type.
            ZGNAME.FOR  Use HP-specific IGETARG to get command line args
            ZSSS*.*     (7 files) exact copies of $APLBERK code (socket)
            ZSTRTP.C    Use <unistd.h>, setresuid in place of seteuid.
            ZTPWAD.FOR  Catch HP-specific IOSTAT-EOF codes (two of 'em)
            ZTXMA2.C    Use POSIX reg. expression functions regcomp etc
            ZWHOMI.FOR  Extra sanity-checking code (may be redundant)
        There's a bunch more that has to go in $SYSHP and other areas.
        Later...
        Moved from JPL yesterday.

 7355.  January 27, 1993      $INSUNIX/INSTEP1             Pat
        Made to work under POSIX (grep and echo work differently) and
        added HP support.  Also rationalized the XAS making a bit so it
        tries to do the right thing vis-a-vis the MIT shared memory
        extension to X11.
        Moved from JPL yesterday.

 7356.  January 27, 1993       UVCOP.HLP            Phil
        Added a sentence about what happens when FREQID's are selected.
        Moved nowhere.

 7357.  January 27, 1993         POSSM                 Phil
        Added the ability to perform scan averaging if an NX table is
        present. Fixed a LL only bug caused by an array overflow that I
        recently added. Fixed a problem that when plotting multiple
        bandpasses/page and a blank entry occured the program would
        exit. Also updated the .HLP file
        Moved nowhere.

 7358.  January 27, 1993           BLING              Chris
        - Added code to pick a sensible default for the STOKES
          adverb.
        - Corrected a type mismatch problem between BLING and
          the library subroutine BASLST that caused the ANTENNAS
          and BASELINE adverbs to be ignored.
        - Removed the assumption that the mean amplitude of the test
          patch used to estimate the noise is zero: this was leading
          to excessively pessimistic estimates of the SNR.
        Moved nowhere.

 7359.  January 29, 1993    $APLOOP/UVUTIL.FOR          Bill C.
        Added routines for selfcalibration:
        SLFCAL: Determine self cal solutions
        SLFREF: Reference self cal solutions to one antenna
        UVCOPY: Copy one uvdata to another
        NXTAVG: Average data for next time interval
        SLFPA: Lower level selfcal solution routine
        SLFSOU: Write selfcal solution to SN table object.
        Moved the usual places (nowhere).

 7360.  January 29, 1993      $QOOP/QUVUTIL.FOR        Bill C.
        Since OUMSUB and OUMDIV use standard AIPS routines they now
        explicitly mark the output uv data as valid on successful
        completion.  Also clear any AIPS status flags on output, copy
        relevant tables to the output object and update visibility
        number in output.  Open and close output object to update disk.
        Moved nowhere.

 7361.  January 29, 1993     More catalog flag bugs      Bill C.
        OOP routines creating scratch objects were not entering then in
        the DFIL.INC arrays.  Affected routines are IMGSCR in
        $APLOOP/IMAGE.FOR and OUVSCR in $APLOOP/UVDATA.FOR
        Moved nowhere.

 7362.  January 29, 1993      $APLOOP/UVDATA.FOR         Bill C.
        OUVATT now fill in default EIF and ECHAN.
        Added routine OUCDES to clear destroy-on-fail flag.
        Moved nowhere.

 7363.  January 29, 1993     $APLOOP/TABLE.FOR         Bill C.
        In TABZAP DELEXT is now called with status 'WRWR' rather than
        'WRIT' to avoid CATIO problems.
        Moved nowhere.

 7364.  January 29, 1993    TABBS in APLNOT            Chris
        Added code to increment the row number on read or write.
        Moved nowhere.

 7365.  January 29, 1993         BLING                 Chris
        Added a missing subroutine call to close the BS table.
        Moved nowhere.

 7366.  February 1, 1993      PASTE                     Bill C.
        New task in $APGOOP.  Inserts or adds a subimage of one image
        into another.  Also PASTE.HLP.
        Moved nowhere.

 7367.  February 1, 1993      LWPLA                     Glen/Bill C
        Added an option to LWPLA for 35 mm Slides.
        Moved nowhere.

 7368.  February 1, 1993      AU7.FOR / ALTSWTCH        Gustaaf
        Added warning to user when doing an ALTSWTCH from FREQUENCY
        to FELO-HEL on a uv data set.
        Mover nowhere.

 7369.  February 4, 1993        $APLNOT/AG...*.FOR      Phil
        Generalized the axis offset column in the AG table.
        Moved nowhere.

 7370.  February 8, 1993       $APLSGI, $SYSSGI, $INCSGI, $QSGI   Pat
        Created empty areas for the Silicon Graphics port.  Also
        modified $SYSAIPS/AREAS.DAT to reflect these new areas, and
        ran AREAS.  Finally, threw away the old RCS versions of
        AREAS.CSH and AREAS.SH in $SYSUNIX; the AREAS script doesn't
        do anything about these.  Checked in the newly created
        versions instead.
        Moved nowhere, but may need repeated on all MNJ sites...

 7371.  February 8, 1993       UVPGET                   Gustaaf
        UVPGET gave an obscure error message when one or more axes were
        missing. The new version prints out the name of the missing axis.
        I relinked all tasks using UVPGET in $APLPGM and $APGNOT.
        Moved nowhere.

 7372.  February 8, 1993       $APLNOT/OTBSRT.FOR             Bill C.
        Removed a hidden death trap.  This routine was writing to a
        scratch file version 1 related to the output table.  If the
        associated catalog entry was a scratch file this caused it to
        destroy the main data file.  It now uses scratch file version 2.
        Moved nowhere.

 7373.  February 8, 1993    REFCNT, REFFAZ, REFDLY, REFRAT      Bill C.
        These routines in $APLNOT were not properly handling a flagged
        SN record as the last record of an SN table and were incorrectly
        returning error code -1.
        Moved nowhere.

 7374.  February 8, 1993        $APLOOP/ARRAYSTAT.FOR         Bill C.
        Added class member functions DATAMEAN and NUMPIXEL and updated
        documentation.  Actual implementation of these function is using
        ARRAY class member function ARSSET.
        Moved nowhere

 7375.  February 8, 1993         $APLOOP/ARRAY.FOR            Bill C.
        Added member function ARSSET to determine ARRAY_STAT members.
        Any selected windowing is honored.
        Moved nowhere

 7376.  February 8, 1993       $APLOOP/CALEDIT.FOR      Bill C.
        Added routines SECSLT and SECSAV to fetch and store the IF ,
        channel and Stokes selection criteria.
        Moved nowhere

 7377.  February 8, 1993           BLING                   Chris
        Corrected the direction of the Fourier transforms into the
        search grid.  Delays and rates now have the correct sign.
        Also changed and inappropriate call to the FLOAT intrinsic
        to a call to REAL (this ANSI violation was missed by almost
        all of our FORTRAN 77 compilers).
        Moved nowhere

 7378.  February 8, 1993           IRING                   Gustaaf
        Fixed bug which caused variable to be overwritten for illegal
        ring number. Also added option to handle non-astronomical images
        without arcsec - pixel conversion.
        Moved nowhere.

 7379.  February 8, 1993            CLPLT                Phil
        Increased the max # triangles plotted to 90. Fixed an array
        overflow problem and also fixed a bug which did not close down
        the final plot under some circumstances.
        Moved nowhere.

 7380.  February 9, 1993            FILLM                Gustaaf
        Installed new FILLM with following improvements:
        1 - improved holography code added by Tim Roberts
        2 - added APARM(1) specifying creation of new files. Can be
            changed interactively using TELL.
        Moved nowhere.

 7381.  February 9, 1993           BLAPP                 Chris
        New task to apply the results of BLING.
        Moved nowhere.

 7382.  February 10, 1993    OPTIMIZE.LIS in SYSUNIX      Chris
        Added BLAPP to OPTIMIZE.LIS.  BLAPP will be optimized
        at level 6 on all machines except Suns.  The least-
        squares fitting routine is taken from LAPACK and should
        respond well to vectorization and parallelization.
        Optimization is reduced to level 3 on Sun's since the
        program is too long for version 1.4 of Sun's compiler
        to optimize at any higher level.
        Moved nowhere.

 7383.  February 10, 1993        BLING                  Chris
        Corrected an error in interpreting NX table time entries
        that was causing scan times to be skewed by half of the
        scan duration.
        Moved nowhere.

 7384.  February 10, 1993          UVPLT              Phil
        UVPLT will now print the channel number being plotted in the
        information at the top of the plot.
        Moved nowhere.

 7385.  February 11, 1993    AIPSUPD, UPDCONTROL, UPDCOMRPL/LNK   Pat
        Fixed some bugs and made these procs verbose if done in
        interactive mode.  (They thought BLAPP.FOR was PP.FOR among
        other things).  Generalized grep (-s/-q) in some scripts.
        Moved to AOC (aguila, yucca, zuni) a moment ago.

 7386.  February 12, 1993      $QNOT/UVMSUB,UVMDIV     Bill C.
        Remove prohibition of using gridded model computation methods
        for TB sorted data.  The gridded method routines have been able
        to handle TB data for some time but this prohibition has never
        been removed from these routines.
           This should make CALIB, FRING and UVSUB MUCH faster under the
        appropriate circumstances.
           UVMDIV now deletes it's scratch file if it creates one.
        Moved nowhere.

 7387.  February 12, 1993        $QSUN/QMTYP.FOR              Bill C.
        New Sun version of the Q routine that decides whether DFT or
        gridded subtraction is faster ('DFT' or 'GRID' in MX).  The
        appropriate constants were determined on a  SUN IPC using a
        1024x1024 image.  This should speed up MX as the old version was
        for Vax+AP and under estimated the time for a DFT and over
        estimated the time for the gridded subtraction.
        Moved all the usual places (nowhere).

 7388.  February 12, 1993       $SYSSUN/LIBR.DAT              Pat
        Added QSUN to the QPSAP library list so the previous change
        can be compiled.  Think I got it right :-/
        Moved nowhere.

 7389.  February 12, 1993         $APGNOT/SPLIT           Phil
        Ensured that the message about which SN/CL table is being
        applied is only printed when DOCALIB is true.
        Moved nowhere.

 7390.  February 15, 1993       $SYSUNIX/OPTIMIZE.LIS     Pat
        Integrated the SUN4-specific version with the generic one and
        blew away the former.  In the process, made POPSGN and PCAL
        non-optimized (former on suns only), made BLAPP the same for
        SUN3 and SUN4, and made DATCAL non-optimized for suns too.
        Moved nowhere.

 7391.  February 15, 1993       $INSUNIX/INSTEP3          Pat
        Added TPMON and TEKSERVER to the list of routines built.
        Moved nowhere.

 7392.  February 16, 1993      $QOOP/QUVUTIL.FOR        Bill C.
        Modified logic of OUMSUB and OUMDIV to create a second temporary
        uv object to use for allocating a buffer if the input and output
        objects were the same.  This allows updating the input file.
        Also under these circumstances the uv data object is not opened
        for write.
            In OUMDIV and OUMSUB copy only AN table 1 from input object
        to output.  Also if MODCCEND = 0 use the number of CC in the
        table as advertized.  Also numerous other fixes in OUMSUB and
        OUMDIV.
            In OUMDIV fixed call sequence to UVMDIV.
        Moved nowhere.

 7393.  February 16, 1993      $QOOP/QCLEAN.FOR        Bill C.
        CLNUV and CLNIM were not restarting the CLEAN properly with a
        single component.
        CLACLN now writes the total number of CC in the table header.
        CLRHIS now opens and closes the array for each box, it was
        failing on multiple boxes.
        Moved nowhere.

 7394.  February 16, 1993    $APLOOP/UVUTIL.FOR          Bill C.
        Routines UVTCOP and UVFCOP now check if the input is the same.
        Added routine UVAMPS do determine the average amplitude as a
        function of baseline length.
           In SLFCAL the SN table is now opened after the open call to
        NXTAVG to avoid LUN conflicts.  Also the sort order is marked in
        the SN table.
           Fixed several routines that failed if there was no IF axis.
        Moved the usual places (nowhere).

 7395.  February 16, 1993   $APLOOP/UVDATA.FOR      Bill C.
        OUVINI was not looking up Status before using it.
        OUVCLO was not releasing the LUN when the object was opened
        WRIT.
        OUVOPN now expands the file if is VO larger than the current number
        of visibilities.
           Added class member OLDFILE which is true iff the file existed
        prior to object instantiation.
       Moved nowhere.

 7396.  February 16, 1993      $APLOOP/UTILITY.FOR       B. Cotton
        OBFEXS now returns IERR=0 rather than 1 if the underlying files
        do not exist.  Also it's smarter about using return codes from
        OBNAME and OBCLAS.  It still sometimes returns IERR=1 when
        EXIST=.FALSE..
        Moved nowhere.

 7397.  February 16, 1993     $APLOOP/TABLE.FOR         Bill C.
        Added routine TBLMRG to merge tables.
        Added routine TABRMV to delete any underlying AIPS tables.
        Added routine TBLHIV to find the highest numbered version of a
        table type.
        Modified TABOPN to be more careful about rejecting tables with
        version=0.
        Moved nowhere.

 7398.  February 16, 1993      $APLOOP/INPUT.FOR            Bill C.
        Added member function INTELL to obtain AIPS TELL adverbs and pass
        them as an INPUT object.  Made OUTKEY in IN2OBJ of unknown length.
        Moved nowhere.

 7399.  February 16, 1993     $APLOOP/HISTORY.FOR        Bill C.
        History routines force sync of memory resident version of CATBLK
        with the one on disk.  This keeps tables which have been deleted
        from reappearing the the catalog header.
           OHCOPY now no longer copies the input history to the output
        history if either 1) the output history already exists or 2)
        the input history doesn't exist.  If the history is not copied
        an time/task label is inserted in the output history.  This
        keeps restarts with the same output file from copying the entire
        history each time.
           OHLIST now lists two dimensional arrays in the correct order
        (first dimension fastest).
        Moved nowhere.

 7400.  February 16, 1993        FRING              Bill C./Ed Fomalont
        When fringe rates were being converted to sec/sec the reference
        frequency was being used rather than the actual IF frequency.
        Moved nowhere

 7401.  February 17, 1993         BLING                Chris
        Now fits a two or three dimensional elliptical Gaussian model
        to the amplitudes in the neighbourhood of the peak amplitude
        in delay-rate space to refine the estimate of the coordinates
        of the peak.
        Also fixed a bug in the AP addressing in the code section that
        estimates the noise that produced bad (and sometimes negative)
        estimates. of the variance.  This was previously masked by a
        test for small values but caused serious problems for the
        non-linear least-squares model fitting routines.
        Moved nowhere.

 7402.  February 17, 1993       ZLASIO                 Chris
        Changed the semantics of the close operation so that files
        are not automatically spooled to a printer if an explicit
        output filename is given.  This should prevent superfluous
        plots being generated by laser printer tasks (CANPL, QMSPL
        and TVCPS).
        Moved nowhere.

 7403.  February 19, 1993       MAPCLR                  Bill C.
        MAPCLR now longer gives all those stupid messages when the file
        no longer exists.  After years of annoyance I drove an axe thru
        the beast's head.
        Moved nowhere.

 7404.  February 19, 1993       CALIB                    Bill C.
        Now CALIB is allowed to pick the DFT or GRID method whichever is
        faster.  This should make CALIB much faster for large CC tables.
        The VLAC and DDT test data are no longer on line in CV so I
        can't run the standard tests.
        Also sets FACGRD.

 7405.  February 19, 1993       $UPDUNIX/AIPSUPD, UPDCONTROL,
                                and UPDERROR            Pat
        Cleaned up some error reporting code, and inserted some where
        it was missing.  Hopefully this will clear up the MNJ
        problems.
        Moved nowhere yet; may move to AOC hosts if it works.

 7406.  February 19, 1993       $YSERV/XAS.SHR          Pat
        Fixed memory leak by making the closedown function delete any
        resources, _especially_ shared memory, allocated on startup.
        Also installed I/O error handler so that killing/quitting XAS
        will cause the closedown() function to be called.
        Moved (XAS binary) to IBM load area in CV, will move Sun
        version at midnight via an at-job.

 7407.  February 19, 1993       STARS                   Gustaaf
        STARS only plotted the horizontal part of star positions. Reason
        was that the Y-size defaulted to zero. Changed code in STCARD to
        fix this.
        Moved nowhere.

 7408.  February 19, 1993         BLING                 Chris
        Fixed problems found while processing a single-IF data set.
        The multiband delay search is now automatically disabled for
        single-IF data, the AP index calculations in PEAK2D have been
        fixed and the time selection criteria have been relaxed so that
        all scans that overlap TIMERANG are used.  Also removed a
        vestigial mention of SOLINT from the HELP section of the help
        file.
        Moved nowhere.

 7409.  February 22, 1993        PASTE.FOR             Bill C.
        Modified to complain and trim the BLC and/or TRC to make the
        subimage fit into the output image rather than dying.
        Moved nowhere.

 7410.  February 22, 1993           HGEOM                         Bill C.
        Modified HGEOM to do something sensible when the output image is
        smaller than the second input image.  In this case the output
        image is centered on the input image rather than being the
        bottom left corner of the secondary input image.  Also  made
        corresponding changes in HGEOM.HLP.
        Moved nowhere.

 7411.  February 22, 1993      $QPGNOT/UVADC              Bill C.
        Removed subroutine VSCDFT and moved it to $QNOT.
        Moved nowhere

 7412.  February 22, 1993     $APLOOP/ARRAY.FOR          Bill C.
        ARRCLO now simply rteturns if the input object is closed rather
        than giving an error return.
        Moved nowhere.

 7413.  February 23, 1993    Sorting routines        Bill C.
        Made a set of uv data sorting routines which use the "AP" memory
        to do the presorting of the data.  If this presort does not
        include all the data then a disk based merge sort is done.
        Also a rotation of the u and can also be applied.
        The following routines were added to $QNOT:
           UVSORT - High level sort routine
           SRTIN - Read data, add sort keys and presort
           SRTOUT - Strip keys from scratch file and write output.
        The following were added to $QPSAP:
           QSORT - High level "Q" sort routine
           QOSORT - "Q" copy of $APLSUB/OSORT quicksort routine.
           QPERMA - "Q" copy of $APLSUB/PERMAT permutation routine
           QLSORT - "Q" copy of $APLSUB/LSORT for when all else fails.
        The last 3 routines are added to avoid potential problems with
        linkers and may not be really necessary.
        Moved nowhere

 7414.  February 23, 1993         BLING                   Chris
        Fixed a number of bugs and made some minor enhancements.
        - Scans that lie partly outside of TIMERANG are now modified
          so that the data processed by BLING lies wholly within the
          TIMERANG limits.
        - Corrected the times and durations written to the BS table
          in the case where BLING subdivides a scan to fit into the AP.
        - Fixed the weight calculation in MBFIT.
        - Added the missing weight calculation in SBFIT.
        Moved nowhere.

 7415.  February 23, 1993         BLAPP                Chris
        Corrected the NRHS parameter to SGELSS in SOLVSB.  This
        was causing bad single-band results under some circumstances.
        Also changed the calls to TBLSRT that sort the SN and CL
        tables to use the full 'ANTENNA NO.' string rather than
        just 'ANTENNA'; using the shorter string now fails for
        some reason (has a routine in TABLE.FOR changed?).
        Moved nowhere.

 7416.  February 24, 1993           POSSM               Phil
        Fixed a couple of annoyances:
        (1) When NCOUNT = 1 and only one baseline was plotted, POSSM
        claimed that several baselines were averaged in the label.
        (2) The refreshing of the page when plotting many pages was
        still failing under obscure circumstances, think I have them
        all now.
        (3) Made sure when plotting scan averages of many sources, the
        source name appears on the plot label.
        Moved nowhere.

 7417.  February 25, 1993      TVFLG, SPFLG, IBLED       Eric
        Changed all 3 (and their help files) to keep the all channel and
        all IF flags true at all times if the input data set has only
        one channel or one IF (resp.).  In IBLED, they also stay true if
        all input channels are averaged together or all input IFs are
        averaged together.
        Moved nowhere.

 7418.  March 1, 1993              $AIPNOT/SETPAR        Pat
        Increased limit of 2nd ap size from 32768 to 327680.  Some
        (lucky) people have up to 4 Gbytes of physical RAM to play
        with.
        Moved nowhere.

 7419.  March 2, 1993              $APLNOT/FGSEL         Gustaaf
        FGSEL, only called by UVCOP, failed to update the channel numbers
        in the flag table when BCHAN and ECHAN were specified explicitly.
        Code was added to do so. At the same time, a bug was fixed which
        potentially could lead to a zero second IF in the flag table,
        which would have flagged ALL IF's for that row.
        Moved nowhere.

 7420.  March 2, 1993              $APGNOT/UVCOP         Gustaaf
        UVCOP did NOT update channel entries in the flag table when BCHAN
        .NE.1. Also, a potential bug when copying entries flagged by IF
        was fixed. Main code change was in $APLNOT/FGSEL (see above), but
        UVCOP needed some modifications, too.
        Moved nowhere.

 7421.  March 3, 1993               MK3IN                Chris
        Increased the number of CL table entries allowed per scan from
        40 to 500.  This was necessary for data from the TDRSE SVLBI
        experiment that requires a phase correction entry for every
        integration.
        Moved nowhere.

 7422.  March 3, 1993  Division of compressed data by model   Phil
        The division and subtraction of a model image from compressed
        data was not working and had obviously never been working.
        The problem was 2-fold, (1) the scratch files should never be
        compressed, unfortunately they were all operations were being
        performed on compressed data and so were incorrect; (2) various
        parameters such as the record length and number of random
        parameters are played with in this process and these changes
        were not being taken into account.
        The changes I made to fix this were designed to minimize the
        number of changes to the code in order not to screw things up.
        So a new include (DSCD.INC) was needed - it carries the
        parameters necessary to describe the true state of the scratch
        file, and a new routine PRMUPD to correct the DUVH.INC
        parameters after conversion from compressed -> uncompressed
        data. This was necessary because the CATBLK carried around
        reflects the header of the input data, not the scratch file.
        (1) new include DSCD.INC
        (2) new routine $APLNOT/PRMUPD
        (3) $QNOT/ALGSTB.FOR - trap changes to LREC, NRPARM
        (4) $QNOT/BUFGET.FOR - better check on data compression
        (5) $QNOT/BUFPUT.FOR - same
        (6) $APLSUB/UVCONJ.FOR - remove assumptions on position of
                                 variables within data arrays
        (7) $APLNOT/UVDOUT.FOR - trap changes to LREC, NRPARM - will
                                 compress output if input was compressed
        (8) $APLNOT/UVDPAD.FOR - trap changes to LREC, NRPARM - deal
                                 with compressed input data.
        (9) $QNOT/UVMSUB.FOR - trap changes to LREC, NRPARM
        (10) $QNOT/UVMDIV.FOR - same
        (11) $QPGNOT/UVSUB.FOR - minor changes to deal with LREC etc.
             Fixed another major bug, the output file from UVSUB could
             not be plotted with UVPLT because the filename in the
             output catalogue header was wrong - fixed this.
        (12) Minor changes to ASCAL, BLCAL, BPASS, CALIB, FRING, MX,
             PCAL, VSCAL to initialize variables in DSCD.INC.
        Moved nowhere.

 7423.  March 4, 1993         MSGKILL                  Eric
        Changed the pseudoverb MSGKILL to accept a numeric argument
        instead of just TRUE and FALSE.  If MSGKILL is set to n, then
        all messages of priority 2 through n are totally suppressed
        (i.e., do not appear on the terminal or the file).  If it is set
        to TRUE, then no messages go to the file, but all of them go to
        the terminal.  Setting to FALSE restores normal operation.
        User beware!  Changed $APLSUB/MSGWRT.FOR, $AIPSUB/PSEUDO.FOR,
        and MSGKILL.HLP.
        Moved nowhere.

 7424.  March 4, 1993   $QOOP/QUVUTIL          Bill C.
        Added routine OUCDFT to add the DFT Fourier transform of a "W"
        corrected image model to a uv data set.   Only point models are
        processed. Can also optionally make minor corrections for
        bandwidth smearing and correct the values of u,v, and w for
        errors in the reference frequency.
           Added routine OUVSRT to sort and optionally rotate uv data.
           Routines OUMSUB and OUMDIV were modified to use UVDTCO to
        copy descriptive tables and to copy the sort order to the
        output.   Also put in Phil's changes for compressed data.
           Added a "fast" imaging option to OUVIMG using the standard
        AIPS routines IMGMEM et al.
        Moved nowhere.

 7425.  March 4, 1993        $APLOOP/UVUTIL.FOR      Bill C.
        Added routine UVTAVG to time average time-ordered UV data.
        Added routine OUVCLP to copy data flagging corelations with an
        excessive visibility amplitude.
           Added routine UVDTCO to copy descriptive (AN, SU, FQ) tables.
        Modified UVCOPY and UVSCR to use UVDTCO rather than UVFCOP and
        UVTCOP.
           Routines UVCOPY and UV2SCR now copy uv descriptors.
           U2IDES no longer changes selected Stokes from '    ' to 'I' in
        the uvdata object.
        Moved nowhere

 7426.  March 4, 1993   QCLEAN.FOR CLEAN.FOR         Bill C.
        Modified to allow round CLEAN boxes.  If the first element of
        the box is -1 then the second element is the radius and the
        third and fourth elements are the x and y pixel of the center.
        Note: this doesn't affect MX or APCLN.
           Fixed problem in algorithm deciding where to stop.  There was
        some confusion as to the meaning of NBMHIS; it was set to the
        dimension of BMHIS rather than the number of possible levels
        (i.e. the dimension of RESHIS).
           The input restoring beam was never being used.  Now it is
        read and if zero then the fitted beam is used.
            Streamlined CLRHIS not to determine RESMAX before
        determining histogram unless the initial guess is in
        considerable error.  Also added CLRMAX to determine abs max
        pixel value.
        Moved nowhere.

 7427.  March 4, 1993         $APLOOP/UVDATA.FOR        Bill C.
        OUVCLN now initializes the new object's CALEDIT member.
        OUVATT now sets new UV_DESC member ISCOMP to indicate if
        underlying disk file is in compressed format.
        Moved nowhere.

 7428.  March 4, 1993       $APLOOP/UVDESC.FOR          Bill C.
        Added new class member ISCOMP to indicate if the underlying disk
        file uses compressed format.
        Moved nowhere.

 7429.  March 4, 1993          $QNOT/UVTBUN           Bill C.
        Implemented superuniform weighting by reducing the grid size by
        a factor of 1/(1+UNFBOX).  This should allow using UVBOX>0 on TB
        sorted data.
        Moved nowhere.

 7430.  March 4, 1993       $QNOT/MAKMAP         Bill C.
        Fixed incompatability with UVGRTB/UVGRID.  These routines were
        scaling SCL*G(1) by the ratio of beam size to first field size
        and MAKMAP was setting SCL*G(1) the the appropriate value for
        the beam.  Thus if the beam and first field size were different
        the beam was misgridded.  I don't think there are any current
        applications that hit this bug.
        Moved nowhere.

 7431.  March 4, 1993        $APLNOT/REFFAZ            Bill C.
        A bug in the test for bad solutions caused bad single
        polarization solutions to slip through.  There were other bugs
        related to single polarization.
        Moved nowhere.

 7432.  March 4, 1993     $QNOT/IMGMEM                    Bill C.
        New package of routines to do an in memory, gridding, FFT and
        gridding corrections.  On the first pass of the FFT rows
        containing all zeroes are not transformed.  This package is much
        faster for cases where the entire grid and work arrays fit into
        the "AP" memory.  The following routines are used:
         - GRDMEM - read uv data and grid.
         - FFTMEM - do 2-D FFT
         - GRCMEM - do gridding correction and write image to disk.
        Moved nowhere.

 7433.  March 4, 1993   $QPGNOT/SCMAP                     Bill C.
        New task to do multiple iterations of self calibration
        especially intended for VLBI use.  On successful completion it
        produces a final, deconvolved image and a set of calibrated
        data.  Also SCMAP.HLP.
        Moved nowhere.

 7434.  March 4, 1993    $APOLNOT/GRDFLT                Bill C.
        Changes message level to 2 so that MSGKILL could suppress them.
        Moved nowhere.

 7435.  March 4, 1993    $YPGNOT/KNTR                   Gustaaf
        KNTR refused to label with velocities on VELO- type axes. It
        required FELO- type axes only. Now VELO- axes (radio defini-
        tion) are permitted, too.
        Moved nowhere.

 7436.  March 4, 1993   FNDPOL                         Bill C.
        Change advisory messages from level 8 to level 2 so that MSGKILL
        can get rid of them.
        Moved nowhere.

 7437.  March 4, 1993             TAPQL                Chris
        TAPQL is a new task that allows AIPS table data (minus the
        keywords --- I haven't figured out what to do with them yet)
        to be exported to the POSTGRES database management system.
        This probably won't be needed by anyone else but has been
        checked into the system as a template task for anyone who
        wishes to export AIPS table data to a RDBMS.
        Moved nowhere.

 7438.  March 4, 1993            TAPQL                 Chris
        Found out that source tbales have full stops in one of the
        column titles (ID. NO.); this upsets POSTGRES. Added code
        to replace full stops with underscores in attribute names.
        Moved nowhere.

 7439.  March 5, 1993             POSSM               Phil
        New version did not deal with subarrays when scan averages were
        asked for, now does. Also when plotting scan averages of BP
        entries a blank plot file was created for every scan in the NX
        table even though they did not correspond to BP entries. Now
        just runs until there is something to plot and then creates the
        plot table.
        Moved nowhere.

 7440.  March 5, 1993            BLING                 Chris
        Gave the user the option of increasing the search resolution.
        This works well for 2D searches but will cause the 3D search
        to fail if the narrow-band delay resolution is increased to
        a degree where the delay resolution is similar to the
        difference between narrow-band delays for different IFs.
        Moved nowhere.

 7441.  March 6, 1993       QUVUTIL                        Bill C.
        Routine OUNFWT declared and used variables JLOCF and JLOCIF
        which were also declared in the DUVH.INC include.  The Sun
        compilers don't catch this but Convexes do.  Changed variable
        names.
        Moved nowhere.

 7442.  March 6, 1993        QCLEAN                      Bill C.
        Modified trap for CLEAN gone bad to only work for IPOL as it
        gets upset at normal behavior of polarized CLEANs.
        Moved nowhere.

 7443.  March 6, 1993            $APLOOP/UVUTIL          Bill C.
        In a number of routines the UV_DESC was being copied before the
        output was opened eliminating it's effect.  These were:
        UVCOPY, UV2SCR, UVCLIP, UVVCLP and UVTAVG.
        Now calls UVDSCP rather than UVDCOP.
        Moved nowhere.

 7444.  March 6, 1993        $APLOOP/UVDESC.FOR         Bill C.
        Made a version of UVDCOP (UVDSCP) which doesn't copy GCOUNT,
        NDIM, NAXIS, NRPARM, ISCOMP, ANAME, FNAME, FDISK and VISOFF
        members.  This was causing confusion about how large a file is
        and which file it is.
           Also modified UVDCOP not to copy ANAME, FNAME, FDISK.
        Moved nowhere.

 7445.  March 6, 1993        $APLNOT/DGINIT.FOR         Bill C.
        DGINIT was not finding Qpol data if that was all that was in the
        file.  Likewise for Upol.
        Moved nowhere.

 7446.  March 6, 1993   $APLOOP/TABLEUTIL          Bill C.
        Added routine OSUPAN to determine the parallactic angle of a
        source at an antenna at a given time.
        Moved nowhere.

 7447.  March 8, 1993               BLING                Chris
        Fixed an indexing bug in the 3D search routine.  This caused
        subtle errors that were not noticable until the FFT interpolation
        code was added.
        Also fixed the calculation of the frequency spacing on the IF
        axis for the case where IFs are not evenly spaced.
        Moved nowhere.

 7448.  March 9, 1993       MX,QCLEAN            Bill C./Martin Shepard
        The loading of residuals had a couple of problems.  First the
        beam patch was allowed to be sufficiently large that there
        wasn't room for 256 residuals which is the size that the
        residual loading routines want to process.  Second, in the
        residual loading routine if the last buffer of residuals would
        not ALL fit in memory NONE were loaded.  These problems could
        result in no residuals loaded and the CLEAN quitting under some
        circumstances.
        Moved nowhere.

 7449.  March 9, 1993          BLAPP                 Chris
        Fixed a design bug in BLAPP.  Delays and rates are now forced
        to close by adding or subtracting the delay or rate ambiguities
        from the baseline-based quantities before performing the least-
        squares solution.  This required adding the ambiguities to the
        BS table (changed PUVD in INC, TABBS.FOR and BSINI.FOR in
        APLNOT, TABLEUTIL in APLOOP and BLING in QPGOOP).
        Moved nowhere.

 7450.  March 10, 1993            CATDIR               Eric
        Corrected it to check for empty slots on CSTA and return error
        code 6 (as INFO does) on empty.
        Moved nowhere.

 7451.  March 10, 1993            MAPCLR               Bill C.
        Changed to deal appropriately with changing behavior of CATDIR.
        CATDIR error 6 now means the file didn't exist and 10 means it's
        been asked to clear a flag that wasn't set.
        Moved nowhere.

 7452.  March 10, 1993            UVLIN                Gustaaf
        Put NPARMS to right number. Juan U. was concerned that too high a
        number was responsible for a reported problem.
        Moved nowhere.

 7453.  March 11, 1993	         $SYSUNIX/OPTIMIZE.LIS   Dave
	Changed DATGET and DATFLG to IBM OPT 0; Removed reference
	to PBASET and added BPASET IBM OPT 0; Also added UVLIN
	IBM OPT 1 as per Gustaaf's request.
	Moved nowhere.

 7454.  March 11, 1993            UVLIN                Gustaaf
        COMLNK'ed UVLIN in view of change in OPTIMIZE.LIS which prevented
        UVLIN from running on the IBM's.
        Moved nowhere.

 7455.  March 11, 1993            BLING                 Chris
        BLING now filters the scan list so that it doesn't try to read
        data for sources that were not requested by the user.  This
        speeds up processing and gets rid of some ugly-looking error
        messages.  It also appears to cure a problem where BLING would
        occasionally abort prematurely after examining a large number
        of scans without finding any selected data.
        Moved nowhere.

 7456.  March 11, 1993            BLING                 Chris
        Entries in the BS table now carry times determined from the
        beginning and end of the actual data rather than the midpoint
        of the scan.  Also corrected to output units of the residual
        phase to agree with the units field in the BS table and widened
        the time selection window by 1/10th of a second at each end
        of a scan to avoid data being lost at the ends of a scan due
        to accumulated floating-point rounding errors.
        Moved nowhere.

 7457.  March 12, 1993           IMAGE                         Bill C.
        IMGCLN now uses IMGATT to create the new file and attach to it.
        In the old scheme the file name etc. could be left pointing at
        the original file.
            IMGOPN no longer marks an object as invalid when it opens it
        for write.  This was running afoul of the dastardly CATIO.  If
        an object is to be updated (read AND written) it has to be
        opened 'WRIT' first.  The image class only sets the catalog
        status on the first open of an AIPS file.  CATIO refuses to
        update the catalog header (required on close for write) if the
        catalog status is "READ".  If it weren't for CATIO I wouldn't
        have any problems (he said deliriously).
            Modified a number of member functions to open the output
        object first in case it was also an input object.  Also added
        better error messages to these routines.
            Member functions IMGSUB and IMGDIV were missing; added them.
        Moved nowhere.

 7458.  March 12, 1993        $APLOOP/ARRAY.FOR         Bill C.
        Added missing routines ARRSUB and ARRDIV to subtract and divide
        array objects.
        ARRCLO now saves the CATBLK if it modified it so IMGCLO will not
        do something bad.
           ARRCWI now sets the first TRC element to zero to cover the
        case of complex data.
           Improved error messages in ARRIO on attempt to access data
        after file exhausted.
        Moved nowhere

 7459.  March 12, 1993         $QOOP/APUTIL                  Bill C.
        Reset access to row in AP2IMG and IMG2AP.
        Moved nowhere.

 7460.  March 12, 1993         $APLOOP/CXUTIL.FOR            Bill C.
        New package of utility routines related to the complex image
        (CX_IMAGE) class.  These mostly convert between CX_IMAGE objects
        (the only type of complex image allowed permanently in AIPS) and
        IMAGE objects of type complex (the useful ones for image
        arithmetic).
          IMG2CX - Convert image of type complex to a CX_IMAGE.
          CX2IMG - Convert CX_IMAGE to image of type complex.
          IMGR2C - Convert real image to image of type complex with zero
                   imaginary.
        Moved nowhere

 7461.  March 12, 1993         $QOOP/QINTER.FOR                Bill C.
        New package of image interpolation routines.  The top level is
        IMGIMT and it interpolates one image to another.  This routine
        only does flat geometries and positions are relative to the
        image reference pixel.  Unlike the *GEOM tasks this routine will
        interpolate over blanked pixels and can fill in small blanked
        regions.  At the edges of the image being interpolated the
        interpolation kernal is adjusted to reduce edge effects.
        Public functions:
           IMGINT - Interpolate with shift and rotate.
        Private functions:
           IMINST - Set up for interpolation, read input plane.
           IMINTR - Returns interpolation value at (x,y)
           ININFN - Return interpolation function
        Moved nowhere

 7462.  March 12, 1993        $YPGNOT/VBPLT.FOR              Phil
        When plotting time-averaged phases the plots were labelled in
        radians. Fixed.
        Moved nowhere.

 7463.  March 12, 1993              BLAPP                    Chris
        Made a number of changes in the handling of residual phases.
        - Phases in the BS table are now recognized as being in degrees.
        - Phases are forced to close before solving for antenna-based
          phases (I missed this when forcing delays and rates to close).
        - Phases for the same scan are rotated to a common reference
          time using the baseline-based residual rates.
        The following changes were also made.
        - Rates are now converted to sec/sec using the reference
          frequency for each IF rather than a single frequency for
          all IFs.
        - The value of the SOLINT adverb does not get lost in
          cyberspace any more.
        Moved nowhere.

 7464.  March 12, 1993               BLAPP                  Chris
        Fixed a whole slew of stupid mistakes that I made in the
        previous change.
        Moved nowhere.

 7465.  March 12, 1993         ZDCHIN                   Eric
        Changed $INC/DZCH.INC to add a pointer to a non-file "file
        descriptor" for Pat to use with the message window.  Changed
        $APLGEN/ZDCHIN to init this and pass it into ZDCHIC.  Changed
        $APLCRI and $APL3090 versions of ZDCHIN to match $APLGEN,
        including adding the network-wise code from Mark.  Changed
        $APLUNIX/ZDCHIC.C and $APLGEN/ZDCHIC.FOR (stub) for new call
        sequence and, in the former, to set set both of the non-file
        parameters into external variables for C use.  Changed $APLIBM
        and $APLCRI to match $APLUNIX - neither had been fixed the last
        time the call sequence was changed!  Removed the $APLDEC version
        which was exactly the $APLUNIX version.
        Moved nowhere.

 7466.  March 12, 1993          ZACTV8                   Eric
        Message levels are not some game where you can choose anything
        you want.  Informative messages are 2 through 5 with 5 only for
        the real answers.  Errors and warnings start at level 6 with
        warnings, 7 for minor errors (suppresible), 8 for serious errors
        and higher for the building burning down.  Changed level 5 error
        messages to levels 6 and 7 in $APLUNIX/ZACTV8.FOR.
        Moved nowhere.

 7467.  March 15, 1993               GAL                 Gustaaf
        After nine years, a completely new version of the velocity
        field fitting task GAL is now added to AIPS. Improvements
        include: 1) fewer restrictions on image size, 2) a weight
        map (IN2NAME) can be specified, 3) a wider choice of
        residual maps is offered, 4) plot option supports DOTV.
        Moved nowhere.

 7468.  March 16, 1993         TABED                         Bill C.
        Output tables were not being marked as unsorted.
        Moved nowhere.

 7469.  March 16, 1993         UVFIT                      Phil
        Added the option to fit to the real part of the data only,
        useful if have calibrated and want to avoid the noise bias
        problem inherent in amplitude only fits.
        Also updated UVFIT.HLP
        Moved nowhere.

 7470.  March 16, 1993           MK3IN                    Chris
        Added source selection using the SOURCES adverb. Also added
        a capability for defining substitute names for antenna names
        in the input data as part of the experiment file.  This
        also allows multiple antenna names to be mapped to a single
        antenna.
        Moved nowhere.

 7471.  March 17, 1993      MX                          Bill C.
        Fixed a  bug in computing beam histogram;  sidelobes exterior to
        the maximum beam patch were being ignored.   This probably only
        affects VLA widefield snapshots.  In the DDT large MX clean test
        this change caused zero differences.
        Moved nowhere.

 7472.  March 17, 1993            BLING                   Chris
        Changed the order of a calculation in MRQCOF to reduce the
        chances of an arithmetic overflow.
        Moved nowhere.

 7473.  March 18, 1993      UVUTIL.FOR                      Bill C.
        Corrected message level from 6 to 4 in SLFREF for an informative
        message.
        Moved nowhere.

 7474.  March 18, 1993	   VLAPROCS, VLACALIB, VLACLCAL	    Dave A.
	Added QUAL adverb to $HLPFIL/VLACALIB.HLP; added SOUCODE
	adverb to $VLACLCAL.HLP; took QUAL default setting out
	of $RUNSYS/VLAPROCS.001.
	Moved nowhere.

 7475.  March 18, 1993    $SYSUNIX/FDEFAULT.SH             Pat
        Changed default options for IBM compiler to include "-u" which
        disables implicit typing (i.e. turn on "implicit none).
        Moved nowhere.

 7476.  March 18, 1993    $APGNOT/SETJY.FOR                Glen
        Since 3C295 is actually the VLA flux density calibrator, and
        I needed to calculate the flux density at several frequencies,
        the 3C295 Baars  etal coefficients have been added.
        Moved nowhere.

 7477.  March 19, 1993            BLING                    Chris
        I have noticed that the fit to a 3-D peak often fails due to
        a loss of precision due to gradual underflow.  The peak fitting
        procedure has been modified to work in double precision to
        reduce the chances of this happening.  Also added a test on the
        value of lambda (which controls the amount by which the fitted
        parameters are changed) to the convergence criteria since the
        result of underflow is that lambda become very large while
        chi-squared does not change significantly; without the test
        on lambda BLING was accepting parameters from fits that were
        diverging.
        Moved nowhere.

 7478.  March 22, 1993            BPASET              Phil
        Added weight arrays to the code for DOBAND = 1. This is useful
        in the case of half a BP entry being flagged and being averaged
        with an entry which is not flagged. This was never dealt with
        before but now is.
        Moved nowhere.

 7479.  March 22, 1993             BLING               Chris
        After some experimentation I found that the round-off instability
        in fitting a 3D Gaussian model to the peak could be avoided
        by permuting entries in the curvature matrix.  Also added
        very small values of the lambda parameter as a disjunct
        criterion for convergence and switched to the LAPACK expert
        driver for solving linear equations (DGESVX) which allows
        the augmented curvature matrix to be equilibrated and gives
        some additional information useful for debugging.
        Moved nowhere.

 7480.  March 22, 1993		COMB			Dave A.
	COMB was blanking all pixels with Q**2+U**2 < 1E-09.
	This apparently was throwing away too much good data.
	Reduced the above restriction to 1E-15.
	Moved nowhere.

 7481.  March 23, 1993             MK3IN            Phil/Walter Alef
        3 minor fixes:
        (1) In its concatanation mode MK3IN would expand the file
            but then not shrink it down at the end, fixed this.
        (2) Also in its concatanation mode it was possible for the AN
            table to be screwed up, trapped this.
        (3) There was a small bug in deciding the time interval between
            CL entries, fixed.
        Moved nowhere.

 7482.  March 23, 1993             SETJY            Glen
        Still trying to sort out a proper amplitude calibration.  When
        calculating the error due to the Baars etal cooefficients, I
        discovered that the flux densities estimated are Very Large.
        Added error baars to SETJY output.
        Moved nowhere.

 7483.  March 24, 1993     CALIB.FOR, .HLP          Bill C.
        Added adverbs CMETHOD and CMODEL to control the model
        computation step.
        Moved nowhere.

 7484.  March 24, 1993           POSSM.FOR, .HLP        Phil
        Some minor changes:
        (1) NCOUNT = 1 now means 1 plot/page and multiple pages;
            NCOUNT = 0 will average data to produce a single plot.
        (2) Made the y-axis labels flotaing point and accurate
            again, but as a result made the maxium NCOUNT = 9.
        (3) removed the restriction one plotting single point
            spectra but only in the case of plotting multiple IF's
        Updated the .HLP file to reflect these changes.
        Moved nowhere

 7485.  March 24, 1993           DGINIT                     Bill C.
        If STOKES was 'V' and the data set had only Vpol this fact
        escaped DGINIT and it pronounced the data defective and died.
        Moved nowhere.

 7486.  March24, 1993          tapes                        Eric
        Made a bunch of changes in an attempt to get tapes to work
        correctly, especially with end-of-tape and the like.  Changed:
        AU4     $AIPSUB: changed BAKF operation on TPHEAD error from a
                TAPIO call to a ZTAPE call with 1 file (or 2 on an EOF);
                also changed FNDEOT call to ZTAPE AEOI call and changed
                to allow super-high density 22500.
        AVTP    $APLPGM: changed FNDEOT call to ZTAPE AEOI.
        FITTP   $APGNOT: changed FNDEOT call to ZTAPE AEOI.
        PRTTP   $APLPGM: changed error handling on header read to ZTAPE
                BAKF call with 2 files for EOF and 1 for all other
                errors.
        TAPIO   $APLSUB: added tests on number of bytes written.
        TPHEAD  $APLSUB: added test for end-of-medium and reworded the
                error messages.
        ZMOUN2  $APLSUN: added code to open the tape device to determine
                its type and then to use the density input to alter the
                device name appropriately by tape type; 22500 => 5 Gbyte
                Exabyte.  Also changed to return message about the type.
                Changed to force _POSIX_SOURCE and do file locking with
                fcntl rather than flock.
        ZMOUNT  $APLGEN: changed to handle messages on success, adding
                the host information, and to avoid changing tape names
                in common until the mount is successful (it was wiping
                the common when a user tried the same mount twice,
                making the dismount not work).  Changed call sequence to
                pass back the message and system error code for TPMON.
        ZSTAIP  $APLGEN: changed call sequence to ZMOUNT.
        ZTAP2   $APLSUN: added BOT, EOT, EOF error codes from Xylogics
                and scsi system include files; added BEGW and AEOI
                opcodes; added status checking to ADVR (BAKR could use
                it too); BEGW and WEOF have full status checking and
                write only 1 EOF except for Xylogics (1/2inch reel)
                for which we write 2 and back up over all EOFs and then
                forward if we weren't at BOT to begin with; dropped MEOF
                opcode; added AEOI to EOM opcode and added ZMSGWR call
                to tell where the tape was positioned after AEOI.
        ZTAPE   $APLGEN: dropped MEOF and added AEOI and removed all
                references to MOUNT in precursor comments; moved WEOF,
                BEGW, and AEOI operations into ZTAP2.
        ZTPMI2  $APLUNIX: changed to leave ierr = 0
        ZTPWA2  $APLSUN: new version does Sun-specific status checking
                needed to tell the difference between EOM and EOF.
        ZTAPE   $APLVMS: copy of old $APLGEN/ZTAPE with code to do the
                AEOI in the way FNDEOT did it (but without recursion)
                including a message about what it did.
        ZTAP2   $APLVMS: updated precursor comments only.
        ZTAP2   $APLGEN: updated precursor comments only.
        ZTPOP2  $APLIBM: new version, gets tape type from system.
        ZMOUN2  $APLIBM: gets tape type from lsdev command, sends
                message back to ZMOUNT about the type, makes the
                actual device assignment depend on density (reel tapes
                only for 6250).
        ZTAP2   $APLIBM: added call to force blocksize to 0 for
                Exabytes; changed WEOF to do 1 or 2 EOFs with
                appropriate tape positioning; added BEGW to the WEOF
                part and a simple-minded AEOI (no IBM opcode for this is
                available! so I did FNDEOT in C inside ZTAP2) including
                an appropriate message.  ZTAP2 has to generate this
                message since on Suns it is an absolute file number and
                on others it is a file number relative to the starting
                position.
        MOUNT   $HLPFIL: changed comments and limit on DENSITY.
        DENSITY $HLPFIL: changed remarks about accepted values and how
                they are used.
        TPMON   $AIPNOT: changed call sequence of ZMOUNT to pass back
                the message and system error correctly.
        GRITP   $AIPNOT: fixed ZMOUNT call sequence.
        GR2TEX  $AIPNOT: fixed ZMOUNT call sequence.
        ZMOUN2  $APLCVEX: added test for density 22500 (= 6250 here)
                and improved error and good return messages.
        ZTAP2   $APLCVEX: add code to do full WEOF and BEGW and AEOI,
                add further status checking.
        ZTPWA2  $APLCVEX: add status checking on error.
        ZMOUN2  $APLVMS: changed to return message on good return.
        ZMOUNT  $APLVMS: updated call sequence and handling of returned
                strings.
        Moved nowhere.

 7487.  March 26, 1993       tapes               Eric
        More changes:
        ZMOUNT   $APLGEN: was not unsetting the logical if the mount
                 fails.  We can't unset this on an attempt to mount
                 twice; so added test on tape name in common before
                 trying the mount as well as code to unset on error.
        ZMOUN2   $APLCVEX: added code to test tape type and report.
        ZTAP2    $APLCVEX: corrected code for AEOI and others.  Dropped
                 test on fileno = recno = 0 since they can get off.
                 Tried this extensively on yucca.
        Moved nowhere.

 7488.  March 29, 1993        BPCOR                 Phil
        Ensured that the diameter of and the support width of the
        smoothing functions had reasonable defaults. The task failed
        if these were left at zero.
        Moved nowhere.

 7489.  March 29-30, 1993        tapes             Eric
        Changed the $APLIBM versions of ZMOUN2.C and ZTPOP2.C to give
        the full path of the function used to find the tape type.
        Changed ZMOUNR to check logical DISMOUNTED rather than the
        obsolete UNMOUNTED.  Changed $APLGEN ZMOUNT to make SYSERR
        equivalent to IERR on MOUNTS (ZMOUNR can return IERR = 0 meaning
        no communication error, but some real SYSERR), and to
        reinitialize all common parms and the logical whether or not
        dismount has an error.  These should make mounting a little less
        ``sensitive.''
        Moved nowhere.

 7490.  March 30, 1993     LWPLA.FOR/LWPLA.HLP    Glen/Fred
        Fred suggested I add the slide maker 4x5in mode to LWPLA options.
        Moved nowhere.

 7491.  March 30, 1993         $SYSUNIX/STARTPMON           Pat
        Made it a bit more bullet proof and made the messages more
        informative.  It now tells you (a) if the TPMONx files in $LOAD
        are out of date, and (b) if it can't do something because of
        ownership differences (process, file).
        To be moved to the AOC in a few minutes time.

 7492.  March 30, 1993        $APLCVEX/ZTT*                 Pat
        Removed ZTTYIO.FOR and ZTTOP2.C.  There are no message terminals
        used anywhere in NRAO (or ATNF according to Eric) and the
        MSGSERVER works fine with the generic $APLUNIX versions to be
        put back momentarily.
        (re)moved nowhere else.

 7493.  March 30, 1993          BLING                        Chris
        Switched to an explicit calculation of the variance in estimating
        the noise rather than an approximation.  The approximation
        produced negative variances on rare occasions.  Also removed
        the artificial SNR degradation prior to the 3D peak-fitting; this
        is no longer necessary after improving the stability of the
        fit.
        Moved nowhere.

 7494.  March 30, 1993         MSGSERVER                     Pat
        Finally got MSGSERVER and its bits and pieces finished.  In the
        process I got rid of the convex (see above) and IBM versions of
        some routines that were unnecessary as the new generic versions
        work fine.  Also replaced XASERVERS, TVDEVS.SH and START_AIPS.
        The last two need to be moved to $AIPS_ROOT at the three AOC
        sites as soon as the MNJ is done!!!
        Changed in $APLUNIX: ZTTOPN.FOR and ZTTYIO.FOR.
        New routines in $APLUNIX: ZTTOP2.C and ZTTYI2.C.
        Tested on Sparc, IBM RS/6K, Convex.
        Moved nowhere.

 7495.  March 31, 1993       $QOOP/QCLEAN.FOR             Bill C.
        CLBHIS had a maximum beam patch size with an incorrect, hardcoded
        upper limit.  Also fixed bugs in computing beam histogram.
        Sidelobes exterior to the maximum beam patch were being ignored.
           CLCCRM was not initializing variable JCOUNT; multiple calls
        caused erratic behavior.
           Changed all calls to OUMSUB to UVSUBM to allow more generic
        modeling routines.
           Modified the "AP" memory usage.  Calls to QCLNSZ are made to
        see the amount of "AP" memory rather than using only KAPWRD. The
        beam is allowed to use any of this memory necessary but there is
        a limit of 20,000 residuals.  This allows using much larger
        dirty beams; on suns a full 1024 beam is possible.
        Moved nowhere.

 7496.  March 31, 1993      QCLNSZ.FOR                   Bill C.
        New routine to tell the size of the "AP" for the Clark CLEAN
        algorithm.  A generic version in $QPSAP gives the traditional
        size to allow for vector implementations.  Another version put
        into $QSUN and $QIBM tell the full memory available.

 7497.  March 31, 1993       CLEAN,QCLEAN.FOR             Bill C.
        Added option to suppress making a new beam when starting a
        CLEAN.  This should be used only if an appropriate beam has been
        made since the CLEAN object was opened.
        Moved nowhere.

 7498.  March 31, 1993       $QOOP/QUVUTIL.FOR           Bill C.
        Modified OUNFWT to use UVTBUW rather than UVTBUN for doing the
        uniform weighting.
           Added routine OUFDFT to do first order bandwidth smearing
        corrections in adding a model to a uv data set.
           Added generic routines:
           UVSUBM - subtract the FT of a model from a uv data
           UVDIVM - divide the FT of a model into a uvdata set.
        The routines allow more general modeling routines and in
        particular support DFT imaging and imaging with frequency
        dependent primary beam corrections.
        Moved nowhere.

 7499.  March 31, 1993         $QOOP/PBUTIL.FOR          Bill C.
        New utility module for uv model calculations including a
        frequency dependent relative primary beam correction.  The model
        of the antenna pattern is that of a uniformly illuminated disk
        which appears to be a good approximation for the VLA antennas.
        Public functions are:
          PBFSUB - Subtract FT of a model with corrections from uvdata
          PBFDIV - Divide FT of a model with corrections into uvdata
        Private functions:
          PBFCCT - Make temporary, frequency scaled CC table object
          PBFSCI - Make temporary, frequency scaled image object
          PBFACT - Returns relative primary beam correction.
        Moved nowhere.

 7500.  March 31, 1993     $QNOT/UVTBUW.FOR              Bill C.
        This is a new routine to do uniform weighting of arbitrarily
        sorted data.  This is a "more correct" uniform weighting
        as it uses the sum of the weights rather than the counts in a uv
        cell to determine the correction.
        Moved nowhere

 7501.  March 31, 1993      $QPSAP/QWTCNT.FOR           Bill C.
        New routine.  Like QHIST but is given a vector of elements
        rather than incrementing by 1.0.  Used by UVTBUW.
        Moved nowhere.

 7502.  March 31, 1993      $QNOT/VSFDFT.FOR             Bill C.
        New routine to add the DFT of a model with first order
        corrections for bandwidth smearing and frequency error
        corrections to a uv data set.
        Moved nowhere.

 7503.  March 31, 1993         $APLOOP/UVUTIL.FOR            Bill C.
        NXTAVG had an error in handling UVRANG; it was not being
        converted into wavelengths.
        Moved nowhere.

 7504.  March 31, 1993         SCMAP.FOR, .HLP                  Bill C.
        Since the first CLEAN is likely to be deeper than following
        CLEANs the RMS of the first CLEAN is now prohibited from being
        the best for purposed of determining convergence.
           Changed the convergence criteria to RMS/(sum of CC fluxes) to
        deal with the case of very bad initial calibration.  Also now
        expliticly state when the solution is diverging and force
        abnormal termination.
        Moved nowhere.

 7505.  March 31, 1993        $APLUNIX/ZTTOPN.FOR            Pat
        If the MSGSERVER dies, one wants messages to revert to the main
        terminal or xterm.  Modified this routine to check status of the
        ZTTOP2 call and if it reports problems on the socket
        (connecting, for example), it SILENTLY reverts to normal use.
        Moved to the AOC today.

 7506.  March 31, 1993          AIPSB                 Eric
        Changed a hard-coded limit of 51 on the job number and added
        better error messages.  Job numbers can now go up to 64 (since
        the code overhaul).
        Moved nowhere.

 7507.  March 31, 1993 $APLUNIX/ZTTOPN, ZTTOP2, ZTTCLS, ZTTCL2    Pat
        Fixed bug that was causing zillions of open file descriptors not
        to be closed and an eventual collapse of the MSGWRT process.
        Moved to the AOC Sun cluster just now.

 7508.  April 1, 1993            BLING                Chris
        Fixed several instances where xxxGET routines from the OOP
        package were called with parameter TYPE arguments.  TYPE
        is an output argument.  Apparently we have no machines
        other than the Convex that catch this error.
        Moved nowhere.

 7509.  April 1, 1993            BLAPP                Chris
        Eradicated more calls to xxxGET routines with constants in
        the wrong places.
        Moved nowhere.

 7510.  April 2, 1993           BLAPP                 Chris
        Found that a counter was not being reset after each scan
        leading to possibly erroneous results and fixed it.  Also
        found that the column index was not being cleared for
        multiband delay solutions and fixed it.
        Moved nowhere.

 7511.  April 2, 1993            BLAPP                Chris
        Made CL table handling safer.  BLAPP now has GAINVER and
        GAINUSE parameters and writing to CL version 1 is no
        longer permitted.  Also added code to delete the scratch
        SN table if BLAPP dies unnaturally.
        Moved nowhere.

 7512.  April 5, 1993            XAS                  Chris
        XAS was positioning the icon off screen when no icon
        position was specified on the command line or in the
        resource database.  XAS no longer sets the IconPosition
        IconPositionHint flag unless the user explicitly sets
        an initial icon position.  This is makes XAS much more
        sociable as it allows the window manager to decide what
        the default icon location is.  Also made the X11R4
        interfaces the default rather than X11R3 (no one ships
        R3 any more).  This required a slew of bug fixes (it is
        apparent that the X11R4 code had not been tested at all).
        - Added a missing declaration for old_handler in
          SetupWindow().
        - Made sure that the PPosition and PSize flags are not
          set outside the X11R3 #ifdef branches in SetupWindows()
          since the corresponding fields of the size hints
          structure are not set.
        - Corrected calls to XStringListToTextProperty(): text
          property structures are passed by reference.
        Also.
        - Declared the buffer correctly for XGetErrorText() in
          XAS_IOhandler(); it was previously a pointer with no
          allocated storage.
        - Made sure that XGetErrorText() is not called if the
          server connection is terminated; the XErrorEvent field
          is not filled in in this case and core will be dumped
          if it is dereferenced to get the error number for
          XGetErrorText().
        - Corrected comments about -I and -L flags for Sun OS
          in Makefile.
        - Removed (bad version of) AIPSSHAR from XAS.SHR.
        Moved nowhere.

 7513.  April 5, 1993       BLAPP               Chris
        Fixed a bug in setting up the simultaneous equations that
        caused the reference antenna to be disconnected from the
        rest of the array.
        Moved nowhere.

 7514.  April 6, 1993        TVRGB TVHUI               Eric
        Changed TVRGB and TVHUI help files to explain use of 2nd
        channels.  Changed TVHUI to enter 2nd image in image catalog.
        Moved nowhere.

 7515.  April 6, 1993          TVCPS                   Eric
        Corrected addressing into the LUTs and OFMs.  Fortran arrays
        begin at 1, but the data values begin at zero.  Changed it to
        control the gamma correction, allowing the user to set gamma
        correction values for all channels.  The previous default was to
        use no gamma correction and hence to produce a rather faint
        picture or one in only the 3 primary colors.  Also changed the
        help file of course.
        Moved nowhere.

 7516.  April 6, 1993          TVPHLAME                 Eric
        Changed POPSDAT.HLP and AU6.FOR and created help file to make
        new verb TVPHLAME - yet another pseudo-coloring scheme.
        Moved nowhere.

 7517.  April 6, 1993        VLBA.001/VLBA.HLP         Phil
        New procedure placed into the $RUNSYS area to ease the
        examination of VLBA correlator data. It will automatically
        read the VLBA FITS file, generate a CL table, plot the
        total power data, fringe-fit, plot the delay/rate solutions,
        apply the delay/rate solutions and plot the calibrated
        visibility amplitudes and phases.
        Moved nowhere.

 7518.  April 6, 1993           BLAPP                   Chris
        BLAPP now writes the frequency ID to the temporary SN
        table correctly.  SNPLT, CLCAL etc. will now handle
        the SN table when it is preserved.
        Moved nowhere.

 7519.  April 6, 1993           CALIB/VISDFT            Glen
        Added an option to allow CALIB to scale the clean components
        file when using a clean model with a multisource dataset.
        This allows clean models to be used to calibrate the antenna
        gains.
        Moved nowhere.

 7520.  April 6, 1993           COMAP.001            Glen
        Minor errors cleaned up.
        Moved nowhere.

 7521.  April  6, 1993          BLAPP                  Chris
        BLAPP now writes blanks the the wide-band delay column of
        the SN table rather than zeros if the wide-band delay is
        not solved for.  Previously, SN2CL was applying rate
        corrections to the zero wide-band delay producing non-zero
        multiband delays in the output CL table.
        Moved nowhere.

 7522.  April 6, 1993           BPASET                 Phil
        The change I put in on March 22 screwed up for 2IF data,
        it did not initialize the internal weight array on the
        2nd IF when further antennas were read in from the BP
        table. Fixed.
        Moved nowhere.

 7523.  April 6, 1993     XASERVERS in SYSUNIX         Chris
        Modified XASERVERS to allow users to choose which terminal
        emulators to use (if any) for TEKSERVER and MSGSERVER by
        setting the variables AIPS_TEK_EMULATOR and AIPS_MSG_EMULATOR.
        The default is to use xterm for the Tek window and (by
        popular request from AOC users) to disable the message server.
        This change also allows XASERVERS to run on machines that do
        not have xterm installed.  Also removed "hard-wired" resources
        to prevent annoying icon placement under olwm and mwm (if the
        mwm icon manager wasn't turned on the AIPS icons had a nasty
        habit of appearing underneath open windows) and to allow
        the user more freedom to customize the windows.
        Moved nowhere.

 7524.  April 7, 1993           UVGET                   Phil
        There was a rounding problem in selecting the UVRANGE of
        the data. Normally it doesn't matter but Craig had some
        cross-correlated data with u,v,w=0 (looking at phase-cals)
        and AIPS refused to select this. So I changed the selection
        criterion by -1.0e-10, and it now works.
        Moved nowhere.

 7525.  April 7, 1993   Server documentation          Chris
        Added help files giving information about the Tektronix
        server (TEKSERVER.HLP) and the message server
        (MSGSERVER.HLP).  These contain instructions for
        selecting terminal types and setting selected resources.
        Also added some information about the servers to the
        AIPS man page (AIPS.L in SYSUNIX).
        Moved nowhere: someone should install the new man page
        in Charlottesville.

 7526.  April 8, 1993        $APLOOP/ARRAYDESC,IMAGEDESC     Bill C.
        Added new member function to copy descriptors (ARDCOP, IMDCOP)
        and to copy descriptors not related to size (ARDSCP).
        Moved nowhere.

 7527.  April 8, 1993         $APLOOP/UVUTIL.FOR        Bill C.
        UVREFQ was creating a temporary table object and never deleting
        it.
        Moved nowhere.

 7528.  April 8, 1993         $QOOP/QCLEAN.FOR                 Bill C.
        The default was changed from 200 interations to 0.
        Fixed several problems related to image position shifts.  Added
        a new routine CLNIIF to check and obtain image information after
        the initial dirty/residual images are made.
        Moved nowhere

 7529.  April 8, 1993       $QNOT/MAKMAP,IMGMEM           Bill C.
        Added calls to IMHCOR to force agreement of the catalog header
        with what was done to make the image. This should fix some
        problems with phase position shifts in the OOP imaging routines.
        IMGMEM now sets NGRDAT to true.
        Moved nowhere.

 7530.  April 8, 1993        $APLNOT/IMHCOR               Bill C.
        New routine to force agreement between the image header and the
        imaging parameters in the various commons.
        Moved nowhere.

 7531.  April 8, 1993      XASERVERS in SYSUNIX           Chris
        Forgot that X programs may not be in the search path if
        XASERVERS is run from an rsh session :-(.  Likely places
        for X clients to hide are now appended to PATH in a less
        over-engineered scheme than before.
        Moved nowhere.

 7532.  April 8, 1993       VLBA.001/HLP                   Phil
        Made the default fringe solution interval 15 minutes.
        Added an option to switch off the lsq fit in fring, for
        when the correlator group just want a quick look.
        Moved nowhere.

 7533.  April 13, 1993        $APLOOP/HISTORY.FOR         Bill C.
        OHCOPY was not correctly resetting MSGSUP.
        Moved nowhere.

 7534.  April 13, 1993           $QOOP/PBUTIL.FOR         Bill C.
        PBFCCT was not deleting temporary input table.
        Moved nowhere.

 7535.  April 13, 1993      $APLOOP/TABLEUTIL.FOR      Bill C.
        OCHNCO was making unnecessary copies of the input table objects.
        Moved nowhere.

 7536.  April 13, 1993            $QOOP/QCLEAN.FOR       Bill C.
        CLACLN modified so that it requires the field flux to be
        dropping more and the minimum absolute flux to have increased
        more before giving up on the CLEAN.  At end of CLACLN the
        minimum flux is now set to the minimum of this pass.
        Also, CLACLN no longer assumes asynchronous "AP" operation and
        this eliminated finding an extra 32 components.
        Moved nowhere.

 7537.  April 13, 1993          $APLOOP/IMAGE.FOR          Bill C.
        IMGATT now checks for compatability of requested file with
        existing file if an existing file was found and IMGATT was
        called with DOCREA = true.
           Added routine IMCOPY to copy one image to another.
           Added routine IMCLNX to copy descriptors from one object to
        another if the output object is not fully instantiated (the AIPS
        file exist).  Added calls to IMCLNX to most image operations
        (add, multiply etc.) These routines can now be provided with
        output objects with only the names set.
        Moved nowhere.

 7538.  April 13, 1993              $SYSLOCAL/NOSHARE.LIS     Phil
        Added SCMAP and IM2UV to this list, needed for the AOC.
        Moved nowhere.

 7539.  April 13, 1993        VLBA.001                Phil
        Added the options to not read a FITS file, i.e. if want to
        restart the procedure; and to scale the time range, amplitude
        and phase ranges plotted by VBPLT.
        Moved nowhere.

 7540.  April 15, 1993           $APGNOT/FILLM         Gustaaf
        Made a small change to FILLM which allows now source names
        up to 12 characters instead of the previous 8. This was
        prompted by the survey observations where sourcenames
        of length 11 are customary.
        Moved nowhere.

 7541.  April 15, 1993          $APGNOT/ANCAL           Phil
        Major changes to ANCAL. ANCAL had trouble dealing with MkIII
        data, the TSYS columns had to be in the same freq. order as the
        data, it could not deal with the case when there was only one
        TSYS value for all IF's, it needed 2 passes to calibrate dual
        polarization data etc.
        Added three new keywords in the text file:
        INDEX enables the user to specify the polzn and/or freq order of
        the TSYS columns that follow;
        ALLCHAN deals with the case where an antennas has only one
        value of TSYS for all IF's
        BOTHSIDE deals with the case where an antenna has TSYS
        measurements for all IF's but only one sideband of the pair.
        Also made the DPFU and OFFSET parameters arrays of size 2 so
        that the user can specify a value for each polzn (R/L) and so
        calibrate dual polzn data in one pass.
        Made extensive changes to the explain file, to clean the whole
        thing up.
        Moved nowhere.

 7542.  April 15, 1993        $YPGNOT/SNPLT                Phil
        In its PLIF mode, SNPLT was not dealing with LHC polzn data
        when 2 polzns were present due to an indexing error. Fixed.
        I also got fed up having to type OPTYPE='AMP ', instead of
        OPTYPE = 'AMPL' every time, fixed ot so that only the first 3
        characters are compared.
        Moved nowhere.

 7543.  April 15, 1993                   $APGNOT/FITLD       Phil
        Many changes to reflect the debugging of the VLBA - AIPS
        interface.
        (1) We were breaking FITS rules in using the OBJECT keyword to
        define the VLBA FITS format. Now if NAXIS = 0 and EXTEND = T the
        task expects all the information to lie in binary tables and
        will invoke the VLBA tables.
        (2) Added a secret print level for debugging, if OPTYPE = 'DE',
        then debug printing is turned on.
        (3) Increased the unit of file size created and added to to be
        10000 visibilities.
        (4) FITLD would fail if trying to concatanate and some files
        were in write status, fixed so it will only fail if possible
        targets for concatanation or in the wrong status.
        (5) Will reverse the baseline direction if Ant2 > Ant1
        (6) Will normalize the VLBA data by the weight
        (7) Has the ability to shuffle the data in freq order so that it
        sits in AIPS in increasing freq. order.
        (8) Made the error message more informative if current VLBA
        quantum header disagrees with the current AIPS file header.
        The task is not perfect yet, and many more changes will be
        necessary, however it can read the current state of the VLBA
        correlator's output.
        Moved nowhere.

 7544.  April 16, 1993           $QOOP/QUVUTIL        Bill C.
        UVSUBM was incorrectly handling the default for MODFAC
        effectively setting it to zero.  Several related bugs fixed.
        In ODFT the center pixel was changed to (nx/2, ny/2+1) to agree
        with FFT conventions.  Also modified to tell the max and mins.
        Moved nowhere.

 7545.  April 16, 1993            CLEAN.FOR,QCLEAN.FOR       Bill C.
        Added MAXPATCH as a parameter that can be set like MINPATCH.
        Moved nowhere.

 7546.  April 16, 1993       $QNOT/IMGMEM           Bill C.
        If the output image channel is 1 or there is only one frequency
        channel in the image the max and min are reinitialized.  Single
        channel residual images were not having the max and min properly
        set.
        Moved nowhere.

 7547.  April 16, 1993       $QPGOOP/WFCLN.FOR           Bill C.
        New task incorporating much of the development for widefield and
        wideband imaging techniques developed for the VLA D array survey
        in an MX like task.   It pretends to do up to 16 fields but with
        the current object manager it hits the limit of 20 simultaneous
        objects before it can do 16 fields.  The exact limit depends on
        the options.
        Amoung the features of this task are:
         1) Frequency dependent primary beam corrections in the
        CLEAN subtractions from the visibility data.  A model for the
        primary beam is used to correct the CLEAN components as a
        function of frequency before subtracting them from the
        visibility data.  The correction is made to the average
        frequency and does not remove the overall primary beam.
         2) Simple correction for source spectral index.  The visibility
        amplitudes are scaled to the average frequency using a single
        spectal index.  MX does this implicitly with a spectral index
        of 0.0.
         3) Correct errors in assumed center frequency.
        The u, v and w terms are scaled.
         4) Uses double size beam if possible for CLEANs.  MINPATCH of
        up to 500 is possible.
         5) Uniform weighting is by the sum of the weights in the box
        rather than just to counts in the box.
         6) Labels images with average zenith and parallactic
        angles so that snapshot VLA images can be corrected with
        OHGEO for misaligned coplanar array geometric distortion.
         7) Supports 3-D DFT imaging to avoid noncoplanar array
        image distortion. (THIS IS REALLY SLOW!)
        Moved nowhere.

 7548.  April 16, 1993        $APGNOT/TABED                   Bill C.
        TABED was hanging up opening the same table twice when writing
        table header keywords when INVER = -1; i.e. loop over all tables
        of that type.  In TEDIN SAMOUT is now set true for this case.
        Moved nowhere.

 7549.  April 16, 1993            ZCRLOG                    Eric
        $APLBERK/ZCRLOG.C was copying the input environment into its own
        array, but neglecting to set the end in its own array to NULL on
        that first copy.  If core happened to have no zeros in the rest
        of that array, an abort could/should occur.  Raised the size of
        the array (1000 environment variables limit), added test for
        going over that in creating new ones, and added that important
        initial NULL.
        Moved nowhere.

 7550.  April 16, 1993       $APGNOT/SDTUV                     Bill C.
        SDTTAB had an incorrect test to determine how many entries were
        in the baseline table.  This was causing zero divides.
        Moved nowhere.

 7551.  April 17, 1993          $RUNSYS/VLBA.001            Phil
        Default outname is now the VLBA job number, i.e. the
        portion of INFILE after the : and before a . Makes it
        easier for the correlator group to know what data came from
        what correlator run.
        Moved nowhere.

 7552.  April 17, 1993           Z routines                  Eric
        In reviewing things, I have made minor changes.  Deleted all
        ZXAS* subroutines since XAS now uses the SSS routines.  Changed
        $APLGEN/ZWHOMI to incorporate the minor changes present in the
        $APLHP version and then deleted the $APLHP version.  Corrected a
        minor error in the C code of $APLUNIX/ZFRE2.C.
        Moved nowhere.

 7553.  April 19, 1993          $QPGOOP/WFCLN              Bill C.
        The intrinsic LEN function was being called with an array
        argument.  Convexes don't like this but the Suns don't notice.
        Moved nowhere.

 7554.  April 20, 1993       $APLOOP/IMAGEDESC      Bill C.
        IMDCOP now copies Convolving BEAM information.
        Moved nowhere.

 7555.  April 20, 1993       $APLOOP/TABLE.FOR   Bill C.
        TABDPT now updates the maximum row number each call.
        TABDGT now write the old row if necessary on read.
        Moxed reads and writes now work as advertised (I hope) using
        TABDPT and TABDGT.
        Moved nowhere.

 7556.  April 21, 1993        $APLNOT/IMHCOR               Bill C.
        Modified only to change descriptive parameters necessary to
        reflect what the related imaging routines had actually done.
        Moved nowhere.

 7557.  April 21, 1993    $APLOOP/ARRAYSTAT          Bill C.
        Cleaned up documentation
        Moved nowhere.

 7558.  April 21, 1993    $APLOOP/ARRAY              Bill C.
        Added member function ARHIST to compute a histogram.
        Moved nowhere.

 7559.  April 21, 1993    $APGNOT/FILLM              Gustaaf
        FILLM prints out full source name. Removed non-
        functional line of code.
        Moved nowhere.

 7560.  April 23, 1993      $QPGOOP/OHGEO              Bill C.
        New task.  Like HGEOM except with options to correct for 3-D
        distortions of a misaligned, coplanar array (VLA snapshots) and
        a radial scaling correction to correct for variations of the
        antenna primary beam over the IF bandpass.  Also OHGEO.HLP.
        Moved nowhere.

 7561.  April 23, 1993         $APLOOP/POSITION               Bill C.
        Added new class functionality.  Routine PSNCVT converts the
        pixel position in one image to the corresponding pixel position
        in another and PSNCV3 does this with corrections for array plane
        misorientation and radial scaling.
        Moved nowhere.

 7562.  April 23, 1993          $QOOP/QINTER              Bill C.
        Added new routine IMGHGE to do HGEOM like interpolation of one
        image to the grid and geometry defined by another.  Also has
        option to correct for geometric distortions caused by the
        "w-term" in misaligned, coplanar arrays (e.g. VLA snapshots).
        This routine will also do radial scaling using a parameterized
        model. IMGHGE requires a new interpolation routine IMINTP whose
        input argument is in pixels.
           Modified IMINST to call ARREAD directly rather than use
        IMG2AP so that the window could be honored.
        Moved nowhere.

 7563.  April 23, 1993          $APLPGM/XMOM              Gustaaf
        Added adverb OPTYPE. If OPTYPE is blank, functionality is as
        before. If OPTYPE='NBIV' (No Blanking Illegal Velocities),
        output pixels are not blanked if their first moment falls
        outside the range of input channels. This prevents ugly holes
        in the zero'th moment map.

 7564.  April 23, 1993          $APGNOT/BLWUP             Gustaaf
        Added this simple minded task which borrows heavily from the
        SUBIM code. It replaces each input pixel by a square grid of
        pixels of the same value. The dimension of this grid is
        specified by the adverb FACTOR.

 7565.  April 26, 1993		$SYSUNIX/TVDEVS.SH	Dave A.
	Added some more AOC machines; took out references to
	the evil and long-since-departed CHOLLA.
	Moved nowhere.

 7566.  April 26, 1993        $APGNOT/FETCH               Bill C.
        Modified to allow blanking of the input image.  Also FETCH.HLP.
        Moved nowhere.

 7567.  April 27, 1993     $RUNSYS/CROSSPOL.001            Bill C.
        Removed line setting version to 'wdc' left over from testing.
        Moved nowhere.

 7568.  April 28, 1993     $APLSUB/GETRLS.FOR              Pat
        Changed release string from 15APR93 to 15JUL93 in accordance
        with decision made at yesterday's AIPS meeting.  I won't change
        the directory name or the version name the shell scripts know
        about yet as that would cause downtime at the AOC as a complete
        rebuild would be needed.
        Moved Nowhere.

 7569.  April 29, 1993     $APGNOT/FILLM.FOR               Gustaaf
        Added new version of FILLM. It now contains the same logic as
        the online version in 15APR92 at the VLA site for interactive
        use. This in anticipation of installing a later version than
        15APR92 at the VLA site as soon as the fast T1 link is opera-
        tional. Also Mike Kestevens improvements for handling holography
        were put in. Added adverb CALCODE.
        Moved nowhere.

 7570.  April 29, 1993     $APGNOT/FITTP.FOR               Gustaaf
        Finally got rid of warning lines about old version of tables.
        Moved nowhere.

 7571.  April 29, 1993      $QPGNOT/FRING.FOR              Phil
        The division by a CC table model in FRING could never have
        worked. The FACGRD variable (same as FACTOR in UVSUB) was not
        set and therefore defaulted to zero. Obviously nobody runs
        through FRING for a 2nd iteration. Set FACGRD to 1.0
        Moved nowhere.

 7572.  April 30, 1993      $APLOOP/UVDATA       Phil/Bill C.
        Modified OUVATT so that it always created the output file if the
        sequence number was 0 and DOCREA was true.
        Moved nowhere.

 7573.  April 30, 1993      $APGNOT/AVSPC              Phil
        The freq increment in the header was not being updated fully
        when averaging IF's together.
        Moved nowhere.

 7574.  April 30, 1993      $APGNOT/FILLM              Gustaaf
        Forgot to take APARM out when APARM was turned into a hidden
        'TELL' parameter. Fixed now.
        Moved nowhere.

 7575.  May 5, 1993         $APLNOT/SELSMG             Phil
        Fixed up so that it will now compile on machines that previously
        had problems. It is never called by any routine so I did not go
        into the effort of ensuring that it works, anyone who wants to
        use it should do so themselves.
        Moved nowhere.

 7576.  May 3, 1993          $APGNOT/SDTUV                   Bill C.
        Fixed bug in routine MEDIAN that caused problems if there was
        insufficient data in the current window.  Also fixed bug that
        occurred when a point to be dropped from the list wasn't found.
        Moved nowhere.

 7577.  May 3, 1993          $APGNOT/FILLM             Gustaaf
        The Convex compiler choked on a Hex constant which the Sun let
        pass. Fixed this.
        Moved nowhere.

 7578.  May 4, 1993          $APLOOP/UVDESC.FOR    Phil/Bill C.
        Routines UVDCOP and UVDSCP now copy associated VELOCITY and
        POSITION members.
        Moved nowhere.

 7579.  May 6, 1993       $APGOOP/SPECR                Phil
        New task. SPECR is a spectral regridding task. It will read a
        user's input line format database and, based on the number of
        channels requested in the o/p data, will FFT the spectra to
        correlation functions and either pad them or truncate them
        before FFT'ing back to the spectral domain. The FQ and SU tables
        also have the channel widths updated.
        Moved nowhere.

 7580.  May 6, 1993           IMEAN                       Eric
        The number of input parms was stated to be 45, while only 41
        variables were provided.  This caused the number of bytes per
        aips byte to be set to 0 for use by ZMIO (!) at least as linked
        under Solaris.  I wonder how many more such things we'll find.
        Moved nowhere.

 7581.  May 6, 1993          ACOUNT, PRTLIN, PRTALN         Eric
        Changed CLOSE parms don't match message to say more in ACOUNT.
        Changed PRTALN to avoid printing a blank page at the start of
        print jobs inside AIPS itself and corrected Glen's similar
        change in PRTLIN.
        Moved nowhere.

 7582.  May 6, 1993            YTVCIN                       Eric
        Changed initial character size to 7 x 9 - the 14 by 22 is too
        large normally.
        Moved nowhere.

 7583.  May 6, 1993           TVFLG, SPFLG                  Eric
        With a message terminal, MSGWRT's go to the message server, but
        ZTTYIO messages and prompts go to the users' main window.  So we
        need to be more careful which we use.  Changed a little at the
        close down section in TVFLG and SPFLG.  IBLED should get this
        too but Phil has it out.
        Moved nowhere.

 7584.  May 11, 1993    Upgrade for standard C and Solaris     Eric
        Changed most C routines in AIPS to test for ANSI standard C and
        to use prototypes when it is present.  Added includes to many C
        routines so that everything is prototyped or declared.  Created
        an AIPS prototype file called $INC/AIPSPROTO.H which prototypes
        in standard and old C ways all AIPS routines called by some C
        routine.  In $APLBELL, deleted ZABOR2.C, ZCREA2.C, ZLOCK.C,
        ZTACT2.C, and ZTKILL.C and changed:
        ZDELA2.C   New - uses setitimer which is a non-Posix routine to
                   get accurate delays.  Sometimes the 1st delay was
                   missed so also gave it an interval timing.  When the
                   timer is finally caught, setitimer is turned off.
        ZTQSP2.C   To standard C.
        In $APLHP, deleted ZABOR2.C and ZTXMA2.C, and changed
        ZGNAME.FOR Cleaned up the handling of characters to return only
                   that part after the last "/".
        In $APLSOL, created
        ZDCHI2.FOR Gives 'SVR4 Sol' as the system version.
        ZFRE2.C    Differs from generic in that Solaris renamed statfs
                   to statvfs.
        ZMOUN2.C   SUN-like, but the tape names have changed for giving
                   the densities.  Also DATs are (so far) seen as
                   Exabyte 8200s by Solaris.
        ZTAP2.C    Rewritten (!) since DATs do not do BAKF.  Changed
                   call sequence to pass in the count and pass it back
                   on AEOI.
        ZTAPE.FOR  Generic version changed to pass COUNT on to ZTAP2
                   rather than do anything itself.
        ZTPOP2.C   O_NONBLOCK added to open parameters.
        ZTPWA2.C   Added ioctl call to forward space the tape over an
                   end-of-file.  Solaris does not go past EOFs on reads.
        ZTPWAD.FOR SUN version copied over.
        In $APLBERK, moved all Berkeley socket routines (ZSSS*, ZVTV*,
        ZVTP*, most of the ZR*) up to $APLUNIX since they seem to be
        portable to most Bell systems.  Also deleted ZABOR2.C, ZCMPR2.C,
        ZCRLOG.C, ZDATE.C, ZTACT2.C, ZTAPIO.C, ZTIME.C, ZTKILL.C, and
        ZTXMA2.C and changed:
        ZCREA2.C   Rename MAXPATH to MAXAPATH to avoid IBM-standard
                   name.
        ZDELA2.C   Added the interval to the setitimer call and the set
                   all of setitimer to 0 at the end.  This might explain
                   some jerkiness in TVMOVIE and the like.
        ZLOCK.C    Rename MAXPATH to MAXAPATH to avoid IBM-standard
                   name.  Also force it now to Posix fcntl locks rather
                   than flock.
        ZSTRTP.C   Rename MAXPATH to MAXAPATH to avoid IBM-standard
                   name.
        In $APLSUN, added ZTACT2.C, ZTKILL.C, ZTXMA2.C all of which are
        the generic UNIX codes except that the inode number is not
        "d_ino" but "d_fileno".  In $APLIBM, deleted ZDATE.C, ZDCHIC.C,
        ZTACT2.C, ZTIME.C, ZTKILL.C, and ZTXMA2.C, and changed ZCREA2.C,
        ZLASC2.C, ZLPCL2.C, ZTPOP2.C, and ZTPOPD.C to rename MAXPATH to
        MAXAPATH to avoid an IBM-standard name (PP used to do this (!!!),
        but of course could not handle C including AIPSPROTO.H).  In
        $YSERV, changed XAS.SHR as:
        Makefile   Added comments and STDLIBS parameter.
        xas.h      Do ugly kluge to get around MIT's error in
                   prototyping XSetIOErrorHandler().  Change the icon
                   and the data rows to unsigned char.  Add prototyping
                   and declarations of all routines.
        xas.c      Add correct casts, add returns, and function type
                   statements.
        colors.c   Add return statements and function typing.
        comm.c     Add return statements and function typing.  Change
                   function index to strchr.
        cursor.c   Add return statements and function typing.
        image.c    Add return statements and function typing.
        init.c     Add return statements and function typing.  Corrected
                   use of toupper (which does 1 character at a time) to
                   check the display assignment.
        screen.c   Add function typing, change bcopy to memcpy, and add
                   prototype for XShmGetEventBase.
        Moved to test areas in CV and the VLA in advance.

 7585.  May 11, 1993    Upgrade for standard C and Solaris     Eric
        In the $APLUNIX area, changed ALL C routines to be ANSI standard
        when the compiler sets __STDC__ to be greater than 0.  The
        Solaris compiler when it is allowed non-Ansi extensions still
        defines __STDC__ but sets it to 0.  Other changes are:
        ZABOR2.C   Changed to be more careful in its selection of
                   signals and to call a function "signel" which uses
                   the Posix function sigaction (preferred over old
                   function signal).  the code for signel was copied
                   from Stevens' book.
        ZABORS.C   Changed to use signel rather than signal, changed pid
                   type declaration.
        ZACTV9.C   Changed to use MSGWRT for error messages.
        ZCMPR2.C   Replaced old copy file and rename with function
                   ftruncate which is wipe spread although not basic
                   Posix.
        ZCPU.C     Change to reference sysconf(_SC_CLK_TCK) for the
                   number of ticks per second in the Posix way when
                   possible, and assume 60 otherwise.
        ZCRDIR.C   Change to use Posix functions S_ISDIR to determine if
                   a file is a directory and mkdir to make a directory
                   directly (setting permissions with standard symbols)
                   rather than assuming a format for mode, the default
                   permissions, and calling system to do the mkdir.
        ZCREA2.C   Set permissions with standard symbols, not 0666.
        ZCRLOG.C   Since putenv was explicitly not included in Posix (so
                   far), adopted and corrected the Sun version.  This
                   moves the environment into a local large array (of
                   pointers) and replaces or adds definitions as needed.
                   I found a serious bug in the Sun version which did
                   not null terminate the initially copied list.
        ZDCHIC.C   Added test for NBBY and defaulted it to 8 and added
                   call to umask to force new files to have unlimited
                   access except write is prohibited to "other".  This
                   means our users can have any umask they want, but
                   their AIPS files will be created the way we want.
        ZDELA2.C   Lowered round-off, but I hope no one uses this
                   version since sleep takes integer seconds as its
                   agrument and that is just too long.
        ZDICC2.C   Changed to use MSGWRT.
        ZDICIO.C   Changed to use MSGWRT.
        ZDICO2.C   Changed to use MSGWRT.
        ZEXPN2.C   Corrected serious error (== when = needed) in filling
                   the new space with 0's.
        ZFREE.FOR  Changed to drop early parts of long disk area names
                   if needed, so that the useful part is displayed.
        ZGNAME.FOR Changed to check the task's first argument for full
                   path names rather than simple task names and to drop
                   the path part.
        ZLOCK.C    Created new routine adapted from Posix part of BERK.
        ZLPCL2.C   Added check for file's existence.
        ZMKTMP.C   Rewritten.  Dropped non-standard mktemp function and
                   a pipe to get the current working directory and
                   replaced them with the standard functions getcwd,
                   getpid , and access to build our own unique file name
                   anywhere we want.
        ZPRPAS.C   Replaced call to getpass which was deliberately
                   omitted from Posix with 12-character (finally) code
                   adapted from W. Richard Stevens' book.
        ZROPN2.C   Changed bcopy to memcpy and clean up typing.
        ZSSSO2.C   Changed index, bcopy, bzero to strchr, memcpy,
                   memset.
        ZTACT2.C   New, adaptation of BERK version with standard ways to
                   test for file type and empty inode.
        ZTKILL.C   New, adaptation of BERK version with standard ways to
                   test for file type and empty inode.
        ZTKOP2.C   Changed bcopy, bzero to memcpy, memset and fixed cast
                   of sock_name.
        ZTPOP2.C   Changed strncasecmp (which no longer exists) to 2
                   strncmp calls.  A tape must be "on-line" or "ON-LINE"
                   if it is to be treated as a VLA real-time input.
        ZTXMA2.C   Rewritten and corrected.  Now uses standard functions
                   opendir and readdir rather than open and read.  It
                   checks the characters both before and after the * in
                   the (simple) wildcard pattern.  This generic routine
                   can replace all the wild variations that have used
                   various non-standard (but full) wildcard pattern
                   analysis and comparison.
        ZVTPGC.C   Correct cast of fromb_in.
        ZVTPO2.C   Change bzero, bcopy to memset, msmcpy.
        ZVTVGC.C   Correct cast of fromb_in.
        ZVTVO2.C   Change bzero, bcopy to memset, msmcpy.
        ZVTVO3.C   Change index to strchr.
        Moved to test areas in CV and the VLA in advance.

 7586.  May 11, 1993    Upgrade Message and TEK servers     Eric/Pat
        Changed $AIPNOT/TEKSERVER.C into $APLUNIX/ZTKSRV.C making the
        code pass ANSI standards and adding sleep (5) calls after fatal
        error messages before exiting.  Also changed $AIPNOT/MSGSERVER.C
        into $APLUNIX/ZMSSRV.C making it pass ANSI standards.  Created
        stubbed routines $APLGEN/ZMSSRV.FOR and $APLGEN/ZTKSRV.FOR.
        Then wrote simple programs to call the Z routines
        $AIPNOT/MSGSRV.FOR and $AIPNOT/TEKSRV.FOR.  All this keeps our
        directory structure clean and would allow some VMS fanatic to
        develop Z routines to support his obsession.

        Speeded up the Z routines which talk to the message server (and
        made them into ANSI standard, etc.).  Changed $APLUNIX versions:
        ZTTCL2.C     Reset TTDEV to TTDEV00 on close error and reset
                     "remembered " parameter.
        ZTTOP2.C     Created global parameters "remembered" and
                     ms_sock_name to avoid calling ztrlog,
                     gethostbyname, and getservbyname more than once.
                     Also resets logical TTDEV to TTDEV00 on error.  Did
                     the usual changes to memset and memcpy.
        ZTTOPN.FOR   Avoids additional ZTRLOG calls with parameter
                     MSGRMB in the MSG common.
        ZTTYI2.C     Resets logical TTDEV to TTDEV00 on error.
        ZTTYIO.FOR   Changed error message formatting and changed to
                     turn off MSGRMB on error.
        $INC/DMSG.INC added parameter MSGRMB replacing dummy parameter
        to keep lengths fixed.
        Moved to test areas in CV and the VLA in advance.

 7587.  May 11, 1993         More tape changes                 Eric
        Changed the COUNT parameter so that it is an In/Out parameter to
        ZTAPE.  This means one can no longer hard code numbers into that
        argument (e.g. 1).  Changed TAPIO, PRTTP, MK3TX GR2TEX, GRITP,
        and RDFITS to remove such hard-coded numbers.  Changed AU4,
        FITTP, and AVTP to use the returned COUNT to imply how many
        files were skipped to end of tape (> 0 => eoi after COUNT files,
        < 0 => ski[pped -COUNT files to eoi).  Changed BAKTP to use
        ZTAPE operation BEGW rather than the WEOF, BAKF combination it
        had used before and to avoid hard-coded COUNTs.  Restored all of
        the old changes to the $TST version of FITTP since the $NEW
        version had overwritten them in the previous FITTP change by
        Gustaaf.  Changed $APLGEN/ZTAPR.FOR to pick up a returned COUNT
        and $AIPNOT/TPMON.FOR to send that COUNT back.  Since there are
        13 versions of ZTAP2 (!!!), I cannot change them all to take
        COUNT as an argument and return the file position on AEOI.  So
        changed $APLGEN/ZTAPE.FOR to force the returned COUNT to 0 on
        AEOI.  The only version at this moment that does not do this is
        the Solaris version which has the new ZTAP2 call sequence and
        its on version of ZTAPE.  Deleted the obsolete $APLSUB/FNDEOT.
        Also changed $APLUNIX/ZBKTP1.FOR which called FNDEOT to call
        ZTAPE of AEOI, to use proper variables for COUNT, and to report
        the returned value if any on AEOI.  Found a bug in
        $APLSUN/ZMOUN2.C and changed the formatting of the tape name
        based on density.  It was stuffing it all in one character but
        Sun uses a decimal format.
        Moved nowhere so far.

 7588.  May 11, 1993              BLING                  Chris
        Found and fixed more cases where constants were being stored in
        return parameters for APLOOP routines.
        Moved nowhere.

 7589.  May 11, 1993            $SYSUNIX/*                      Pat
        Modified many -- most -- of the shell scripts in $SYSUNIX and
        elsewhere to implement the Solaris port.  The code in these
        scripts was very heavily dependent on Berkeley specific features
        of Unix.  Many of the scripts now key off either $ARCH or the
        presence of a system variable $TZ which is present on SYSV
        flavor Unixes such as HP-UX and Solaris.  Among the files
        changed are:
            AIPSASSN.CSH/SH:  Solaris/hp additions
            AIPSCC:  put unix-style options first
            AIPSEXEC:  remove LOADDBG, correct $TZ test (was backwrds)
            CCOPTS.SH:  add -I$INC to get <AIPSPROTO.H>
            COMLNK:  Skip subroutines, look in $PREP for .f, .o, etc.
            COMRPL:  look in $PREP, unix options first
            FDEFAULT.SH:  Solaris 2.x compiler settings
            MAKEAT:  Many bug fixes, sanity checks
            PWD:  Use $PWD if it's defined
            STARTPMON:  various improvements (ps, etc)
            START_TVSERVERS: more rational OPENWINHOME usage
            TVALT:  Add Solaris, HP support; improve DEC support
            TVDEVS.SH:  remove dead hosts
            WHICH:  Remove dot from wildcard expression
            XASERVERS:  Many changes to get SYSV flavor ps to work
                        (msg terminal enabled by default, but this is
                         disabled for the NRAOAOC site).
        There is more to come (SYSSUN, SYSIBM, SYSSOL, INSUNIX) but this
        is a fair share of the changes.
        Moved nowhere.

 7590.  May 13, 1993        $SYSUNIX/STARTPMON            Pat
        This script is now almost bulletproof and should give slightly
        better warning messages and has a greatly enhanced debug mode.
        The code was overhauled to make more sense and not repeat
        things.
        Moved nowhere (at least not by me).

 7591.  May 12, 1993           UVPLT                     Eric
        Removed an obsolete loop that caused all points to be plotted
        twice!  Also added FACTOR as an adverb to UVPLT to change the
        size of the plotted dots.  For many uses they are too small and
        need scaling up.
        Moved nowhere.

 7592.  May 13, 1993            tapes                     Eric
        In one move, put the $APLSOL version of ZTAPE up into $APLBELL
        and changed the APLCRI (non-functional!) and APLMASC versions of
        ZTAP2 to expect COUNT in their call sequence and to know about
        the new operations such as BEGW, AEOI, and doing all of WEOF.
        I'll bet several other ZTAP2's do not know about these.
        Corrected the naming algorithm for densities in $APLSUN/ZMOUN2.
        Corrected the passing of parameters in $APLGEN/ZTAPR and the
        corresponding bits of TPMON.
        Moved nowhere.

 7593.  May 14, 1993            LWPLA.{FOR,HLP}            Mark
        Added the option to specify shades of grey for line drawing via
        DPARM(9).  It's sometimes useful to have white contours
        superimposed on a greyscale image for example.

 7594.  May 17, 1993          $APGNOT/SDTUV                   Bill C.
        Fixed bug in routine SDTRED in which it didn't close the table
        if the data was too large for the internal array.
        Moved nowhere.

 7595.  May 18, 1993         VBPLT                     Neil Killeen/Bill C.
        Fixed problem with subarray selection.  SUBARRAY=0 was
        advertised to mean all and in fact it defaulted to 1.
        Also fixed a problem with selection by timerange when there were
        multiple subarrays with 5 day offsets.  Various parts of the
        program were selecting data either with or without the offsets
        using the same value of TIMERANG.  Also added clarification to
        VBPLT.HLP.
        Moved nowhere.

 7596.  May 19, 1993         $APLDEC/ZR64RL.FOR         Pat/JingPing Ge
        There is a known problem with the generic unix version of this
        routine when used with DEC Fortran (not MIPS?) in that double
        precision numbers get corrupted in the FQ tables on a
        FITTP-FITLD cycle.  JingPing Ge at Brandeis found an empirical
        workaround which is codified in this module.
        Moved nowhere.

 7597.  May 19, 1993         $QPGOOP/FRCAL                Bill C.
        New task to do Faraday rotation self calibration.  Also
        FRCAL.HLP.
           I tried to get this to work using the GRID Fourier transform
        routines but the are riddled with bugs and structural errors and
        so I gave up.
        Moved nowhere.

 7598.  May 19, 1993           $QNOT/VISDFT.FOR             Bill C.
        If a point model was passed throught the commons there was no
        way of specifying the polarization.  Under there circumstances
        the common (DGDS.INC) variable KSTOK with a value of 2 now
        indicates Qpol, 3 Upol and 4 Vpol.  The common variable VOFF is
        also modified to give the correct visibility offset.
        Moved nowhere.

 7599.  May 19, 1993        $QNOT/UVPDIV.FOR                Bill C.
        New routine to divide the polarized portion of a uvdata set by a
        polarized model.
        Moved nowhere.

 7600.  May 19, 1993      $APLOOP/UVDATA             Bill C.
        OUCREA was not saving the correct image sequence number in an
        object if it already existed.
        Added function OUVCGT to returen the catalog header as suitable
        for passing to standard aips routines (tell the truth about
        compressions).
        Moved nowhere.

 7601.  May 19, 1993      $APLOOP/UVUTIL.FOR          Bill C.
        Added self calibration for Faraday rotation functions:
        UVFRSC high level function to determine Faraday rotation
           corrections.
        FRSOLN low level routine to compute Faraday rotation.
        Also modified NXTAVG not to set the STOKES on the UV data unless
        averaging in polarization is requested.  Suitably modified
        routine (SLFCAL) calling NXTAVG.
        Moved nowhere.

 7602.  May 19, 1993       $QOOP/QUVUTIL.FOR           Bill C.
        Added function UVPDIV to divide a Q + U polarized model into the
        LR and LR portions of a uv data set.
        Modified numerous routines to use OUVCGT to fetch the CATBLK to
        pass to standard AIPS routines.
        In routines OUMSUB and OUMDIV the CC tables are not checked if a
        point model was specified.
        Moved nowhere.

 7603.  May 20, 1993           BS table                  Chris
        Fixed a bug in the format of BS tables.  Previously there was
        only one weight for each record rather than a separate weight
        for each IF.  Files changed were:
        BSINI in APLNOT - changed column dimension and incremented
                          table format version number.
        TABBS in APLNOT - changed WEIGHT dummy variable to be an array
        TABLEUTIL in APLOOP - changed call to OTABBS
        BLAPP in APGOOP - changed to use IF weights
        BLING already tried to write out a weight for each IF.
        Moved nowhere.

 7604.  May 20, 1993            BLING                   Chris
        Overhauled BLING to make it easier to use.  Specific changes
        are as follows.
        - Removed the code to show the results of each step of the
          fit to the peak in the search grid and eliminated the
          APARM that controlled this.
        - Removed the option to replace valid data points with data
          points of unit amplitude and zero phase (used to verify
          the FFT and grid search).
        - Removed the uniform weighting option (which never made
          any significant difference).
        - Reduced the volume of message output by printing the
          results in tabular form.
        - The oversampling is now calculated automatically instead
          of being set by the user.
        - Integration times are set automatically from the INTTIM
          random parameter if it is present.  The integration time
          is assumed to be constant for each baseline within a
          scan.
        - The fringe acceptance criterion is now a minimum SNR rather
          than a minimum confidence level.  The latter proved
          unworkable.
        - If the fit to the peak in the search grid fails the raw
          results from the search are used instead of discarding
          the results as before.  The unrefined results are better
          than nothing.
        I also discovered that there was no test for missing IFs
        when searching for separate narrow-band delays (which
        lead to divide-by-zero problems) and added one.
        Moved nowhere.

 7605.  May 21, 1993         $APLNOT/SNSMO.FOR       Leonid/Phil
        When smoothing VLBI solutions in the SN table a problem
        occurred if the real/imag columns were blanked. When there
        was a good delay/rate solution no check was made to ensure that
        the real/imag were unflagged before a phase rotation was
        applied. This problem only showed up in multi-IF data because
        for single IF data the phase rotation was zero. Inserted the
        check on flagged columns and relinked CLCAL.
        Moved nowhere.

 7606.  May 21, 1993            TVCPS                   Chris
        TVCPS now adds a label containing the AIPS usernumber to the
        plot as demanded by AOC management.  This can be turned off
        using APARM(8).
        Moved nowhere.

 7607.  May 24, 1993            BLAPP                   Chris
        BLAPP now determines which BS table records belong to the
        same scan without requiring SOLINT adverb.  The SOLINT
        adverb has been deleted.
        Moved nowhere.

 7608.  May 24, 1993            $QPGNOT/HORUS.FOR       Gustaaf
        Fixed controversy 'channels averaged/channel increment',
        which caused wrong header information in output. This fix
        required changes to $APLNOT/IMCREA, $QNOT/IMGMEM,
        $APLNOT/IMHCOR, $QNOT/MAKMAP, and $QOOP/QUVUTIL.
        Moved nowhere.

 7609.  May 26, 1993         UVSUB.HLP                  Bill C.
        Added warning about using CMETHOD='GRID' for RL, LR data.  This
        is due to a fundamental error in UVCONJ.  UVCONJ doesn't know
        what type of data it has and therefore cannot swap RL and LR
        data.
        Moved nowhere.

 7610.  May 26, 1993            $APGNOT/GETJY.FOR       Gustaaf
        Added test to see if a gain table entry is blanked. This was
        necessary since CALIB does not reset the weight to zero when
        it deals with the reference antenna. Blanked solutions then
        give rise to crazy flux values. CALIB will be changed later so
        that it always puts the weight to zero when the real or the
        imaginary part is blanked. After that the current fix is not
        absolutely necessary anymore, but does no harm either.
        Moved nowhere.

 7611.  May 27, 1993         $QPGOOP/FRCAL                Bill C.
        Modified to allow passing a data set previously divided by
        FRCAL.  In this case an output file is not created.
        Also changed FRCAL.HLP.
        Moved nowhere.

 7612.  May 27, 1993      $APLOOP/UVUTIL.FOR          Bill C.
        Changed FRSOLN to subtract all of the R-L phase difference from
        the L gain rather than splitting it between R and L.  This
        change allows smoothing the solutions.  The values printed are
        now the right-left difference rather than the Faraday rotation
        angle.
        Moved nowhere.

 7613.  May 27, 1993         MX.FOR                          Bill C.
        Fixed indexing bug in MDECID that sometimes caused it to try
        CLEANing too deeply in a given major cycle.  Also in MXBHIS the
        last valid beam value is now propagated to the end of the table.
        Formerly, the beam histogram was effectively zero outside of
        some region.
        Moved nowhere.

 7614.  May 27, 1993        $APLGEN/ZDCHIN.FOR               Pat
        The code that read the NET0:NETSP file was seriously flawed in
        that it never stopped reading, despite having a limit of 100
        entries for the in-core version of the file.  This caused all
        sorts of problems on the IBMs at the AOC as there are currently
        138 valid entries.  Who knows how come it still worked on the
        suns...  Fixed so that the limit is now 512 non-comment entries
        and it gives up reading once the limit is reached.  Because of
        this change, EVERY task will need to be rebuilt.
        Moved to the AOC sites (aguila, yucca, zuni, kiowa) today.

 7615.  May 27, 1993               $QOOP/QCLEAN.FOR          Bill C.
        Propagate the last valid beam histogram value to the end of the
        histogram in CLBHIS.  This prevents CLEANing too deeply.
        Moved nowhere.

 7616.  May 31, 1993                 BLING                   Chris
        Added a check for grid axes longer than 4096 elements (the
        maximum FFT size for QXFOUR).  BLING was occaisionally trying
        to perform longer FFTs than this and overwriting state variables.
        Moved nowhere.

 7617.  June 1, 1993                CALIB                    Phil
        Added a check in routine CLNSOU to avoid writing SN entries with
        blanked real/imag columns but non-zero weights.
        Moved nowhere.

 7618.  June 2, 1993         $QPGOOP/WFCLN.FOR         Bill C.
        Restoring beam parameters were not in the correct units (seconds
        rather than degrees) as passed to the CLEAN routines.
        Moved nowhere.

 7619.  June 2, 1993                CALIB                    Chris
        Fixed a bug in applying channel selection criteria to single-
        source files.  In this case CALIB will now derive the solutions
        from the selected channels and apply them to all channels.  The
        user will be warned about this.
        Moved nowhere.

 7620.  June 3, 1993		   TVCPS.HLP		Dave
	Added a paragraph (marked for AOC only) describing the
	AIPS logical that will route output to the holding
	directory.
	Moved nowhere.

 7621.  June 4, 1993          $APLOOP/UVDATA.FOR         Bill C.
        In OUVCRE the default initial value of OLDFILE is now true.  The
        value will be reset in OUCREA if the file is atually created.
        In the old scheme OLDFILE was left FALSE if it in fact existed.
        Moved nowhere.

 7622.  June 4, 1993          $APLOOP/UTILITY.FOR        Bill C.
        Added a routine FNDKSC to lookup the disk and catalog slot
        numbers of an object.  It uses name, class etc. so, unlike
        OBDSKC it can work on an object which has not been opened
        before.
           Modified OBFEXS to use FNDSKC rather than OBDSKC.
        Moved nowhere.

 7623.  June 4, 1993          $APGOOP/MULIF             Bill C.
        New task, adds IF axis or changes its dimensionality.
        The intent of this task is to either add an IF axis
        into data sets which do not contain one or to change the
        dimensionality in data sets which do.  This is normally
        not necessary but may be needed if a particular task
        insists on having an IF axis or in order to combine
        datasets (DBCON) with different IF axis dimensions.
        Moved nowhere.

 7624.  June 4, 1993       $APGOOP/IMTXT              Bill C.
        New task, writes AIPS image to external text files in form used
        by FETCH.
        Moved nowhere.

 7625.  June 4, 1993        $APGOOP/UV2MS                    Bill C.
        New task to append a single source file to the end of a multisource
        file.  The output will be created if necessary.  The visibility
        geometries must be identical (except for the source random
        parameter) in the input and output data sets.  This task avoids
        using MULTI and DBCON although the resulting dataset will need
        to be sorted (UVSRT) and indexed (INDXR).  Also UV2MS.HLP.
        Moved nowhere.

 7626.  June 4, 1993       $QOOP/QCLEAN.FOR            Bill C.
        In CDECID there is now a trap so that JLEV can never exceed
        NBMHIS.
        CLBHIS had an indexing error which caused particularly nasty
        problems for non square beams; the peak would appear very far
        from the center.
        Moved nowhere.

 7627.  June 4, 1993          $QPGOOP/WFCLN.FOR          Bill C.
        Fixed typo which caused IMSIZE(1) to be used instead of
        IMSIZE(2) for the second dimension of the output images.
        Moved nowhere.

 7628.  June 4, 1993        $APGNOT/SNCOR.FOR                 Phil
        Added an option to set the residual delays in an SN table to
        zero.
        Moved nowhere.

 7629.  June 6, 1993       New task: $APGOOP/DTSUM          Phil
        A new task, I kept promising a data summary task earlier this
        year and I finally needed it for the VLBA Summer School.
        It took 4 hours to write in the OOP package - a testament to
        the ease of programming in that package once one is familiar
        with it. DTSUM provides the user with a matrix listing of the
        number of visibilities per baseline per scan, it also provides
        a little scan information and lists the names of the antennas.
        I can see myself expanding this task as time goes on.
        Moved nowhere.

 7630.  June 7, 1993            $APGOOP/UV2MS.FOR             Bill C.
        Modified to update the output times to reflect the reference
        date of the output file.  Adding data before the output
        reference date is disallowed.
        Moved nowhere.

 7631.  June 7, 1993         $QPGOOP/SCMAP.FOR             Bill C.
        RASHIFT and DECSHIFT were being stored as the wrong data type
        (character rather than real).
           Modified SCUVST to set the uv range for full weight not to
        include baselines longer than those used in imaging.
           Modified self cal portions to loop over subarrays and use new
        call sequence to SLFREF.
        Moved nowhere.

 7632.  June 7, 1993       Subarrays and smoothing          Bill C.
        A number of the calibration smoothing routines didn't properly
        handle subarrays:
        - $APLOOP/UVUTIL(SLFREF) Added desired subarray to call sequence;
        fixed call sequences to REFCNT, REFFAZ.  Also removed extra call
        to UVDTCO in UVCOPY.
        - $APLNOT/REFCNT.FOR  Added subarray number and column pointer
        to call sequence, now checks subarray.
        - $APLNOT/REFFAZ.FOR  Added subarary number to call sequence and
        subarray now checked.
        - $APLNOT/REFDLY.FOR  Added subarary number to call sequence and
        subarray now checked.
        - $APLNOT/REFRAT.FOR  Added subarary number to call sequence and
        subarray now checked.
        Moved nowhere.

 7633.  June 7, 1993       $YPGNOT/IRING                Gustaaf
        Enlarged various arrays to allow much bigger maps and more
        rings. Also added long overdue checks on these numbers to
        prevent overwriting of arrays.
        Moved nowhere.

 7634.  June 9, 1993       Shift and rotates               Bill C.
        Fixed numerous problems involved with using the "Gridded FFT"
        modeling method with images that had been rotated or rotated and
        shifted.  The principle problems were that:
        1) the model wasn't being rotated about the correct position,
        2) the model CC's weren't being constrained to be on grid cells
           causing bad model values.
           Problem 1 is fixed in ALGSTB by rotating the u's and v's before
        interpolating the model and then unrotation them after the
        model.  For obvious reasons ALGSUB can't do this and GRDSUB now
        uses ALGSTB for this case.
           Problem 2 was fixed by putting logic in GRDCRM to force the
        "shift" corrections to be an integral number of cells.  In
        ALGSTB and ALGSUB there was a corresponding fix to include the
        effect of the fractional pixel ignored in GRDCRM.  Modified
        routines: $QNOT/GRDSUB,ALGSUB, ALGSTB, GRDCRM.
           These bugs mostly affected UVSUB, CALIB and SCMAP, MX and
        WFCLN(?) should not have been affected.
        Moved nowhere.

 7635.  June 8, 1993          POSSM                   Phil
        Fixed a POSSM bug that has been there for years, when plotting
        the amplitude of the bandpass the reals rather then the
        amplitudes were plotted, this was never noticed because the
        imaginary values are often close to zero.
        Moved nowhere.

 7636.  June 10, 1993          ANCAL                    Phil
        Had to increase the size of the array allocated for reading Tsys
        values, its too small for even modest multi-IF data from the
        VLBA.
        Moved nowhere.

 7637.  June 10, 1993          $APGNOT/JMFIT.FOR        Gustaaf
        The conversion (error in R.A. pixels => error in arcseconds) was
        wrong by a factor 2. IMFIT did it right all along.
        Moved nowhere.

 7638.  June 11, 1993          $APGNOT/UVFIX.FOR         Phil
        Caltech now send us multi-source files from their correlator,
        these can quite happily be run through UVFIX because they only
        contain one source and the RA/Dec are present in the catalogue
        header. However if they are DBCON'd and then run through UVFIX
        the uvw's can be screwed up if there are more than one source in
        the DBCON'd file. Added a very noticeable warning message if
        this might occur. Also added same to the helpfile.
        Moved nowhere.

 7639.  June 13, 1993            $APGNOT/ANCAL             Phil
        There was a problem with the new index keyword, if a column
        was ignored via the Xn keyword and n=1 then the number of
        columns to be read from the ascii file was incorrect.
        Moved nowhere.

 7640.  June 14, 1993            BLING                     Chris
        Added the BADDISK adverb.
        Moved nowhere.

 7641.  June 14, 1993            BLAPP                     Chris
        Removed SOLINT from the internal parameter list.  As this was
        no longer declared in the help file later input parameters were
        being misaligned.  This became evident when BLAPP ignored
        GAINUSE/GAINVER.  Also added a BADDISK parameter.
        Moved nowhere.

 7642.  June 14, 1993           $APGNOT/SNSMO.FOR        Phil
        SNSMO had real problems in the subroutine that rereferenced
        phases when dealing with multi-IF data. It thought it new if
        dual polzn data was coming when the pointer for the 2nd polzn
        column was > -1, but the calling routine incremented that as the
        IF number increased. Changed the logic so that REFFAZ did the
        pointer incrementing itself.
        Moved nowhere.

 7643.  June 15, 1993           $SYSUNIX/FC              Pat
        Modified the code so that it checks the status return of the
        compiler _as well as_ seeing if there's a nonzero-size object
        file.  Previously it only checked for the object file and this
        caused the IBM compilers to accept very questionable compiler
        errors as "ok".  Same story on the HP.
        Moved nowhere.

 7644.  June 15, 1993          $APLNOT/CALADJ.FOR       Phil
        This routine will not have worked properly for multi-IF data,
        the call to CHNDAT was made using the same LUN with which the
        SN table had just been opened and so no FQ/CH table would
        ever have been found - the correct error message was also
        supressed down inside ISTAB, which was why we never noticed
        before. Switched the order in which operations are done.
        Moved nowhere.

 7645.  June 16, 1993          $HLPFIL/CLCOR.HLP        Gareth
        Added equations to the explain section for the SSLO option to
        make it clearer to Elias Brinks (maybe others - who knows?).
        Moved nowhere.

 7646.  June 17,1993		$APGNOT/SNCOR.FOR	Dave A.
	Changed some writes to refer to SN instead of CL tables.
	Moved nowhere.

 7647.  June 18, 1993         $APGNOT /VLBIN         Phil
        Under some circumstances the time span in the decode file could
        be 0, if this was the case made the default 1 second.
        Moved nowhere.

 7648.  June 21, 1993             $YPGM/GREYS.FOR                Mark
        Removed the frame drawing commands from routine GLAB and put them
        after the greyscale commands in the main program.  This will
        prevent the grey image from painting over the frame when the
        plot is translated to PostScript by LWPLA.

 7649.  June 21, 1993           $HLPFIL/LWPLA.HLP                Mark
        Added a warning about the need to specify the -K0 option to
        'dvips' in some circumstances when LWPLA output is included
        in a TeX or LaTeX document.

 7650.  June 19, 1993         $YPGNOT/CLPLT        Phil
        Changed the maximum number of closure phases that can be plotted
        from 90 to 200, to keep VLBA users happy and to kill more trees.
        Moved nowhere.

 7651.  June 22, 1993             BLING                  Chris
        BLING now uses the default integration time specified in
        APARM(1) if the value of the INTTIM random parameter is zero
        as has occurred in some files written by VLBIN.
        Moved nowhere.

 7652.  June 22, 1993            $YPGNOT/POSSM             Phil
        Added the option to label corr fn plots in (micro)seconds if the
        user so desires. While doing this discovered that channel
        selection for corr fn plotting was not what I intended. Changed
        it so that the whole spectrum is FFT'd but only the selected lag
        range is plotted. Also updated POSSM.HLP.
        Moved nowhere.

 7653.  June 23, 1993          KWICK                      Eric
        Added tests on the value of the stack pointer.  User errors such
        as calling a procedure with a number followed by a minus could
        cause the internal value of true to be reset to 0!  I am really
        suprised that I did not build such checks into everything
        before.  Oh well, they are there now.
        Moved nowhere --- so to speak.

 7654.  June 24, 1993       plot tasks                     Eric
        Tasks SNPLT, GAPLT, and TAPLT all contained vestigial loops J =
        1,2 which caused the points to be pltted twice exactly.  These
        must have been left over from UVPLT when the loop also included
        something useful altering the second plot.  Anyway, dropped
        these now.
        Moved nowhere.

 7655.  June 24, 1993        $SYSUNIX/MAKEAT             Pat
        Fixed MAKEAT so that it no longer duplicates the OOP areas in
        the APLSUB listings.  This was causing compilations to be done
        twice in all installations.
        Moved nowhere.

 7656.  June 25, 1993        plotting                  Eric
        In checking a gripe I found some unrelated problems .  The plot
        routines were plotting RA's over 24 hours as 100 (meaning 1 day,
        00 hours).  Changed CTICS, ITICS, TKTICS, PROFL, and CHNTICS to
        plot 1/00 for times over 1 day and to leave off the 1 entirely
        for right ascensions.  Changed STARPL to clean up the typing and
        to have it plot strings on FACTOR < 0 as advertised (rather than
        > 0).  Fixed KNTR, PCNTR, PROFL to accept STFACTOR < 0 and
        corrected help files for CNTR, GREYS, PCNTR, KNTR, and PROFL.
        Also created new help file STFACTOR.
        Made repairs June 27, 28.
        Moved nowhere.

 7657.  June 28, 1993        TVFLG, SPFLG                Eric
        Added code to make sure things get initialized even if the
        opening TV load has no valid data.  Added warning message on the
        undo command (it takes a while).  And added warnings to the
        help files about undo and suggesting smaller master grids.
        Moved nowhere.

 7658.  June 28, 1993        CHANGE.DOC                 Eric
        Corrected 2 numbering errors (Phil) in which 7319 was followed
        by 7220 last Christmas and (old) 7528 was followed by 7259 on
        June 4.
        Moved nowhere, but diff will be big tomorrow.

 7659.  June 28, 1993           POSSM                     Phil
        When fixing up the cross-correlation channel selection a few
        days ago I had neglected to ensure that the default of bchan =
        echan = 0 did the correct thing. Now it does.
        Moved nowhere.

 7660.  June 29, 1993        $APLPGM UV tasks             Eric
        Changed all $APLPGM UV tasks to use UCMPRS rather than the messy
        ZCMPRS structure (pioneered in FUDGE) and to use the
        parameterized buffer sizes from include ZPBUFSZ.INC.  Changed
        CLIP, CORER, DIFRL, FUDGE, TBAVG, UVBAS, UVLSF,  UVMTH, and
        UVPOL in both these ways.  Changed buffer sizes only in CORFQ,
        UVCMP, and UVDIF.  Changed CORER to handle compressed data and
        to copy table files (it was still trying EXTCOP on AN files!).
        Changed UVDIF to allow slight differences in the number of UV
        samples although the comparison will fail when the missing
        sample is found.  CORFQ and UVMTH cannot handle compressed data,
        but at least test for it.
        Moved nowhere.

 7661.  June 29, 1993        $UPDUNIX/UPDOBSLT.c          Pat
        Modified the reading mechanism so that it ignores stuff in the
        input transaction files beyond the last "important" field.  That
        way, a "reason" can be inserted in the PUTBCK.UPD file without
        sending this program into a tizzy.
        Moved to rhesus (CV IBM), aguila (AOC sun) today.

 7662.  June 29, 1993        task timings                Eric
        Changed $AIPSUB AU2 and TASKWT to reduce the time delays
        associated with starting and waiting for tasks.  The total time
        allowed for a task to start is sharply reduced (from 303 sec to
        about 30) and the intervals between checks are also reduced to
        less than half the old values.  Machines are now faster so these
        times have to be reduced accordingly.  I debated puting this as
        a SETPAR parameter but that is a lot of work and would be very
        subject to abuse and misunderstanding.
        Moved nowhere

 7663.  July 1, 1993           $APGNOT UV tasks               Eric
        Changed the following $APGNOT tasks to use UCMPRS instead of the
        messy code around the call to ZCMPRS and to use parameterized
        buffer sizes (ZPBUFSZ.INC size parameter UVBFSS).  They are
        ASCOR   AVER    AVSPC   BLOAT   DAYFX   DESCM   FILLR   MK3IN
        MULTI   PHSRF   SBCOR   SDTUV   UVAVG   UVCOP   UVDGP   UVFIL
        UVFIX   UVGLU   UVLOD   UVMOD   UVNOV   UVSIM   VBCAL   VBMRG
        VLBIN   WTMOD
        Also changed AVSPC to use MAXCIF rather than MAXCHA * MAXIF and
        added a test on the resulting buffer size.
        Note that ASCOR, AVER, BLOAT, UVDGP, UVFIL (!!), UVMOD, VBCAL,
        VBMRG, and WTMOD cannot handle compressed data  although all of
        them know enough not to try.
        Changed $YPGNOT/IBLED to call UCMPRS and $QPGNOT/IM2UV to call
        UCMPRS and to use parameterized buffers.  Changed $APLPGM/CLIP
        to use MAXCIF rather than MAXCHA * MAXIF.
        Moved nowhere.

 7664.  July 1, 1993         $APGNOT/FITLD               Phil
        Changed to write TY tables, and the model into the IM table.
        Also fixed so that weights are dealt with on an IF-by-IF basis
        for VLBA data.
        Moved nowhere.

 7665.  July 2, 1993          More UV tasks              Eric
        SBCOR: corrected Fortran error - one is required to compare
        logicals with .EQV. and .NEQV., not .EQ. and .NE. which compare
        all bits rather than just the true/false state of the variable.
        The IBM compiler forces this.
        FITLD: made many buffers parameterized sizes, change file
        compression call.  I could not get rid of the MAXCHA*MAXIF
        buffers; they are too deeply buried in the system and Phil or
        Bill will have to fix this.
        $APGNOT tasks to which I added parameterized buffers:
           DBCON   FILLM   FITTP   INDXR   PRTUV   SWPOL   USUBA
           UVFLG   UVSEN
        and minor typographic changes to
           DECOR   SDCAL   SELSD   SPLIT   UVFIX   UVFND
        Also removed excess buffers (MAXCHA*MAXIF) making them MAXCIF in
        $APGNOT/FITTP and SWPOL.
        Corrected COMMON alignment error in DBCON.
        Replaced a hexadecimal constant in FILLM.
        Also parameterized buffers in $YPGM/UVHGM, $YPGNOT/DFTPL,
        $QYPGNOT/MX, and $QYPGNOT/UVMAP.  The last one particularly was
        badly underutilising its buffers.
        Moved nowhere.

 7666.  July 4, 1993            UVMAP                       Eric
        Corrected error in buffer sizes in UNIF.  I had which was bigger
        switched in 1 case.  It then worked on SMALL but not LARGE.  It
        turned out after some experimentation that something does not
        work if the buffer is not a power of 2!  Therefore, I changed
        the included UVBFSS to  parameter UVMAPB = 16384.  This is not
        the way we meant to do such things.  Sigh...
        Moved nowhere.

 7667.  July 5, 1993       ASCAL, VSCAL                Eric
        Changed to parameterized buffers.  These 2 had very small
        buffers and called one routine with a buffer of size MAXIF when
        it should have been much larger (the 4th buffer to UVMDIV).
        Moved nowhere.

 7668.  July 6, 1993           UVLIN                Juan Uson/Pat Murphy
        (entry inserted for Juan by PM; all PM did was add GETNUM and do
        the checkout/putback; Juan did all the important stuff).
        Cleaned up UVLIN.  Moved all input stuff to subroutine UVLIIN,
        deleted extra variables.  Implemented a reporting option for VLA
        data (checked using TELTYP).  Report goes to message file, user
        controls with DOOUTPUT.  Overhauled the explain file.

***********************************************************************

        Changes while 15JUL93 was NEW:

***********************************************************************

 7669.  July 9, 1993        IBM Fortran problems                Bill C.
        Fixed a couple of minor FOrtran problems which gave trouble on
        the new IBM compilers:
        $APGOOP/CL2HF.FOR  Arguments to MOD function of different type.
        $APGOOP/TBDIF.FOR  Logical comparison of LOGICALs requires .EQV.
        or .NEQV.
        Moved from 15JAN94.

 7670.  July 13, 1993          MINSK, UVMAP               Eric
        Changed MINSK to force the buffer size used to be a power of 2
        less than or equal to the buffer size given in the call.  Wrote
        a new $APLSUB/POWER2 to compute this.  Changed UVMAP to use the
        standard UVBFSS buffer size again.  This will fix some of the
        mysterious bugs in MX.
        Moved to 15JUL93.

 7671.  July 13, 1993               TPMON                 Eric
        Found that several of the error messages for checks on the
        number of words read/written in the handshakes were wrong.
        Corrected the error messages.  Note that 15JUL93 TPMON does not
        work with 15OCT92.
        Moved to 15JUL93.

 7672.  July 13, 1993          COMAP                     Eric
        Changed COMAP.001 to set FACTOR=0 ahead of UVPLT calls and
        changed UVPLT.HLP to allow this value.  UVPLT sets all FACTORs
        under 0.1 to 1 anyway.
        Moved to 15JUL93.

 7673.  July 15, 1993         Various                    Pat
        Went through the entire NEW hierarchy with an automated checker
        shell script, comparing rcs text of files with what was in the
        clear text area.  Found and fixed the following discrepancies
        (some of which were only found in TST and fixed in NEW):

             $AIPSUB/VERSTR.FOR         6 char string, not 8
             $APLNOT/DVDMIN.FOR         Remove obsolete hack for suns
             $APLSUB/LMDER.FOR          Remove obsolete hack for suns
             $APLSUB/LMSTR.FOR          Remove obsolete hack for suns
             $INSUNIX/INSTEP1           version date
             $SYSUNIX/AIPSPATH.CSH,SH   OLD/NEW/TST definitions
             $SYSUNIX/FDEFAULT.SH       SUN4: OPT8,9="-O4 -fast"
             $SYSSUN/CCOPTS.SH          PURGE=FALSE, no -pipe
             $SYSSUN/LDOPTS.SH          PURGE=FALSE
             $APGNOT/BLFIT,JMFIT        Remove obsolete hack for suns

        Some of these were moved from TST (15JAN94).

 7674.  July 16, 1993            IBLED                    Eric
        Changed it to spread the main plot out some when the frame size
        is small (i.e. small amounts of data or a small selected
        frame).  This will make it easier to see things.  Made first
        frame, next frame, last frame support the selected small frame
        size as well.  Changed IBLED to accept negative values of
        DPARM(5) as initial guesses for the interval which it will then
        set.  Before, if the actual interval was > 50 seconds the
        program blew up.  Also added test to avoid the blow up when the
        interval is not determined.  Changed the help file for this one.
        Moved 15JAN94 which is a bit ballsy.

 7675.  July 19, 1993     Shift and rotation bugs.      Bill C.
        Undo some of the damage I did in attempting to fix the problem
        with rotation in the gridded uv data modeling and fix other
        problems.  There were previously numerous bugs affecting the
        computation of the Fourier transform of set of CLEAN components
        with shifts AND rotation on the sky.  These only affected the
        gridded-FFT modeling method (CMETH='GRID').  The recent
        incarnation of this series of bugs affected both deconvolution
        (MX, WFCLN) and modeling (CALIB, FRING UVSUB etc.).
        -GRDCRM: Add all of XPOFF, YPOFF to the model positions; if
        these values are correct (not previously true) then the
        positions in the CC table plus XPOFF and YPOFF should correspond
        to grid cells.  Added a test to check that component positions
        are on grid cells and to complain loudly (but continue) if not.
        -ALGSUB,ALGSTB: corresponding changes to those in GRDCRM; i.e.
        shift is that given in DXCG, DYCG.
        -GRDAT: XPOFF, YPOFF were being rotated by MAPROT with the wrong
        sign.
        -MX: in MXIN MAPROT was not being converted into radians before
        being fed to the sine and cosine routines.  This affected the ra
        and dec shifts being put into the catalog header.  The DFT model
        calculation in CALIB/FRING was not sensitive to this error but
        the gridded-FFT routines were.
        $APLNOT/IMCREA,IMHCOR: same problem with argument to sin/cos as
        MX.
        $QYPGNOT/UVMAP: same problem with argument to sin/cos as MX.
        Moved from 15JAN94 this date.

 7676.  July 19, 1993           MX restore problem        Bill C.
        Equivalences of local arrays with task buffers in MXCCRM caused
        the restore step to fail when more than 2048 components were
        restored.  This routine now checks that these arrays are not
        over flowed.
        Moved from 15JAN94 this date.

 7677.  July 19, 1993           ALGSUB                     Bill C.
        In the test to see if a row was finished, a floating point ".LT."
        was used rather than a ".LE." causing erratic behavior in those
        rare cases where there was an EXACT floating point match.
        Symptoms observed are the introduction of a series of ripples
        into the residual image.
        Moved from 15JAN94 this date.

 7678.	July 19, 1993        $QOOP/QCLEAN.FOR             Bill C.
	Now uses BEAM size in determining how big to make imaging
        scratch files.  WFCLN was having problems with beams larger than
        could be made in memory.
        Also fixed CLCCRM so that it wouldn't overflow internal arrays
        for ra, dec etc of components.
        Moved from 15JAN94 this date.

 7679.  July 19, 1993        $APLIBM/ZMOUN2,ZTPOP2        Pat
        Added code that supports Exabyte 8500 drives via the same
        DENSITY setting as on suns (22500 => high density 5gb mode,
        anything else => 2gb low density mode).  This includes a "hack"
        that permits the 22500 density to be used on 8200 drives, as
        some 3rd party 8500 drives (TTI, for example) will identify
        themselves as 8200's.  Also inserted code that will report the
        pid of the owner of the lock on the lockfile, i.e. the process
        number of any process that has the drive already mounted.  This
        change should probably be moved to the other versions of ZMOUN2
        someday.
        Moved from 15JAN94 just now.

 7680.  July 19, 1993        $APLDEC/ZABOR2.C              Pat
        The DEC Fortran compiler doesn't need a signal declaration for
        SIGFPE exceptions.  Commented out.
        Moved from 15JAN94 just now.


 7681.  July 19, 1993                MK3TX                  Chris
        Added code to deal with a new oddity in HP text files: negative
        record lengths.  Examination showed that large negative record
        lengths were actually the true record length (in 16-bit words)
        minus 32 769 while small negative record lengths denote the end
        of file.
        Moved from 15JAN94 on this date.

 7682.  July 21, 1993         $APLBERK/ZLOCK.C             Pat
        Forced it to use the "posix" [sic] file locking via routine
        fcntl() instead of the old flock() call; latter can't tell if a
        NFS daemon has the file locked for a process on a different
        host.
        Moved to 15JUL93 this date.

 7683.  July 21, 1993        shift bug                     Eric
        Old versions of UVMAP and MX put the shift parameters
        incorrectly into the header but did shift the reference pixel
        correctly.  Unfortunately, modeling routines use the shift
        parameters.  Wrote a new routine to compare the 2 header entries
        and to correct the header shift parameters for the old bug if
        that gives agreement between the 2 header representations.  It
        is $APLSUB/FXSHFT.FOR.  Changed GRDAT to call it.
        Moved from 15JAN94 this date.

 7684   August 16, 1993       Last-minute fixes          Pat
        As usual, the installation testing on the various architectures
        revealed many minor but irritating bugs.  These are the last
        changes made to 15JUL93 prior to release.  Any additional
        changes will have to be implemented as patches.  Summary:
            $APLDEC/ZDCHI2.FOR  Changed SYSVER to 'ULTRIX 4'
            $APLDEC/ZTPOPD.FOR  key off SYSVER instead of SYSTYP
            $INSUNIX/INSTEP1    Many hacks, mostly for convex/ultrix
                                brain-dead bourne shells, uname/convex.
                                Probably lots more too.
            $SYSUNIX/TPDEVS.SH  Remove "unset"
            $SYSUNIX/XASERVERS  Ditto
            $SYSUNIX/MAKEAT     Extra sed filter to remove "ENV" in
                                reverse "logical" lookup
            $SYSUNIX/COMRPL     Ditto
            $SYSUNIX/START_AIPS watch out for sh5 shell on ultrix,
                                remove "echo -n".
            $APLNOT/STEPCH.FOR  Make '' empty string into ' '.
            $APLDEC/ZTXMA2.C    Need __POSIX and _XOPEN_SOURCE defined
            $APLDEC/ZTKILL.C    Ditto
            $APLDEC/ZTACT2.C    Ditto
            $SYSUNIX/SYSETUP    Remove "unset", also HP fix
            $SYSUNIX/FC         Ditto
            $QYPGNOT/MX.FOR     Typo in equivalence statement
            $APLSOL/ZDAOPN.C    APLUNIX version causes error in SunOS 5.2
            $SYSSOL/LIBR        Shared Library fixes
            $SYSSOL/LDOPTS.SH   Various
            $SYSSOL/CCOPTS.SH   OPT0 set to blank, not "-O".
            $QYPGNOT/VTESS.FOR  Wrong INPARM count (was 198, correct=195)
            $SYSSOL/ZLPCL2      Use "postprint" as a filter, also asa.
            $APLHP/SIGNEL.C     Split from ZABOR2.C
            $APLSOL/ZTPWAD.FOR  EOF code differs.  Same as Sun4 I think.
        There are other modules changed that are not worth mentioning in
        detail: $SYSSUN/COMRPL, $SYSUNIX/OPTIMIZE.LIS, $SYSUNIX/AIPS.L,
        $SYSSOL/COMRPL, $SYSUNIX/FDEFAULT.SH, $APLUNIX/ZMSSRV.C,
        $SYSSOL/CDVER.*, $SYSSOL/LIBR.DAT, $SYSSUN/LDOPTS.SH.
        Moved from TST and to the master 15JUL93 tar tapes today.

 = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
