;-----------------------------------------------------------------------
;  Copyright (C) 2006-2008
;  Associated Universities, Inc. Washington DC, USA.
;
;  This program is free software; you can redistribute it and/or
;  modify it under the terms of the GNU General Public License as
;  published by the Free Software Foundation; either version 2 of
;  the License, or (at your option) any later version.
;
;  This program is distributed in the hope that it will be useful,
;  but WITHOUT ANY WARRANTY; without even the implied warranty of
;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;  GNU General Public License for more details.
;
;  You should have received a copy of the GNU General Public
;  License along with this program; if not, write to the Free
;  Software Foundation, Inc., 675 Massachusetts Ave, Cambridge,
;  MA 02139, USA.
;
;  Correspondence concerning AIPS should be addressed as follows:
;         Internet email: aipsmail@nrao.edu.
;         Postal address: AIPS Project Office
;                         National Radio Astronomy Observatory
;                         520 Edgemont Road
;                         Charlottesville, VA 22903-2475 USA
-----------------------------------------------------------------------
     This file must be used to record any changes made to the Master
version of AIPS kept in SOCORRO.  An entry is:

   line 1:   Date Program name Your name
   line 2:   What was done (may span multiple lines)
   line n-1: Where has this change been moved (e.g. 15JUL94, nowhere)
   line n:   Blank

 The details of line 1 are important since programs are used to find
 specified strings and do conversions on them.  It MUST be typed as
 follows: 1 blank, 4 digits, a period, two blanks, then the Month,
 day, comma, year, some space, a title, some more space, your name.


***********************************************************************
***********************************************************************

                 Changes while 31DEC07 is TST

***********************************************************************
***********************************************************************

12219.  December 3, 2006        31DEXC06 -> 31DEC07         Eric
        Changed GETRLS, INSTEP1, ZXHLP2.PL, UPDCONTROL (comment),
        AIPSPATH.SH, AIPSPATH.CSH, install.pl, update.pl to make the
        TST version 31DEC07.
        moved nowhere.

12220.  December 3, 2006    Pseudo AP and dynamic memory   Eric
        Changed all pseudo-AP code to use dynamic memory.  If we keep
        the pointers wrt APCORE(base) small enough that 32-bit
        integers will work, then only base and any direct subscripts
        of APCORE need be LONGINTs.  This should make the problem
        tractable.  Changed:
        DAPC.INC     Include DAPM.INC
        DAPM.INC     Define SPAD and new pointer values PSAPNW and
                     PSAPOF (the LONGINT base)
        ZDCHIN       Include DAPM.INC and set PSAPNW and PSAPOF to 0.
                     Also drop registration trash, fetch $SITE for
                     sysnam.
        Just typing mods:
        QCFT1D   QCFT2D   QCFT3D   QCFT1I   QCFT2I   QCFT3I
        QCTLUT   QGRDCC   QGRID    QGSP     QLSORT   QMCALC
        QMENT    QOSORT   QPERMA   QRLSE    QUVINT   QWAIT
        QWD      QWR      QXFOR2   QXFOUR
        Also
        QCLNSZ    use PSAPNW now
        QCVSMS    drop numeric IF, fix pointers
        APUTIL    Direct APCORE usage now with pointer
        QCLEAN    Direct APCORE usages changed to use pointer.
        QUVUTIL   drop equivalence with APCORE, make dimension
                  MAXCIF
        QEDIUTIL  rewrote to use dynamic - non-ap - memory.
                  Changed tick algorithm to use same units
                  in all plots of the same type.and extended
                  the plot range.
        Various pointers into APCORE
        Q1FIN    Q1GRD    QBAKSU   QBOXSU   QCFFT    QCGAUS
        QCLNSU   QCRVMU   QCSQTR   QCVCMU   QCVCON   QCVEXP
        QCVJAD   QCVMAG   QCVMMA   QCVMOV   QCVMUL   QCVSDI
        QCVSMA   QDFT     QDIRAD   QFINGR   QGADIV   QGASUB
        QGET2    QGET     QGRD1    QGRD2    QGRD3    QGRD4
        QGRD5    QGRD6    QGRD7    QGRD8    QGRDFI   QGRDMI
        QGRIDA   QHIST    QIHIST   QINTG    QINTP    QLVGT
        QMAKMS   QMAXMI   QMAXV    QMINV    QMTRAN   QMULCL
        QPHSRO   QPOLAR   QPTADC   QPTDIV   QPTFAZ   QPTSUB
        QPUT2    QPUT     QRECT1   QRECT    QRFFT    QRFT
        QSEARC   QSORT    QSPDIV   QSPSUB   QSVE     QSVESQ
        QTAPER   QUVIN    QVABS    QVADD    QVCLIP   QVCLR
        QVCOS    QVDIV    QVEXP    QVFILL   QVFIX    QVFLT
        QVIDIV   QVINDE   QVLN     QVMA     QVMOV    QVMUL
        QVNEG    QVRVRS   QVSADD   QVSIN    QVSMAF   QVSMSA
        QVSMUL   QVSQ     QVSQRT   QVSUB    QVSWAP   QVTRAN
        QVTSMU   QWTCNT   QWTGET   QWTGRD   QWTSUM   QXXPTS
        Moved nowhere

12221.  December 3, 2006       KAPWRD                   Eric
        The AP size is now PSAPNW and only after QINIT.  Changed
        QCLEAN     SR CLGRID to set desired size, call QINIT, then
                   do normal ap size arithmetic using PSAPNW.
                   SR CLRGRD done similarly.  Add error tests after
                   QINIT calls.  SR CLNSRT change GRDFIT call seq.
                   Add message supression, re-init AP if needed at
                   appropriate size.
        QUVUTIL    SR OUVIMG find NEED earlier, call QINIT, test
                   if grid fits silently.  If not, QRLSE and new
                   QINIT and new GRDFIT.  These QINIT calls are
                   new.  Code limits the request to 1/4 or 1/2
                   Gbyte.  SR ODFT determine a need and then call
                   QINIT.
        QARRAY     Fixed up QINIT call in ARRFFT.
        GRDFIT     Add new return argument, the size needed to
                   avoid a sort.  Use PSAPNW.
        UVWAIT     Moved QINIT call and forced needed to be
                   available, avoiding disk usage.
        APROLL     Will not need but save size AP for QINIT call.
        AEGRID     Move QINIT call and force memory to needed.
        ALGSTB     Compute what id needed and call QINIT with that,
                   then do existing computation.
        ALGSUB     As ALGSTB but simpler.
        CONV       Estimate min needed and put it in QINIT calls.
        CORR       Estimate min needed and put it in QINIT calls.
                   Fix error messages - this is not CONV.
        GR3DUV     Estimate needed memory and QINIT for it.  If
                   that fails try smaller and quit if 2nd fails.
        GRDCOR     Estimate tiny needed memory and put in QINIT
                   call
        GRDMEM     Fixed PSAPNW and the error messges about AP too
                   small.
        GRDSUB     Estimate sizes needed and use in QINIT call.
        GRIDUV     Like GR3DUV.
        IMGMEM     Just added comment around null QINIT call.
        MAKMAP     Compute what is needed for QINIT for DSKFFT,
                   drop QINIT and QRLSE for GRDCOR which does those
                   itself.
        OLDMAP     As MAKMAP
        SDGRID     Estimate desired space and call QINIT, if that
                   fails try a smaller space
        SRTIN      Add comment only re UVSORT setting QINIT size
        UVSORT     Add estimate of size needed to do all in core and
                   try a QINIT.  If that fails try smaller twice.
                   Do a QRLSE afterwards.
        UVGRID     Estimate needed and try a QINIT,  If fails, try
                   a smaller one.  Drop the QRLSE and nearby QINIT
                   leaving the initial QINIT in place.
        UVGRTB     As UVGRID.
        UVMDIV     Compute needed AP memory and call QINIT/QRLSE
                   to get it.
        UVTBGD     Use the NEEDED parameter to call QINIT.
        UVTBUN     Use the NEEDED parameter to call QINIT.
        UVTBUW     As UVTBUN.
        UVUNIF     Compute needed size for QINIT call
        VISDFT     Compute needed size and set with added QINIT
                   call.  Use later too.
        VSCDFT     As VISDFT but had to reorder - fixed a test on
                   a variable that was not set as well.
        VSFDFT     As VSCDFT.
        Simply change KAPWRD+KAP2WD to PSAPNW:
        PASS1    CCSGRD   CONV1    CONV2    CONV3    CONV4
        PASS2      Added code to manage small output images.  It was
                   writing row 2 to N/2 then row 1 and row N/2+1.
                   This is okay if a row occupies a whole disk sector
                   but fails on short rows.  In this case, the image
                   is kept in core and dumped at the end.
        Moved nowhere

12222.  December 3, 2006      Q Tasks                    Eric
        Tasks:
        CXCLN      Change to LONGINT in references to APCORE;
                   changed KAPWRD ref to PSAPNW and fixed QINIT
                   call to ask for what is required.
        IMAGR      Dropped memory-saving equivalence w APCORE.
        WFCLN      Dropped memory-saving equivalence w APCORE.
        RSTOR      Changed to use PSAPNW and to specify what is
                   desirable to QINIT.
        APCLN      Changed to use PSAPNW and to specify what is
                   desirable to QINIT.  Corrected errors where
                   MAXPCH did not test the AP size and where it
                   could then change to new values w/o control.
        APGS       Added size quess for QINIT call, dropped unused
                   variables.
        APVC       As APGS.
        CONPL      Just a comment at QINIT.
        MX         Add size setting and QINIT call in MXIN, moving
                   all APSIZ references to after that.  Changed
                   KAPWRD refs to PSAPNW.
        SDCLN      As APCLN.
        STEER      As APGS.
        UTESS      Put size estimate in FILES subroutine, sets
                   rest of QINIT calls.  Fix error branch to return
                   error code in GETIN on test of NOISE.
        UVMAP      Put size estimate in INI subroutine to set.
                   Remove unused variables.
        VTESS      As UTESS.
        DEFLG      Replace KAPWRD w PSAPNW and change APCORE subscripts
                   to LONGINT offset by PSAPOF rather than 1.
        BPASS      Request a small AP for shifting VLBI BPs twice
        CONVL      Estimate needs and put in the QINIT calls.
        CVEL       Request a small AP for shifting VLBI BPs
        FFT        Request a good size AP and settle for less before the
                   QINIT call.
        FRING      Move QINIT call from FRNFIT to FRNSRC and FRNALL.
                   have these 2 compute NEED and call QINIT rather
                   than the complex set of ZMEMRY calls there before.
        IM2UV      Request a good size AP and settle for less before the
                   QINIT call.
        IMERG      As FFT.
        SDVEL      As CVEL.
        SDIMG      Replace KAPWRD with PSAPNW, change APCORE subscripts
                   to LONGINT offset by PSAPOF, add QINIT/QRLSE in INI
                   routine to set a desirable size for the AP.
        UVCON      Changed local QXXPTS to longint refs to APCORE,
                   changed local VISDFT like VISDFT.
        Moved nowhere.

12223.  December 3, 2006       pre-existing errors             Eric
        1. Created QPUTIN, QPUTI2, QGETIN, QGETI2 routines to do
        QPUTs, QGETs with increments.  Changed the TV loading function
        in APCLN and SDCLN to use QPUTIN.  Otherwise it did TXINC=1
        with any TYINC.  Changed APGS, APVC, STEER, UTESS, and VTESS
        to do the same.  They avoid the INC problem but did the
        function way into memory that it should not have accessed.
        2. Changed UVMAP to do the same TINC in both X and Y; it did
        different ones previously.
        3. Changed file size computation for CONVL.  It needs the
        larger of NX*NY and 2*NY*(NX/2+1).
        Moved nowhere.

12224.  December 5, 2006           IMAGR                    Eric
        Changed formats in PBUTIL - it was using I2 for field number.
        This stopped the frequency-dependent model subtraction if
        there were more than 99 fields.
        Moved to NEW this date.

12225.  December 8, 2006        3C138_L.MODEL            Amy/Eric
        Put back Amy's latest calibrator source model.
        Moves to NEW etc automatically.

12226.  December 13, 2006      VLATECR                     Amy
        Fixed the bug in DAYNUM subroutine that VLATECR uses, same
        ask the fix to VLBATECR makde on Nov. 27, 2006.
        Moved to 31DEC06 this date.

12227.  December 13, 2006        install.pl               Eric
        Added rsync of the $HIST area which was overlooked.
        Moved correction to 31DEC06

12228.  December 15, 2006     Flagged CCs           Eric
        Changed GRDCRM to ignore flagged CC lines rather than die on
        them and changed FACSET to ignore them rather than use them.
        Moved correction to 31DEC06

12229.  December 15, 2006        QPTDIV                 Eric
        Model division for point-source CC files was broken by an
        error in the overhaul of Q routines.  Wrong values of U and V
        were used.
        Moved nowhere.

12230.  December 16, 2006         SPLIT                   Eric
        Changed default of CHINC to NCHAVG.
        Moved to 31DEC06 this date.

12231.  December 18, 2006           CLCAL                Eric
        The phases of IFs 2-N were being changed for smoothing done on
        delays of those IFs as Delta(phase) = -2pi * (F(ifn)-F(if1))
        * Delta (delay of ifn).  This code was commented out as well
        as a non-trivial amount of supporting code.
        Moved to 31DEC06 this date.

12232.  December 19, 2006         FILLM                   Eric
        FILLM was changed to parse the IF control bits word to see if
        the data have been scaled by the nominal sensitivity or not.
        All data for format numbers 24 and less are assumed to have
        been scaled and all recent data should be scaled.  However,
        new data from the E/VLA starting in 2007 will not be scaled
        and so will need scaling by FILLM.  FILLM checks the bit and
        makes sure that it is the same for all IFs and antennas and
        scales any data that have not been scaled.
        Moved to 31DEC06 to support 2007 VLA data.

12233.  December 21, 2006        FLAGR                  Eric
        Fix it to flag singletons when it is supposed to do so.
        Moved to 31DEC06 this date.

12234.  December 21, 2006          AVSPC               Eric
        Correct alternate reference pixel location for frequency
        averaging.
        Moved to 31DEC06 this date.

12235.  December 21, 2006         UVGLU                Eric
        The test on correctness of frequencies was
             (F1-F2) / (DeltaF) > 0.1
        This has to be absolute value > 0.1.
        Moved to 31DEC06 this date.

12236.  December 27, 2006          IMAGR                  Eric
        QCLEAN had an error in which a pointer was used in arithmetic
        without taking into account its new (large + or - offset)
        value.  Changed that computation top use correct values.  The
        error affected some operating systems (RedHat 9) when
        filtering out weak isolated components.
        moved nowhere.

12237.  December 31, 2006           FLAGR                  Eric
        Changed:
        1. Summing buffers were only large enough for 2 polarizations
           if the numbers of antennas and IFs were large.  Doubled
           them.
        2. VIS variables were sized for 1 polarization, quadrupled
           them.
        3. Doubled summing buffers yet again to allow for double
           buffered averaging in RFI, HIST, ANTE, TIME, GAIN modes.
           Changed those modes to use two summing buffers.  This
           allows the second buffer to be checked when it is done to
           see if all correlators have only 1 sample.  If so, it is
           added to the first one, making that buffer one sample
           longer than normal.  This beats having to flag or not check
           all singletons.  It also allow more times in
        4. Changed RFI/HIST to sum RMS rather than RMS^2 to check for
           questionable correlators.  Had it set RMS=0 for singletons
           so that flagging on excess amplitudes and weights could go
           on as normal and then set flags for singletons based on
           BPARM(9).  Otherwise the RMS appeared large (= amp) and so
           caused questionables/bads without checking BPARM(9).
        5. Changed ANTE to sum RMS rather than RMS^2 when checking for
           questionable correlators.  Improved formats for reporting
           errors.
        Made some adjustments to the help file as well.
        Moved nowhere.

12238.  December 31, 2006         TV Servers               Eric
        Changed UNIXSERVERS and XASERVERS in a way that will probably
        produce screams but let's see.  Pat found that putting
        "LD_LIBRARY_PATH=$LD_LIBRARY_PATH $LOAD/TEKSRV.EXE" as the
        command seems to avoid the need to reference LOGIN.SH in the
        users' .bashrc et al files.  Now if the " marks don't kill us.
        Moved the SOL versions of these which have no quotes to SUL in
        31DEC07 and 31DEC06.
        Moved rest nowhere.

12239.  January 1, 2007            AIPS                  Eric
        Update copyright statement
        Moved nowhere.

12240.  January 2, 2007           INDXR                  Eric
        Changed it to allow for NX tables in single-source files.
        CALIB will take advantage of this in self-cal.  the help file
        already claimed that the task worked for single-source files!
        Added remarks to it anyway.
        Moved nowhere.

12241.  January 2, 2007           CALIB                  Eric
        Discovered an error in which the NX table times were extended
        by nearly 5 seconds in each direction to compute the
        integration start and stop times.  This does not matter when
        doing scan averages, but does when a true SOLINT is set.  An
        extension of 0.1 sec if probably okay.
        Moved to 31DEC06 patch this date.

12242.  January 3, 2007       XASERVERS, UNIXSERVERS        Eric
        Changed them back yet again.  The combination of setting an
        environment variable and then doing the command within ""'s
        may well work.  But the setting of the variable depends on the
        nature of the user's shell and so is broken about half the
        time.  Even the use of compound commands in double ""'s wasn't
        that bad.  Leave the -hold and the environment setting as
        suggestions in comments.
        Moved to AOC and CV this date by forced MNJ.

12243.  January 4, 2007            TAPLT                    Eric
        Fixed task to recognize single-precision floating magic
        blanks.  Changed scaling to include only bins with data in
        them; the others are plotted at the bottom anyway so 0 is not
        a real value.  Fixed Y string to omit the overall scaling
        which applies to X only.
        Moved nowhere.

12244.  January 4, 2007          VPLOT                   Leonia
        Added OPCODE='IFRA' to plot out the ratio of the two IFs
        BIF/EIF.
        Moved nowhere.

12245.  January 10, 2007          UPDCONTROL               Eric
        Amazingly, this proc still used the old sort syntax.  We
        finally hit a machine that refused it visibly.  Since SUN4 is
        no longer a current OS, simply commented out the old syntax
        and replace the lines with the new.  I think the operation
        that it was to do is not significant.
        Moved to 31DEC06 patch this date.

12246.  January 17, 2007            OOSUB                  Eric
        New task to do UVSUB with the frequency-dependent primary beam
        and spectral index options of IMAGR.  Changed QUVUTIL
        routines to read in the extended SMODEL source parameters if
        they have been set.
        Moved nowhere.

12247.  January 17, 2007      servers again                Eric
        Changed XASERVERS and UNIXSERVERS to test the user's shell and
        do the correct setenv type command.  This still may hit
        trouble with sites that cannot handle " "'ed command sets in
        an xterm.
        Moved nowhere.

12248.  January 17, 2007            MNJ                    Eric
        changed installation procs MAKE.MNJ and MAKE.BMNJ to add some
        things to the .cvsignore files, namely MASTER and COAOARN to
        the $TST/$ARCH/SYSTEM/.cvsignore and LIBRDBG to all systems
        areas.  Changed the output of UPDCVS to go to the log file and
        added explanatory messages.  Added onager to UPDCONFIG.
        Moved nowhere.

12249.  January 17, 2007              LOCIT                  Eric
        Added options to use the small frequency difference between
        IFs rather than than the large absolute frequency in cases of
        really bad antenna locations.  Also added the option to fit a
        phase slope.
        Moved nowhere.

12250.  January 19, 2007           UVFLG                     Leonia
        Craig Walker payed attention on the difference using different
        supression factor (APARM(6)). The bug has been found: the same
        name TST, TEN used for the time interval inspite of the fact
        that this interval is adjusted when compared with the low
        fringe rate interval. As a result the initial time interval of
        the scan was corrupted at the cycle of baselines and IFs.
        The information about the found flagged time interval for each
        IF has been added at the end of running of UVFLG.
        Moved nowhere.

12251.  January 22, 2007           install.pl                Eric
        Changed rsync -ruv to $rsync which is equal
               rsync -auvz --timeout=120
        The z will do some compression, the a = rlptgoD for a full
        archive representation.  Tested this on primate.
        Moved nowhere.

12252.  January 22, 2007      $APGNOT/UVDI1                 Leonia
        UVDI1 subtracts UV data(having averaged up to one time) from
        the other UV data. This task serves to the same purpose as
        UVAVG with OPCODE = 'SUBT', but alows sutract one averaged
        source data from another source data.
        Moved nowhere.

12253.  January 22, 2007           LWPLA                    Eric
        Changed it to defer the open until the first PL file is open
        and the first record read successfully.  This saves creating
        empty files in case of error.
        Moved nowhere.

12254.  January 22, 2007            LABINI                  Eric
        LABINI refused to change the reference pixel location or axis
        type for FELO axes when the user asked for sub-image relative
        coordinates.  (FELO = regularly gridded in freq but expressed
        in velocity units.)  This is too fussy in general for this
        sort of usage.  Removed the refusal.
        moved nowhere.

12255.  January 23, 2007         New verbs                  Eric
        Changed ASSGN, KWICK, and EQUIV to handle a type 12 temporary
        numeric array.  In KWICK have PRINT, MAX, and MIN  treat it as
        a 1-dim array.  Changed the code for MAX/MIN to allow a single
        argument, e.g. MAX(ANTEN), although this can be confused by
        e.g. print 99, max(anten) which will say 99 only.  Note that
        print max(anten), 99 will do what is wanted.
        Changed POPSGN and NEWPARMS.001 to define verbs VLA, EVLA,
        VLBA, and HSA which will read the AN file and put the selected
        antenna numbers on the stack as a temporary array.  Thus
        ANTENNAS = VLA will make an array of the non-EVLA antenna
        numbers.  Adjusted the MAX and MIN help files.
        Changed AU3B to perform these functions.
        Moved nowhere.

12256.  January 23, 2007        name collision              Eric
        An unknown run and help file called VLBA has been renamed
        VLBAIT.  It purports to reduce VLBA data.
        Moved nowhere.

12257.  January 24, 2007            UPDRSYNC                Eric
        Added z and --timeout=120 to the rsync options used, as in the
        install.pl.
        Moved nowhere.

12258.  January 24, 2007            FILLM                  Eric
        Fixed the coordinates of the master pad from meters to ns
        which is what they are internally.  Now it will recognize the
        master pad.
        Moved nowhere.

12259.  January 26, 2007        VLA, EVLA, etc             Eric
        I missed a routine MASSGN that needed to change to handle
             ANTENNAS = EVLA, 3, 4
        and missed the fact that
             ANTENNAS = EVLA, VLA
             PRINT EVLA VLA
        do not work.  POPS defends itself from verbs so 2 temp arrays
        cannot be created in one command.  Updated the 4 help files.
        Moved nowhere.

12260.  January 30, 2007           IMAGR                  Eric
        Changed:
        IMAGR   A message should have said multi-res nut multi-field.
        TVUTIL  The inscribed circle should have been about the
                numeric center not the reference pixel.  The latter is
                way off the field even when do3d=-1.
        QCLEAN  CLNUV2 forced DO3D true which is way too late since
                only 1 beam and all the images have already been made.
        QCLEAN  CLBHIS changed beam histogram to stay within a radius
                = half of the larger axis size.  This should keep the
                histogram from being wierd because of really bad
                corners.
        QCLEAN  CLNTV rearranged the menu to puit the 3 options that
                stop things at the start away from the things usually
                used repetitively.  Avoids accidental aborts et al.
        Moved nowhere.

12261.  January 30, 2007           ANBPL                  Eric
        Suppress messages from, and further attempts at, scaling when
        data are not going to be plotted.
        Moved nowhere.

12262.  January 31, 2007            IMAGR                 Eric
        There was a path (ALLOKAY=2) through the code that led it to
        use an AP size before one was allocated.  Changed QCLNSZ to
        call QINIT rather than return 0.
        Moved nowhere.

12263.  February 1, 2007           OOSUB                  Eric
        Changed PBUTIL, OOSUB, OOSUB.HLP to use BPARM instead of
        IMAGRPRM and to implement a new function.  This function
        allows the user to omit from the OOSUB all CCs that are inside
        the highest frequency beam, outside the highest frequency
        beam, inside the lowest frequency beam, or outside the lowest
        frequency beam.  This will allow the subtraction of partial
        models to enable better imaging of the inner portions of the
        data and will probably have other uses when we get clever.
        Moved nowhere

12264.  February 8, 2007        RMSD                     Leonia
        Increase the upper limit of the strip size from 8912 to 16384
        Moved nowhere

12265.  February 9, 2007       LPSEC, UVFIX              Leonia
        The leap second subroutine LPSEC is updated until the last
        correction at Jan 2006, and the task UVFIX (only one using
        LPSEC) is comlnked.
        Moved nowhere, moved to patch 2/27?

12266.  February 9, 2007       MAKE.MNJ                   Eric
        Changed the two procs that prepare for MNJs to make a few more
        .cvsignore files.  There needs to be one (with a *) in
        $TST/$ARCH/SYSTEM/COAOARN since that area has a CVS directory.
        Similarly, there needs to be a .cvsignore containing PAPC.INC
        in the $INC/NOTST/$ARCH area.  Changed them to specify one
        thing per line.  Older installations will have to add these by
        hand since they are created during installation.
        moved nowhere.

12267.  February 13, 2007           IMAGR                 Eric
        Added more handling of pathological beams in CLBHIS in
        QCLEAN.FOR.  The inscribed circle was adequate for the
        particular case, but lets handle more bad cases if needed.
        Moved nowhere.

12268.  February 20, 2007          CLCOR                  Leonia
        OPCODE='SUND' has not worked probably since the time when
        OPCODE='EOP' had been installed. The GO TO 999 was missed
        Moved nowhere, moved to patch 2/27.

12269.  February 21, 2007      Gaussian models            Eric
        Corrected QGASUB and QGADIV which had one subscript to the
        visibility data not converted to the dynamic memory offset.
        So Gaussian CCs should have been ignored more or less in
        imaging and modeling.  ANY MULTI-RESOLUTION IMAGING with
        31DEC07 HAS BEEN WRONG.
        Moved nowhere.

12270.  February 23, 2007           KNTR                  Eric
        Changed it to allow ZINC < 0 to mean do the image planes in
        the reverse order.  Fixed help file for this too.
        Moved nowhere.

12271.  February 26, 2007    VLBAPCOR.HLP, FITDISK.HLP     Amy
        Added INVER to VLBAPCOR, per Craig's request.
        Removed references to DOALL from DITDISK help file.
        Moved nowhere.

12272.  February 26, 2007           VBGLU                  Amy
        Fixed merging of the STATE count column of in the PC table.
        It used to not expand to the correct number of values in the
        table cell because it had twice the number of values as all
        the other 2D columns.
        Moved nowhere, moved to patch 2/27.

12273.  February 26, 2007         Misc                  Eric
        IMAGR.HLP  fix typo re ANTENNAS
        UPDCVS     add C is error re local version
        Moved nowhere.

12274.  February 27, 2007           CVEL                Eric
        The call to CALINI used the same dummy argument to several
        output variables.  This caused the number of polarizations to
        be set strangely and thus to produce warning messages galore.
        The final call to DSHIFT had the wrong number of arguments
        causing the task to abort (with the GNU compiler anyway) at
        the close down stage (before extension file copies).
        Moved nowhere, moved to patch this date.

12275.  March 1, 2007           SETFC                 Eric
        It was discovered that the formula used to determine the
        maximum facet radius was in error by sqrt(3), or,
        alternatively, that the max phase error was 3 times larger
        than stated.  Corrected the formula and changed the default to
        60 degrees, giving the same output as previously.  Changed the
        help file to give correct formulae, to change the pahse error
        default, and to give a reference in the explain section.
        A radius of <= 0 confused the facet size setting since that
        would be less than the max allowed facet size.  Fixed the
        confusion for <= 0.
        Moved nowhere.

12276.  March 6, 2007            VLANT                   Eric
        New task: reads (downloading if needed) the VLA antenna
        location text files and sums up any baseline corrections.
        Then modifies the new CL table (copied from an old one) for
        these corrections and up0dates the ANtenna file.  Put
        VLA.ant.year for year = 1992-2006 in $AIPSTARS.  Fixed
        copyright statement and minor typography in CLCOR.
        Moved nowhere.

12277.  March 7, 2007           DELZN                    Leonia
        The new OPTYPE='rate' has been added. This optype uses column
        'rate' at the input SN table instead of 'mdel'. This new
        option may be usefull at the case of small bandwidth when
        accuracy of the delay measurement can be low.
        Moved nowhere.

12278.  March 8, 2007          UVFIX                     Leonia
        Originally differential aberration has been added always.
        Now I put it under control of UVFIXPRM(18).
        Moved nowhere.

12278.  March 8, 2007        SMODEL adverb                Eric
        Changed VISDFT and VSFDFT to apply the SMODEL parameters
        including the W*Z term in the phase.  That term was always in
        the low level Q routines but Z was made 0 except in VSCDFT.
        The 3D imaging with Clean Components depends on the W term
        being used (where 2D explicitly does not use it) so the Q
        routines are already constructed carefully.
        Probably should go to patch, but this has been there forever.
        Moved nowhere.

12279.  March 12, 2007           IMAGR                     Eric
        Changed QCLEAN to implement two new TV options - to turn off a
        facet now and to turn it back on.  Changed HLPCLEAN and IMAGR
        help files accordingly.  Fixed some FORMATs in QCLEAN to I5
        for field number.
        Changed TSKHLP to accept XXXXXXXXX <n> as limiting the match to
        those characters prior to the <n>.  Changed HLPCLEAN.HLP to use
        this for the new options and the old SELECT FIELD and DISPLAY
        ONLY.  The latter did not work since the spellings had
        changed.
        Moved nowhere.

12280.  March 13, 2007             FILLM                    Eric
        Changed the subroutine that checks for scaling by the nominal
        sensitivity.  It will now examine only the antennas in the
        current subarray and it will report any that differ from the
        setting for the first antenna in the array.  Added code to
        detect Z mode in which the first spectral channel is not the
        on-line computed average of the central channels ("channel 0")
        but the actual zero-lag channel.  The number of channels
        and reference pixel output in this case are one higher and the
        zero lag channel is retained.  This might allow re-apodization
        of the data.
        Moved nowhere.

12281.  March 13, 2007     VBGLU; VBGLU.HLP                    Amy
        VBGLU glued datasets with multiple FQids without complaining but
        the resulting uvfile would be a single FQid and the data would
        be glued in a nonsensical way.  VBGLU now refuses to glue multi
        FQid data.  Note of this is made in the help file.
        Moved nowhere.

12282.  March 13, 2007              SETFC                Eric
        changed:
        (1) Formats to be clearer and handle VLBI better
        (2) Add message when user radius overrides the size
        (3) SETCEL error did not place return values for AIPS, leaving
            it to get garbage instead.
        (4) Changed BCHAN to 1 + 0.4*Nchan; ECHAN=BCHAN.  VLBI data
            frequently have channel 1 flagged.
        (5) When the user's radius limits the area, the CELLSIZE was
            set and then only the IMSIZE rounded to a power 2.
            Changed to adjust the CELLSIZE after the rounding some
            although not as drastically as when the two are set by
            maximum phase error.
        (6) Changed the round up levels substantially: if J > 1.05N
            recommend 2N where N is a power of 2 and J is the needed
            size w/o considering powers of 2.  Previously it did not
            round up until rather larger values of J.
        Moved nowhere.

12283.  March 14, 2007             SNSMO                 Amy
        There was an error introduced last year in the call sequence
        to the subroutine SMORAT.  This caused odd smoothing of the
        rates for the first IF, including flagging solutions.  Fixed.
        Moved nowhere, went to patch April 26.

12284.  March 14, 2007             VBGLU                  Eric
        Corrected minor Fortran gotchas in 12281.  Added code to copy
        with reformat of IF number the FG tables from each file.  The
        resulting FG table can be several times larger.  Fixed file
        closing for CT table tests.  The LUNs were needed for the FG
        function after the CT tables were tested.
        Moved nowhere.

12285.  March 16, 2007             BLCAL                  Eric
        Code has never worked on multi-source data.  It required that
        all source IDs have a non-zero flux in the SU table, not just
        those included by the adverbs.  Moved the divide by zero test
        to the inner loop where all source selection will have
        occurred.
        Moved nowhere.

12286.  March 17, 2007          VLA, EVLA, et al.          Eric
        Changed help files for VLA, EVLA, VLBA, and HSA to use adverb
        SUBARRAY rather than INVERS.  They are equivalent in this
        usage but SUBARRAY is what the user should be thinking.
        Changed AU3B to use adverb SUBARRAY and to set <= 0 to 1.
        Changed adverb help files for ANTENNAS and BASELINE to mention
        these verbs.
        Moved nowhere.

12287.  March 20, 2007            CUBIT             Eric/Judith Irwin
        New task to fit a full HI cube.  CUBIT was originally written
        and maintained by Judith Irwin at University of Toronto.  She
        has given me permission to modernize the code and release it
        with the regular AIPS.  I have retained much of her code but
        changed the memory handling to be dynamic so any size/shape
        cube can be fit.  The old-style AIPS code Judith inherited and
        used has been updated to reduce the prevalance of GO TOs and
        otherwise make for more modern looking AIPS code.  I have also
        added the needed adverbs to POPSDAT and NEWPARMS and made new
        help files for FPARM, RPARM, VPARM, DCODE, and VCODE.
        ERF.FOR was modernized too to be used in printing summaries of
        the results.
        Moved nowhere.

12288.  March 20, 2007    VLBAUTIL (VLBAEOPS, VLBATECR)     Amy
        Added two more possible download command to VLBAEOPS (curl
        and ncftpget), the same as VLBATECR.  Added a '-r' to the
        wget commands in VLBAEOPS and VLBATECR, the other commands
        automatically overwrite.
        Moved nowhere.

12289.  March 21, 2007       UVFIX                         Leonia
        UVFIX has not calculated REFCHN for uncompressed data.
        It has provided mistake at the frequency calculation when
        source shift was involved.
        Moved nowhere, went to patch April 26.

12290.  March 21, 2007             CUBIT                   Eric
        Correct two minor Fortran errors and add Judith Irwin's
        reference to both the Fortran and the help file.
        Moved nowhere.

12291.  March 21, 2007             CLCOR                   Eric
        The source position correction updates the SU table first so
        that the source positions taken as the "input" positions were
        really the "output" positions.  This makes a second-order
        error in the correction.  the SOUMOD routine had a 3rd order
        error in that it used the output apparent declination to scale
        the DX term when it should be the input apparent declination.
        Moved nowhere, went to patch April 26.

12292.  March 21, 2007              SMOOTH                  Eric
        This adverb was left out of 17 tasks that do calibration.
        They are CLIPM, FLGIT, SPCAL, UVFND, UVMLN, FINDR, FLAGR,
        MAPBM, RFI, BLCAL, DEFLG, LPCAL, PCAL, OMFIT, SCIMG, SCMAP,
        FRMAP.
        Moved nowhere.

12293.  March 22, 2007              VLANT                   Eric
        The task worked but only when both polarizations were present.
        Otherwise it did odd things - fixed it to match the
        polarization handling in CLCOR.
        Moved nowhere.

12294.  March 23, 2007         VLBAEOPS, VLBATECR           Amy
        Remove "-r" from wget lines.  Caused file to be put in non-
        existant directory.  Don't know why.
        Moved nowhere.

12295.  March 23, 2007           VLANT                      Eric
        Removed the -r from wget command - when use -O file-name the
        -r is not needed and cariies some other meanings.  Added a
        subroutine to get the start time from the NX table so that the
        observation will be set in time more exactly.  Changed the
        handling of the stokes parameter to a view of such things that
        is more modern than what is hidden away in CLCOR.  There is
        only 1 set of cal columns with 1 polarization no matter what
        that polarization is (R or L).  For 1 day it got the single L
        case wrong, if that ever occurs with the VLA.
        Position corrections (large) have been entered for EVLA
        antennas in the data file which will be fetched automatically
        when VLANT is run.
        Moved nowhere.

12296.  March 28, 2007       UVAVG.HLP                      Leonia
        A paragraph about multisource file has been added.
        Moved nowhere.

12297.  March 29, 2007      UVDI1                           Leonia
        UVDI1 has been modified to make it working with both single
        and multi source file for the first UV data input.
        The help file is updated.
        Moved nowhere.

12298.  March 29, 2007          Misc                 Eric
        ACFIT: The offset term was printed with a format F9.5.
               Changed it to have several more digits.
        CUBIT: Incorrect subscripts in the explain file
        Moved nowhere.

12299.  March 30, 2007            FLATN                   Eric
        Added OPTYPE to allow images of noise or weight to be computed
        instead of real data.  Discovered error - the NOISE values
        were ignored in mosaicing so all pointings had same NOISE
        effectively.  Renamed DOWEIGHT since a value of 1 is
        catastrophic in mosaicing (1.0e-4 is better) - will use
        WEIGHTIT instead which defaults to 0.  Changed help to
        emphasize - warn about - this parameter.
        Changed STESS.HLP to warn about the geometry needs and to say
        that FLATN can now do STESS's job.
        Moved nowhere.

12300.  March 30, 2007       PRTUV                         Leonia
        Add option of print out RE, IM instead of AMP, PHASE under
        control of DPARM(7).
        Moved nowhere.

12301.  April 2, 2007        RMSD.FOR                      Leonia
        RMSD should ignore the blanked pixels but the logic error has
        leaded to substituting them by zeros. Fixed.
        Moved nowhere.

12302.  April 2, 2007              RLDIF                  Eric
        The averaging of each scan was done carefully in real and
        imaginary parts.  However, the averaging between scans was
        done on the phase values directly.  This is not a good idea
        with noisy data or phases close to 180.  Changed it to do
        real and imaginary correctly.
        Moved nowhere.

12303.  April 2, 2007             xTESS                  Eric
        Changed VTESS, UTESS, LTESS, STESS to test whether the
        incoming images for a mosaic are actually on the same geometry
        as these tasks require them to be.  Changed STESS to correct
        the call sequence to PBCALC that omitted the array name and so
        was all wrong (and probably the cause of the aborts).
        Moved nowhere.

12304.  April 2, 2007            VLARUN                   Lorant
        Changed adverbs to have some more descriptive meaning in
        VLARUN.001 and VLARUN.HLP Latter was rewritten by Amy.
        Moved nowhere.

12305.  April 3, 2007              TABED                 Eric
        Users never notice OUTDISK so blank name parameters other than
        OUTDISK sent the output to the highest catalog number file on
        OUTDISK not where expected.  Changed the defaults to
        individually match the input, reducing the likelihood that a
        false match will occur.
        Moved nowhere.

12306.  April 5, 2007              FILLM                    Eric
        Changed it to have 10 frequency bands, adding S and A, with
        contiguous frequencies so that no possible observing frequency
        would be assigned band = '?'.  Changed the frequency divisions
        to be those of the official EVLA list.
        Moved nowhere.

12307.  April 5, 2007             PBCALC                    Eric
        The message about using VLA for array XXXX should only be
        issued if it is defaulting.  Moved how that message is issued
        to a more appropriate place.
        Moved nowhere.

12308.  April 5, 2007                 FITLD                Eric
        Change to support IDI bandpass tables:
        TABHDR  so look for BANDPASS TABLE and call it a BT (was
                just BANDPASS and BA which was no where supported)
        BTINI   to use # polarizations in managing the number of
                columns for file creation and warning messages
        FITLD   to drop warning in BT2BP and to set BPIF so that there
                would be data.
        Moved nowhere.

12309.  April 6, 2007           FITLD                  Eric
        Changed TABHDR to allow either BANDPASS or 'BANDPASS TABLE'
        for a BT table.  Fixed BTTAB which was off by one in the 1st
        polarization in copying the BP and very far off (wrong pointer
        on write, correct pointer on read but both off by 1 BP size).
        Moved nowhere.

12310.  April 9, 2007            FLATN                     Eric
        Upgraded it to fill in NOISE from the image header parameter
        ACTNOISE when it is present.  Explained this in the help
        file.
        Moved nowhere.

12311.  April 9, 2007            FILLM                     Eric
        Change OPACTY in $APLSUB to recognize the new band codes.
        Change INDXR to use the same band edges as FILLM so that it
        calls OPACTY with the new band codes.  Change WETHR to use
        the new band codes for some of its operations.
        Moved nowhere.

12312.  April 11, 2007            MULTI                    Eric
        Fixed the call sequence to JPRECS - it did not do the general
        relativity correction which we normally do and it used a large
        rather than tiny interpolation parameter.
        Moved nowhere.

12313.  April 11, 2007            FILLM                   Eric
        Changed help and fortran to use the back-end Tsys for EVLA
        antennas no matter what the band and the setting of the
        CPARM(2) bit might be.  There is no front-end Tsys at this
        time for EVLA antennas.
        Changed it to print only so many bad exponent messages and
        then print a summary at the end.
        Moved nowhere.

12314.  April 12, 2007     EDITR, EDITA, SNEDT             Eric
        Changed QEDIUTIL to test the error return from reading
        user-provided numbers more carefully.  The IERR = -n would
        fall through to a place that treated all non zwero errors as
        fatal.   Added error messages and resetting of IERR to 0 when
        the user enters numbers badly (or out of range).
        Moved nowhere.

12315.  April 13, 2007                 Debris                  Eric
        Problems discovered and repaired  while considering extending
        the calibration system to more tasks, incl non T* sorts:
        CLINV     Help file referred to input and output "image" when
                  it works only on UV data sets.
        DBCON     Help file had incomplete sentence which failed to
                  tell reader what happens to CL > 1 from file 2.
        DIFUV     Help file was silent about tables.  Changed to state
                  that no tables are applied and only those of the
                  first data set are copied to the output.
        DFQID     Did not renumber FQIDs in tables.  Stole routine
                  from DSORC with appropriate revisions.
        DQUAL     Did not renumber sources in tables.  Fixed this for
                  all but the SU which was/is written separately.
        FXTIM     Fix the TIME and TIME RANGE in all tables too.
        UVLSD     Do not copy cal tables (CL, SN, BP, BL) since a
                  division produces stuff that should not be
                  calibrated.
        IBLED     Fixed comment that wrongly referenced NXTFLG.
        CLPLT     Removed unused references to DFLG.INC
        ANBPL     Removed unused references to DFLG.INC
        VPLOT     Removed 1 unused reference to DFLG.INC, others
                  are used.
        Moved nowhere.

12316.  April 13, 2007        CALWR, FITTP, FITAB         Eric
        These should not write the BLANK keyword when writing floating
        point FITS data.  Changed it to comment about NaNs.
        Moved nowhere.

12317.  April 20, 2007        AVSPC.HLP                   Leonia
        The AVSPC.HLP has not explained clearly what should happen
        when ICHANSEL describes averaging explicitly for some IFs but
        skips other IFs. The paragraph describing this situation is
        added. The start channel of the 75% of the band has been
        erroniously determined as NCHAN/8. It should be NCHAN/8 + 1.
        It has been changed.
        Moved nowhere.

12318.  April 20, 2007         VLBA routines               Lorant
        Found a bug in VLBAFQS when S/X or 90/50 mode and frequency-ID
        is not the row number. Corrected part in VLBAARCH, but Amy has
        VLBAUTIL checked out so VLBAFQS and VLBAFIX will be done later.
        Moved nowhere.

12319.  April 22, 2007      UVFLG                          Leonia
        The bug is found at the flagging of time interval near zero
        fringe rate (APARM(6) > 0).
        UVFLG has considered the fringe rate (as U) zeros repeat with
        period 24 hours. Actually this period is 12 hours. This mistake
        leads to the possible skip of some flagging due to fringe rate
        close to zero (APARM(6)>0). Fixed.
        Moved nowhere.

12320.  April 23, 2007   VLBATECR, EOPS, FIX and FQS       Amy
        Changed VLBATECR and VLBAEOPS so when wget is used it will
        overwrite files, rather than rename the input file.  Also
        simplified logic a bit.  Fixed VLBAFQS and VLBAFIX as
        described by Lorant in change #12318.
        Moved nowhere.

12321.  April 26, 2007       BLCAL, UVFND              Eric
        The cal system has an integration time parameter DXTIME which
        is the integration time in DAYS.  If it is not set, then the
        random parameter is consulted or 1 sec taken.  It controls the
        gain correction made for averaging when there is a delay and
        rate.  A 1 day integration makes for a large correction!  Two
        tasks, BLCAL and UVFND, set this parameter to 1.0.  CALIB set
        it to TINTG which was an unused variable carried in a local
        common.  Changed all to set it 0.0.  Changed BLCAL to clean up
        code a bit and to use dynamic memory rather than a fixed and
        rather modest set of buffers.
        Moved DXTIME correction to patch this date.

12322.  April 26, 2007        UVCON                   Leonia
        UVCON used the wrong sign at the telescope longtitude when
        elevation of the telescope is calculated. As the result wrong
        time interval was skipped when limit of elevation is used.
        Moved nowhere.

12323.  April 27, 2007            UVPLT                  Eric
        When UVPLT does hour angle, azimuth, and elevation without a
        REFANT it averages the relevant angle as measured at each
        telescope.  For VLBI, these can be quite different and a
        vector average is required.  Corrected code to do that.
        Moved nowhere.

12324.  April 27, 2007        Source models               Eric
        Changed BLCAL to be like CALIB in handling source models which
        might have IF-dependent fluxes in a source table.  Previously,
        BLCAL scaled all IFs as if they had the source flux of IF 1.
        Found minor fixes to put in CALIB - wrong CC ver saved and
        IF-dependent code entered when using an image model which is
        not useful.  Lots of other tasks should have this done.
        Moved nowhere.

12325.  April 27, 2007          PCNTR, KNTR               Eric
        Changed error message in POLDRW so that coordinate errors are
        separate from plot errors with the former suggesting that
        FACTOR is too large.  KNTR was very short on error reporting.
        Moved nowhere.

12326.  April 28, 2007        Model fluxes              Eric
        More changes to handle different fluxes at different IFs when
        using a model of a calibrator:
        PCAL   is okay - does one IF at a time usually
        LPCAL  Corrected to pass through IFNO rather than using 1
               always in FACSET.  Is usually 1 IF at a time.
        FRING  Added code to do 1 If at a time when appropriate.
        KRING  Added code to do 1 If at a time when appropriate.
        BPASS  Added code to do 1 If at a time when appropriate.
        CPASS  Added code to do 1 If at a time when appropriate.
        CALIB  Got rid of useless comments and variable
        BLCAL  Got rid of useless comments
        Moved nowhere.

12327.  April 30, 2007        UVCON                    Leonia
        I have found some bugs near creation of AN table
        specifically when input configuration is VLA or VLBA.
        Fixed.
        Moved nowhere.

12328.  May 1, 2007       Model CC version                 Eric
        Corrected BLCAL, BPASS, CPASS, FRING, KRING, and LPCAL.
        All of them defaulted the CC file version to 1 rather than the
        highest.  Other tasks like CALIB, UVSUB, etc got it right.
        Moved nowhere.

12329.  May 1, 2007            LISTR, RLDIF                Eric
        LISTR and RLDIF did not average spectral channels when doing
        MATX displays - they just used BCHAN.  LISTR also set EIF=BIF
        in doing MATX.  Changed LISTR to loop over IF at the outside
        (main routine) rather than somewhere inside.  Fixed a bad
        computation of line length in the DEC-10 format GAIN display.
        Made data buffer the correct size (3 * 4 * MAXCIF).
        Moved nowhere.

12330.  May 3, 2007        Missing antenna #             Eric
        If an antenna number is missing from an AN file, some bad
        things happen.  Fixed:
        UVFLG    The translation of station name to number used min
                 match so a 0-length string matched all.  Station
                 names should be an exact match.
        DTSUM    It greatly confused antenna number and count.
                 Rewrote handling of antenna number so that true
                 antenna number if recognized.  Reads all data once
                 through to get which antennas actually appear in the
                 data somewhere.  Those are then printed.  It can
                 optionally print the total summary, optionally
                 followed by the scan-by-scan summary.  Added controls
                 of this printing and of the number of digits used.
                 Changed scaling to avoid overflows to be a simply
                 right shift of the counts (with rounding).  help file
                 updated for options.
        Moved nowhere.

12331.  May 4, 2007            Man pages                  Eric
        The man pages for aips got lost.  The Mac systems did not
        allow us to have both aips.l and AIPS.l in the same directory,
        so I deleted AIPS.l.  Unfortunately AIPS.l had all the text
        and aips.l was just a link to AIPS.L.  Fortunately, we have an
        antique version of aips still on disk and I was able to
        recover to file, now stored as aips.l.  man AIPS will not work
        but man aips does.
        Moved to patch this date.

12332.  May 4, 2007               VLANT                     Eric
        Added a section to try "curl" should wget fail.  curl is
        usually on Macs while wget is not.
        Moved nowhere.

12333.  May 4, 2007           VLBAPCOR                     Amy
        Changed CLCAL interpolation to SELF.
        Moved nowhere.

12334.  May 9, 2007          VLAPROCS, VLACALIB            Amy
        The new calibrator model downloading that I added to VLACALIB
        last year did not work for 1950 data.  Fixed.
        Moved nowhere.

12335.  May 10, 2007           AMBPL                     Leonia
        AMBPL has plotted wrong elevations when elevation is plotted.
        It happenned because the subroutine GETSOU is never called.
        The condition prevented it. The condition is wrong but
        I am not sure how to modify it. So I removed the condition at
        all until Eric corrects me. MERLIN is treated by default
        at subroutine GETANT as VLBI (LH with origin at the Earth center)
        And Merlin actually follows such a coordinate system.
        Moved nowhere.

12336.  May 14, 2007           CLCOR                     Leonia
        Some VLBI data correlated not at Socorro have the source RA's
        at the range of -180, +180 degrees while Socorro correlator
        creates SU table with RA ar the range 0,360 degrees.
        CLCOR appliing correction to the source position ('antp', antc')
        reading negative RA (RAEPO for example) recalculates it to
        the positive RAAPP (add 360) and comparing it with the negative
        SU table RAAPP reports the correction of the order 360 deg!
        I fixed it adjusting RA output of the SU table to the range
        0-360 always.
        Moved nowhere.

12337.  May 21, 2007             GRIPE                    Eric
        Changed ZGMAIL.FOR to refer to daip@nrao.edu not egreisen.
        Changed ZGMAI2.C to drop an invalid mail address, leaving only
        daip@nrao.edu.
        Moved nowhere.

12338.  May 22, 2007                ANBPL                 Eric
        The initial value for SCANUM of -1 matched the value of the NX
        table record when there is no NX table.  So the header was
        never used to get source parameters and elevation failed.
        Adjusted the initial value of the "scan number" and removed
        the commenting out of the IF (new scan) around the SOUINI
        calls.
        Moved nowhere.

12339.  May 22, 2007              TASKWT                  Eric
        AIPS calls TASKWT while it is waiting for a task to restart
        it.  Changed this task to be tolerant of operating system
        glitches that tell it that the TD file does not exist.  It
        must or this would never get called so the OS must lie 5 times
        in a row before we quit in future.  This will not prevent
        other file open failures in bad operating systems but reduces
        one vulnerability.
        Moved nowhere.

12340.  May 23, 2007            TV servers                Eric
        Changed XASERVERS and UNIXSERVERS to have a case on $ARCH as
        well as on $SHELL for setting the library path.  Macs require
        DYLD_LIBRARY_PATH rather than LD_LIBRARY_PATH which is all we
        had there before.
        Moved nowhere.

12341.  May 23, 2007              CUBIT                   Eric
        Judith Irwin has provided more information for getting started
        using this fitting task.
        Moved nowhere.

12342.  May 24, 2007                FILLM                 Eric
        There was an extra call to MRECO (read routine) when an EOF
        occurred that caused it to skip the first data record in the
        next file.  This led to real problems when the next file was
        incompatible with the previous, but also caused it to lose a
        record when the two were compatible.
        Moved this fix (not other FILLM changes) to patch this date.

12343.  May 24, 2007               CTINI                 Eric
        For some reason ICHAR rather than ITRIM was called to
        determine the length of a string.
        Moved nowhere.

12344.  May 24, 2007              LISTR                  Eric
        The outer loop over IF did not exit on a user's quit command
        but attempted to do the next IF.  Since the files were not
        closed properly on a quit, this then generated error messages.
        Fixed it to pass back the quit and honor it.
        Moved nowhere.

12345.  May 25, 2007         Cal system                   Eric
        In order to allow flagging and some calibration on data sets
        that are not in time order:
        DFLG.INC     Add variable for start time of interval (FLGTST)
                     and logical TIMORD true if in time order.
        PFLG.INC     Raised MAXFLG to 6000.
        UVGET        Set TIMORD, test for time order ignoring DOPOL
                     and DOBAND=1 and remove DOFLAG test.  (Flagging
                     non time ordered will fail if too many flags for
                     the buffer are found.)
        POLSET       Changed handling of no pol info to be clearer.
                     Pol type is normally null rather than blank when
                     it has never been set so added messages.
        DATPOL       Changed it to allow time to move in any direction
                     and to recompute if it differs by 0.1 sec.
                     Before it had to move forward and any change led
                     to a recomputation.
        DATGET       Changed the test that forces time order to ignore
                     DOPOL and DOBAND=1.  TIMORD should be true for
                     DOCAL etc., but matters if DOFLAG assumes it.
                     DOFLAG was not tested previously.  Added includes
                     PFLG and DFLG.
        DATFLG       When not TIMORD, test if time is in flag's
                     interval.
        NXTFLG       Bail out of read only if TIMORD.  Set and
                     maintain FLGTST, the start time.  Add to message
                     when buffer overflows.
        SDGET        Set TIMORD, test only DOCAL to force time order.
        DGETSD       It used to force time order in all cases.  Now it
                     forces time order if TIMORD and DOCAL or DOFLAG.
        Moved nowhere.

12346.  May 25, 2007           Tasks and cal system        Eric
        Changed
        UVCOP        Made same changes to local versions of DATFLG and
                     NXTFLG.  Changed ..IN routine to set TIMORD.
                     NOTE: The task did not check on time order
                     previously and so could have failed badly.
                     Changed number flags to 60000.o
        AVSPC        Similarly, changed local versions of DATFLG and
                     NXTFLG and SETFLG.  It had the same bug as
                     UVCOP.
        CVEL         Did not allow flagging for single-source files.
                     Changed local versions of flagging routines and
                     INI to do non time ordered flagging.
        SDVEL        Changed local versions of flagging routines and
                     INI to do non time ordered flagging.
        FLAGVER      Updated the help file with info about time order
                     and limits and UVCOP.
        Moved nowhere.

12347.  May 25, 2007           UVPLT                       Eric
        Changed the display when elevation et al are plotted to show
        the REFANT or lack thereof in a line at the bottom.  UVPLT
        replaced the normal antennas, IFs, channels display with
        REFANT display previously and turned of DO3COL.  This is not
        right since one might display e.g. amplitude versus elevation
        rather than elevation versus time.
        Moved nowhere.

12348.  May 30, 2007               TASKWT                   Eric
        I forgot to reset the message suppression in this subroutine
        so AIPS would begin to hide errors after the first task was
        run.
        Moved nowhere.

12349.  May 30, 2007               SNPLT                    Eric
        The Hour angle computation had a mysterious -PI/2 causing all
        hour angles plotted to be too low by 6 hours.
        Moved to patch June 14, nowhere else.

12350.  May 31, 2007               QUACK                     Eric
        The EVLA currently needs to QUACK differently for different
        IFs and polarizations.  So added STOKES, BIF, EIF to it.
        Moved nowhere.

12351.  May 31, 2007           UVPLT, WIPER            Eric
        Fixed WIPER to average hour angles, elevations, and azimuths
        correctly using sines and cosines like UVPLT.  Then fixed both
        to do the same with paralactic angles.
        Moved nowhere.

12352.  June 6, 2007          UVAVG.HLP                Leonia
        Description of OPTYPE='SUBT' has not been clear.
        Tryed to improve.
        Moved nowhere.

12353.  June 8, 2007           install.pl               Eric
        The script asked for the desired group id and then never used
        it.  Added system ("chgrp $GROUP file") type commands
        everywhere a chmod was done.
        moved nowhere.

12354.  June 8, 2007           FILLM                     Eric
        FILLM required that the stop time exceed the start time in
        TIMERANG or it used -99 to +999 days.  The defaulting should
        be by halves in TIMERANG according to the (TIMERANG) help file
        so changed the code.  Added warning message when non-zero
        TIMERANG is overriden because the user spcified it wrong.
        Moved nowhere.

12355.  June 8, 2007             FILAIP                  Eric
        The max number of ME files allowed was limited to 15 not 35.
        We now use extended hex so raised the limit.
        Moved nowhere.

12356.  June 8, 2007             ALLDEST                 Eric
        One question used an I1 format for disk number - I3 is
        probably better.  Changed several formats in AU3A.
        Moved nowhere.

12357.  June 10, 2007      SPLIT, SPLAT                   Eric
        Errors occurred when TIMERANG limited the times and SOURCES
        included more sources than were in the TIMERANGe.  Changed:
        INDXIN    Ignored TEND and so selected many NX records that
                  were infact not useful.  Also used the NX time
                  interval when it should have used a half interval.
        SPLIT     If UVGET ('INIT' returned an error code, DOCAL et al
                  were left in the temporary (false) state for
                  fetching the new source.
        SPLAT     Fixed up the logic to match SPLIT in setting and
                  resetting cal parameters and in keeping track of
                  whether the UV data set is open.  Added code to deal
                  with missing data in subarrays which has been in
                  SPLIT for a long time now.
        Moved SPLIT fix simply to patch, nowhere else.

12358.  June 10, 2007      Linear polarizations          Eric
        There were various assumptions about linear polarizations in
        various places.  The cal system seemed to be willing to accept
        tham some places with the assumption that DOPOL would
        translate the linears to circular and that DOPOL would always
        be set.  FNDPOL basically did not allow you to have linear
        polarization however.  This all seems odd to me.
        FNDPOL   Re-wrote an incompetent mess.  It should select
                 polarizations more competently now although why
                 DGINIT and thence FNDPOL have so many limitations on
                 the allowd Stokes axis values I do not know.
        DGINIT   Re-arranged to allow X and Y type polarizations.
        DGHEAD   Modified to support X and Y types.
        SDGET    Fixed nasty error where the line LRECIN=LREC was lost
                 accidentally.
        PRTSD    Changed to display the X type polarizations and other
                 longitude and latitude axes.
        SDIMG    Allow XX and YY polarizations in Fortran and help.
        SDGRD    Fortran okay - changed help.
        Moved nowhere.

12359.  June 11, 2007        Cal adverbs added             Eric
        Change tasks to allow calibration and flagging where not
        previously expected:
        COPTAB   New subroutine to do copying of tables for such tasks
                 including channel, IF, source, et al selection.
        CALHIS   New subroutine to fill HI file with calibration
                 adverbs.
        PCINI    Limit warning messages allowing for # tones = 0.
        UVLSF    Moved from APLPGM to APGNOT and added cal adverbs.
                 Continuum output always uncompressed; line output
                 matches input.  Continuum output no longer the weight
                 of the input CHANNEL but rather the sum of the
                 weights of the channels used to find the fit.
        UVLSD    As UVLSF.
        FUDGE    Moved from APLPGM to APGNOT and added cal adverbs.
        Moved nowhere.

12360.  June 12, 2007             FILLM                  Eric
        Fixed the TELL code defaults for TIMERANG to match those used
        on the original inputs.
        Moved nowhere.

12361.  June 13, 2007                SAD                 Eric
        Extended the DPARM(9) option to use a noise image.  If >= 2,
        the image will now be required to match the the first image
        and will be read as islands are searched.  In this case the
        CPARM cutoffs plus ICAT and some of the DPARMs will be taken
        as being in units of S/N rather than image units.
        Corrected error that caused coordinates to be based on the 2nd
        image rather than the first in the output display.
        Moved nowhere.

12362.  June 14, 2007             VLARUN                 Lorant
        Amy noticed a feature when using calibrator models with more
        than eight characters (ie non-observe names, eg fast-switching
        or sched used). Fixed to allow for 16 characters in the name.
        Moved nowhere.

12363.  June 14, 2007      VLAPROCS, VLACALIB            Amy
        As above.  The real issue was trying to compare calibrator
        names that were longer than 8 characters with the standard
        flux calibrators.  Anyway, fixes so up to 16 characters are
        allowed.
        Moved nowhere.

12364.  June 14, 2007             SNPLT                  Eric
        The inner plotting routine changed the phas code for PC tables
        to a special value and then did not test that special value
        when checking for phase wraps.  So lots of points potentially
        did not get plotted.
        Moved to patch this date.

12365.  June 16, 2007                VLA station names       Eric
        There has been a protest over the use of a blank in the VLA
        station names so I have changed it to an _.  Let us hope that
        this does not mess up labeling in AIPS where _ is changed to
        an unshrinkable blank on occasion in string handling for
        display.  Changed FILLM to do the _ and changed PRTAN, VLANT,
        LOCIT, FRPLT, and POSSM to support all possible VLA station
        naming conventions.  FRPLT especially but also POSSM did not
        handle the previous conventions entirely correctly.  FILLM did
        not test the possibilities of names properly a couple of other
        places.
        Moved to patch (except VLANT) this date.

12366.  June 19, 2007           Stokes values              Eric
        We need to allow a few more Stokes values in calibration
        tasks, e.g. RRLL, XXYY, RLLR, XYYX where the first 2 are
        synonyms for HALF but the other two were not allowed.
        Furthermore, formal I should be allowed to be requested.
        So Stokes values F, FQU, FQUV, and FV have been added although
        the I versions of the last 3 are already formal I (both RR and
        LL or XX and YY must be present).
        DGINIT    Implement the new set of 21 PMODEs including formal
                  I and careful interpretation of the words HALF,
                  CROS, and FULL.
        DGHEAD    Adjust the interpretation of PMODE adding the new
                  RLLR and XYYX.
        FNDPOL    Add the new codes.
        STOKES    Upgraded the help file.
        Moved nowhere.

12367.  June 19, 2007               UVPLT                   Eric
        Remove all restrictions on STOKES - anything that FNDPOL and
        DGINIT (the calibration software system) will take will be
        plotted.
        Moved nowhere.

12368.  June 19, 2007              WIPER                   Eric
        Similarly, removed all restrictions on STOKES.  The flagging
        follows sensible rules as to which correlators get flagged
        when various displayed correlators are marked for flagging.
        Added code to keep track of which baselines are in which
        plotted points.  Up to 2 will be plotted during interactive
        flagging operations with a "+" sign if there are > 2 baselines
        within the point.  (Isn't dynamic memory convenient?)  Changed
        the axis labeling so that sub-windows will also be labeled.
        Changed the format handling in the display of coordinate
        values during flagging.
        Moved nowhere.

12369.  June 20, 2007           TVFLG, SPFLG              Eric
        These 2 tasks had a strange set of rules for handling FLAGVER
        including permanently changing the input file if it was a
        single source file with no pre=existing FG table and FLAGVER
        was 0.  Changed them to copy the input FG table (if any used)
        to a new table and then append the new flags.
        Moved nowhere.

12370.  June 20, 2007               UVMTH                  Eric
        This old and unknown task has been upgraded to average the
        first input data set over all times after application (at the
        users' discretion) of all calibration/flagging options.  It
        then subtracts, adds, multiplies, or divides the average (on a
        correlator by correlator, baseline by baseline basis) to the
        second data set.  That data set remains untouched by any
        calibration and flagging.  This should allow the removal of
        additive correlator bias (if it can be measured) which has
        been seen on one VLA bandwidth (25 MHz) and also at the GMRT.
        Dynamic memory is used for the averaging buffers in UVMTH.
        A typo in FUDGE was also corrected.
        Moved nowhere.

12371.  June 20, 2007         VLBAUTIL, VLBAFIX             Amy
        Changed VLBAFIX so it sorts after it splits the data into
        different frequencies.  The former case (where it sorted first)
        caused problems when multipass data was loaded into the same
        file.
        Moved nowhere.

12372.  June 21, 2007           TVFLG, SPFLG             Eric
        When clipping other data with the pattern of 1 clip command,
        an absence of data in a particular channel or IF led to the FC
        file remaining open and a serious error on the next attempt to
        open it.  Rearranged the code to avoid this problem.
        TABINI did not respond to an error from ISTAB suitably and
        tried to create a table on LUN IN USE and open it a second
        time.  Changed TABINI to honor an I/O error in ISTAB and quit
        right there (it would have on READ but did not on WRIT).
        Moved nowhere.

12373.  June 22, 2007          POSSM, FRPLT               Eric
        There were typos in the display string handling due to the VLA
        station name change.  The string length was too short to
        handle non VLA names as well.  POSSM and FRPLT did their own
        interpreting of STOKES as well as FNDPOL which led to
        conflicts and failure.
        Moved the display fix to patch this date.

12374.  June 22, 2007             FILLM                  Eric
        Changed the output axis order to that used most of the time in
        AIPS.  The natural order to a telescope is complex, frequency,
        then either Stokes or IF.  FILLM output a variety of orders
        depending on the observing mode.  Changed it to reorder the
        data just before writing it out and to have headers in the
        aips tsandard order complex, Stokes, frequency, IF.  Found a
        bug in the Z-mode data handling.  The main consequence of the
        error was to mess up the weights of channel 1.  I don't think
        this mode has ever been used except for a test run to debug
        FILLM.
        Moved nowhere.

12375.  June 26, 2007             FILLM again             Eric
        Changed:
        1. DOALL adverb was removed.  It was confusing and overlooked
           and all adverbs have values which produce the same result.
        2. Found that the code which tried to correct for Q-band plus
           Pie Town requiring a new VLA "center" to bring fringe rates
           into a manageable range, failed.  The frequency is not
           known at the point is was used.  So changed code to look
           for antennas found or not and try the center shift if none
           found.  This also covers the fact that the center shift
           came after the first observations at Q with Pie Town.
        3. Found that there really was not much code checking for
           moved antennas.  Now the antenna coordinates are read from
           all possible concatenation files and checked before doing a
           concatenation.  Also the current antenna coordinates from
           the latst written AN file are kept to compare to the
           current coordinates.  Any change over 0.01 ns forces a new
           file.  I had to add a new BAIL variable to manage to get
           this information high eneough to get the desired actions
           taken.  I bet I use that variable some more later....
        4. Corrected the help file to show all recognized bands and
           their new definitions.
        Moved nowhere.

12376.  June 26, 2007       VLANT, VLBAUTIL                   Eric
        Discovered that an option advertised in man curl is not
        present in modern versions of curl (see curl --help).  This
        caused it to fail when wget had already failed.  Also
        removed --connect-time 120 from $RUNSYS VLAPROCS and VLBAUTIL.
        Moved nowhere.

12377.  June 27, 2007              FILLM                  Eric
        1. Put a new bit in CPARM(2) = 2048 to request that the data
        be written as correlation coefficients rather than being
        scaled by the nominal sensitivities.  This means no scaling in
        the new data form from the ModComp-less system (IDCAF) or a
        division in data from the ModComps.  Note that this division
        is the same as the old MCSOLR subroutine which is now replaced
        by the MCSCAL that takes DIVIDE as an argument.
        2. Put in a test for a change in program code when all codes
        are acceptable.  BAIL gets set and a message issued.  In
        general, FILLM will continue to write to existing files if
        possible despite this.
        Moved nowhere.

12378.  June 27, 2007        UVLOD, FITLD                 Eric
        The variables BSC and BZE were not initialized.  If the
        incoming UV data FITS file did not have a BSCALE keyword, then
        the output data were all zero.  Added defaults.
        Moved nowhere.

12379.  June 28, 2007           PRTUV                  Eric
        Discovered the the display of real and imaginary did not take
        into account the widths of the formats being used and so
        printed lines wider than the window.  The column labels did
        not align at all.  So, fixed the typing which had wandered
        from easy legibility, the testing of widths and setting of
        format types, the actual formats (im did not change when re
        did), and redid the column labeling for both Amp/phas and
        Re/Im.  Discovered that the printing of random parameters has
        been broken for some time.  It ignored the first 5 random
        parameters and then would only display something at all if
        there were 1, 2, or 3 floating-point random parameters after
        that.  Changed it to display all random parameters but time
        and baseline, which are also properly formatted in the display
        anyway.  Adjusted the formatting so that it can respond to the
        width of the screen.
        Moved nowhere.

12380.  June 30, 2007             AIPSLetter                 Eric
        Put back LET07A.TEX and .PS.
        MOved nowhere.

12381.  July 1, 2007                 DBCON                   Eric
        The Stokes conversion which can be done to make an RR/LL file
        agree with a I,Q,U,V file had a serious error in handling
        compressed data, writing out bad things.  It also did a
        weighted average of RR and LL, which is not done elsewhere in
        AIPS.  Corrected the addressing of compressed data, chhanged
        the I computation, and changed the I and V weights to be the
        ones one should use in the unweighted case.
        Moved nowhere.

12382.  July 3, 2007       Adding cal adverbs            Eric
        Corrected a format in HI routines and removed redundant task
        message already done by HISCOP in UVMTH, UVLF, UVLSD, FUDGE.
        Added adverb DOACOR to all these tasks.
        UVMTH had an error in which it assumed LREC and NRPARM were
        the same in both data sets.  This caused it to walk through
        the second data set at incorrect intervals and so to fail to
        recognize baselines.
        Moved nowhere.

12383.  July 3, 2007              UVAVG                  Eric
        Added calibration and flagging and removed the SUBT option
        (it worked for normal inputs, but had several gotchas for
        other relatively normal possible input data sets).
        Made the averaging buffer dynamic as well.
        Moved nowhere.

12384.  July 5, 2007             NX tables               Eric
        A lot of these UV copying tasks lose the NX table.  Created
        DRNX.INC   Include with tables for re-indexing a file
        RNXINI     Initialize re-indexing including making NX table
        RNXUPD     Update tables, writing NX as needed
        RNXCLS     Update NX with any remnants in tables, close NX.
        The above retain the error code if they start not to work
        as well as an internal flag to tell them not to do anything
        more.   RNXUPD has a useful bit of code to determine the
        proper gap which would indicate a scan break.
        COPTAB     Drop copying of NX table entirely. Trick from UVCOP
                   added - expand time range by 15 minutes each way to
                   make sure all relevant records are copied in
                   tables.
        FUDGE      Add calls to RNX routines
        UVMTH      Add calls to RNX routines with another UVPGET
                   needed to point to input data at RNX time.  Do not
                   copy NX table.
        UVAVG      Calls to RNX routines, RNXRET in common so that the
                   error if any may be reported further at the end.
        UVLSF      Add calls to RNX routines.
        UVLSD      Add calls to RNX routines.
        FLGIT      Add calls to RNX routines.
        UVCOP      Needs its own COPTAB since it renumbers subarrays
                   and carries the time range in different variables.
                   Add calls to RNX routines and drop any copying of
                   NX table.
        Moved nowhere.

12385.  July 5, 2007               FILLM                   Eric
        Commented out two sections of code that did nothing useful,
        but appeared to care whether the time was the time at the
        center or the end of the integration.
        Changed the time MCIATI to be the mid-point time by
        subtracting 1/2 of the integration time.  Added message about
        that to FILLM and FILLM.HLP and UVFIX.HLP.
        Corrected error welcoming user to on-line FILLM when reading
        an old local disk file.
        Moved nowhere.

12386.  July 6, 2007            POPS numbers              Eric
        Changed:
        PRTMSG   Automatically deleted all messages for POPS numbers
                 greater than 15.  Changed the 15 to 35, the not so
                 new limit.
        AU1A     Added PRNUMBER, NUMTELL, and BATQUE to the list of
                 adverbs that have host-dependent limits.  Also GPOS
                 and FPOS.
        AU2      As AU1A.
        AIPSC    As AU1A, drop CCBOX which was erroneous.  changed it
                 to ignore the fact that it is running AP-using tasks.
                 I kept the code since it is so delicious, but 2001 AP
                 tasks must now be run to invoke it.
        Edited help files: ZZBATCH, BATCHJOB, BATCH, BATQUE, JOBNUM,
        BATLIST, BATEDIT, SUBMIT, JOBLIST, and UNQUE to bring them up
        to date.
        Moved nowhere.

12387.  July 5-6, 2007              FILAIP                  Eric
        It made the TD data file for only 15 POPS numbers - should be
        35 now.  A test on max POPS number also was fixed.  FILAI2
        needed these changes and a MIN test also.
        Moved nowhere.

12388.  July 6, 2007               CCRES                    Eric
        The defaulting for the 2nd name parameters was not present -
        added 32 lines of code (OOP is wordy) to make sure that all
        blanks and 0s are replaced with the equivalent 1st name
        parameter.
        Moved nowhere.

12389.  July 8, 2007              install.pl                Eric
        The print area used by batch jobs was not created by
        install.pl.  Added it and commented out all of the stuff
        having to do with the pseudo-AP size.  Dynamic memory means
        never having to say you're sorry.  Tar ball size is a lot
        bigger than 45 Mbytes - like 89.6 at the moment.
        Moved nowhere.

12390.  July 9, 2007             WIPER                  Eric
        Fixed IAXIS1 to guard against changing the time in hours axis
        to wrong units (milli, ...) in LABINI.
        Moved nowhere.

12391.  July 9, 2007              FILLM                 Eric
        The help file was upgraded to tell the truth about CPARM(2)=1.
        That ONLY masks the Tsys fluctuating error condition, not any
        of the others.  To ignore others, e.g. source change,
        subflrctor position, off source, modules not locked, filters
        misset, total power out of range, LO not locked, flagged by
        operator, one must set CPARM(3) somewhat blindly.
        Moved nowhere.

12392.  July 10, 2007          UVFLG                   Leonia/Eric
        UVFLG has never worked with elevation flaging. The relevant
        sections were written very unclear and too much complicated.
        So the problem is fixed removing several subroutine and
        writing the new one.
        Moved nowhere.

12393.  July 11, 2007          CXCLN                     Eric
        Fixed:
        QCVMMA   It did not adjust an AP address by PSAPOF and so
                 saved a longint in an int and left an address that
                 would shortly be biased a second time and so be
                 illegal.
        Moved nowhere.

12394.  July 11, 2007             FUDGE                  Eric
        Added STOKES adverb - this is now a pretty powerful UVCOP
        task.
        Moved nowhere.

12395.  July 10, 2007        Break CLIPM                 Eric
        Added STOKES adverb.  Messed with cross-bar logic a lot.
        Dropped display when nothing in a correlator is flagged.
        Moved nowhere.

12396.  July 12, 2007            CLIPM              Eric
        Changed CLIPM to handle single-source files too.  Added
        PHSLIMIT to clip on phases.  Changed History to use CALHIS.
        Moved nowhere

12397.  July 12, 2007          NXTFLG               Eric
        Did not return an error code when could not handle number of
        flags => infinite number messages.  Changed to cause death of
        task when too many flags.  Also fixed UVCOP and AVSPC.
        Moved nowhere.

12398.  July 13, 2007         DIFRL, FUDGE               Eric
        Changed DIFRL to use calibration and flagging and data
        selection adverbs.  While doing so, spotted a problem with the
        history copy call in FUDGE and also changed the first scratch
        buffer to be a small (256) one.
        Moved nowhere.

12399.  July 16, 2007         UVFLG                       Leonia
        UVFLG has not worked if subarray=0 at the case of elevation
        flag. Put subarray=1 indepedent on the subarray input, if
        elevation flags. This is a temporal treatment while UVFLG
        serves only one subarray for elevation flag.
        Moved nowhere.

12400.  July 30, 2007         Output FG version            Eric
        The changes to TVFLG to make it more like all the other
        flagging tasks have caused a variety of complaints.  To add to
        the din, therefore, I have created a new adverb OUTFGVER,
        changing POPSDAT.HLP and NEWPARMS.001 to create it.  The
        adverb will specify the output FG version number.  If it is <=
        0 or > FGmax, then a new file version FGmax+1 will be created
        and the FLAGVER (if any) used on input will be copied to it
        along with any new flags.  If it is a pre-existing table, then
        FLAGVER is not copied even if FLAGVER does not equal
        OUTFGVER.  Changed rather simply help and fortran of:
            CLIPM   DEFLG   FLAGR   SPFLG   TVFLG
        For OOP EDIT class a new parameter COP_FGVER is needed to say
        when to copy an input version to an output version, changing
        EDFCAP in QEDIUTIL and changing EDITR and EDITA who now also
        need to know the current maximum FG number.
        Moved nowhere, more to come.

12401.  July 31, 2007           More flagging              Eric
        Changed UVMLN, WETHR, and WIPER to support OUTFGVER in the
        same manner as CLIPM et al put back yesterday.
        Moved nowhere.

12402.  July 31, 2007             IBLED                    Eric
        Changed:
        1)  Added OUTFGVER and dropped the application of the flags to
        single-source data files.  It will now always write a FG
        table.
        2)  Added option PREV BASELINE to code and to HLPIBLED.HLP.
        3)  Corrected the interactive editing function which never
        could have worked.  There was great confusion in units between
        "image" and TV pixels.
        Moved nowhere.

12403.  July 31, 2007           SCIMG, SCMAP              Eric
        Changed QEDIUTIL to mark the copy FG version as done so as to
        avoid copying a second time and repaired an error that put the
        new out version as a "copy" version rather than an "in"
        version.  Also change the in version to the out version.
        Changed TVUTIL to be forgiving about the XWINLOAD parameter -
        the graphics plane to show an inscribed circle.
        Changed QCLEAN to make sure FINISH is true after the
        components have been restored.
        Changed SCMAP and SCIMG to support OUTFGVER and to have a
        rearranged self-cal menu so I don't kill it so easily.  SCIMG
        needed added DIM setting to avoid a death on the EDIT option.
        Moved nowhere.

12404.  August 1, 2007             AIPS                  Eric
        Fixed test in AU2 on size of TG file which now has 4 records
        per task and it was testing as if 3.  Fixed number of adverbs
        for POSSM in AU2A (verb PLGET).
        Moved nowhere.

12405.  August 1, 2007              CLIP                  Eric
        Moved CLIPM to CLIP, replacing the old limited task that
        everyone uses with the one I wish they would use.  Changed
        CLIPM help file to point users at CLIP.
        Moved nowhere.

12406.  August 2, 2007              CPASS                 Eric
        Fixed:
        1. Format confusion - two different messages in BPSIN used the
           same format number.  The uncommon one would have aborted.
        2. BP file access for an initial BP guess did not close the BP
           file on error and so left things to die much later.
        Moved nowhere.

12407.  August 3, 2007             FLGIT                  Eric
        Added adverb OUTFGVER and code to write an FG table instead of
        writing out the edited and calibrated vis data.  If
        OUTFGVER<0, the edited/calibrated vis data are still written.
        Moved nowhere.

12408.  August 3, 2007             VLBAPIPE.001            Lorant
        Changed CLIPM in VLBAPIPE to CLIP (see #12405 on Aug 1st).
        Moved nowhere

12409.  August 7, 2007             PRTAB                Eric
        Added option DOFLAG to request display of flagged as well as
        good rows.  It is useful in debugging if nothing else.
        Moved nowhere.

12410.  August 7, 2007            UVFLG                 Eric
        Changed FLAGVER to OUTFGVER and made task always use an FG
        table.  There will be no more flagging of the data directly in
        place so droped EDROP and BDROP and APARM(1-3), moving
        APARM(4-7).  Changed the elevation code to loop over SUBARRAY,
        to test FQ correctly, and to support the ANTENNAS adverb.
        Changed the handling of the history file to report some
        essential parameters like OUTFGVER, OPCODE, elevation range if
        used, PC table FACTOR if used, and number flag table lines.
        Kept the elevation and PC codes from generating some false
        flag info for the HI file.  Worked over the help file
        extensively, esp for the removal of the in-place flagging.
        FUDGE will allow in-place application of flagging.
        Moved nowhere.

12411.  August 8, 2007           MAX, MIN                Eric
        Changed KWICK to fix up STACK(SP) so that the equals operator
        is not confused after doing a MAX or MIN on an array.  This
        has helped understand the parser limits on MAX(array) -- a
        usage with only one argument.  That works with PRINT
        sometimes, but any other adverb in the line confuses things so
        that i = max(blc) actually takes the max oi and blc and leaves
        a result on the stack.
        Moved nowhere.

12412.  August 8, 2007          STALIN                Eric
        Changed help file - the verb is not friendly with defaults,
        unlike what was assumed in the help.  The user needs to give
        reasonable HISTART and HIEND values.
        Moved nowhere.

12413.  August 13, 2007        REBYTE                 Eric
        New service program - translates a full data area from one
        byte order to the other.  It works from Solaris and MacPPC
        to/from Intel Linux and MacINT taking the format of every file
        into account.  Fortunately most files are tables which are
        self defining.  Copy the binary data to the new computer and
        then RUN REBYTE which will copy to a new data area for
        safety.  A new Z routine ZBFLC2 was written to flip bytes and
        words but only if the 4 or 8 byte word is not all character.
        Also wrote a help file.
        Moved nowhere.

12414.  August 16, 2007            IBLED                  Eric
        Changed task and run-time help (HLPIBLED.HLP) to simply swicth
        IFs if there are ony 2 or switch polarizations if there are
        only 2 when the select options are chosen.
        Moved nowhere.

12415.  August 16, 2007            LWPLA                   Eric
        Found minor error which would arise when skipping 3-color grey
        scale records because there was no record to init such data.
        It used the wrong number of pixels (factor 3).
        Moved nowhere.

12416.  August 16, 2007          REBYTE                    Eric
        We should be very nervous about floating point numbers
        matching 4 prinatble characters.  So, changed swap of UV data
        and most image data to not check for character value.  Changed
        magic-blanked image data to check only for magic blank with
        new C routine ZBFLM2.C.  Changed flips of SL and PL to walk
        through the files using the known format.  XChanged flip of
        table header to use known format rather than ZBFLC2.  Changed
        flip of table data to separate reals and ints from characters
        thereby avoiding another use of ZBFLC2.
        We are left with PL file headers (used by PLGET and EXTLIST),
        TPUT/TGET, and SAVE/GET files for which ZBFLC2 is used.
        Updated REBYTE.HLP with this warning.
        Moved nowhere.

12417.  August 17, 2007          VLARUN                    Lorant
        Changed VLARUN to also accept an underscore in the VLA antenna
        pad locations when determining the array configuration after
        an earlier fix by Eric on June 16.
        Moved nowhere.

12418.  August 17, 2007          EDITA, EDITR              Eric
        Changed QEDIUTIL to make NEXT ANTENNA and NEXT BASELINE not
        just recycle existing antenna numbers but drop the present one
        and find a new higher one.  This will allow one to step
        through all the data pretty well.  Change also the
        HLPEDI??.HLP files where ?? = CL, SN, TY, TS, UV to reflect
        this change.
        Moved nowhere.

12419.  August 20, 2007          OOSUB, UVSUB            Eric
        The CHANNEL adverb in these two tasks did not work as
        advertised and caused OOSUB, which tried some places to
        implement it, to crash.  Changed the advertising for the
        adverb - it means subtract/divide this channel but copy all
        channels.  Cleaned up the handling of the parameters in UVSUB
        (one gotcha if the IF axis precedes the FREQ axis) and put
        similar handling in OOSUB.  Fixed OOSUB to handle compressed
        data (DOUVCOMP required in UVIN) and to copy tables at the
        exnd (except AN and FQ which are already copied).
        Moved nowhere.

12420.  August 21, 2007          EDIT class              Eric
        Changed QEDIUTIL to handle ENTER IF under crowded allowed by
        rotating through IF 0, BIF, EIF when there are 2 IFs
        (EIF=BIF+1).  Affects EDITA, EDITR, SNEDT, SCMAP, SCIMG.
        Moved nowhere.

12421.  August 21, 2007             GETJY                Eric
        Fixed it to record the source name, fitted flux and error in
        the history file.
        Moved nowhere.

12422.  August 21, 2007            IBLED                  Eric
        Added option FLAG ALL TIME to Fortran, help, and HLPIBLED
        run-time documentation.
        Moved nowhere.

12423.  August 22, 2007              TVCPS                 Eric
        The read-from-disk option did not multiple the LUTDAT by the
        bit that said whether a color was on or not.  This led to a
        balck and white picture.  Changed the code to zero LUTDAT for
        colors/planes that are not on.
        Moved nowhere.

12424.  August 22, 2007             OOSRT                 Eric
        Did not copy the input file's tables.
        Moved nowhere.

12425.  August 22, 2007             Misc                  Eric
        MX      Added comments to the help file pointing out the lack
                of FG and SN table application and other advantages of
                IMAGR.
        UVDEC   Made local version of FGSEL that includes an increment
                in frequency to adjust channel numbers of flags.
        Moved nowhere.

12426.  August 23, 2007             GREYS                 Eric
        With some LTYPE values, the task refused to plot the Clean
        Beam.  Used another location common group for plotting the
        beam that would not be changed for plotting the main axes.
        Moved nowhere.

12427.  August 28, 2007             UVHOL                 Eric
        Corrected it to handle polarization states other than FULL.
        It assumed that all 4 Stokes are always present and Rick has
        RR only data.
        Moved nowhere.

12428.  August 28, 2007              MATCH               Eric
        The header information for AN, SU, and FQ tables came from the
        master file rather than the input.  This messes up the date in
        AN files and other significant parameters.  Played a simple
        game to fix this.
        Moved nowhere.

12429.  August 29, 2007             HAFIX                Leonia
        This task is a modification of UVFIX designed to diagnose
        a possible time shift error at the original UV data.
       	The input UVdata are the output of the task TI2HA,
       	which converted original IAT time into hour angle.
        HAFIX reads a row of the input data, stores the original
       	U,V,W, converts the given hour angle back to IAT time,
       	recalculates U,V,W for this time and for the shifted time
       	and finally adds the difference of the two sets of U,V,W
       	to the original U,V,W.
        Moved nowhere.

12430.  August 29, 2007           LISTR                 Eric
        The gain routines changed the frequency from Hz to GHz so with
        a loop on the outside over IF the 2nd IF had a very poor
        knowledge of frequency indeed.  Fixed it to use an unchanging
        idea of the frequency in Hz at the start of each time through
        each routine.  Also fixed the error return from the print
        routines which enabled them to respond to a quit command from
        the user but kept them from looping over IF.
        Moved nowhere.

12431.  August 29, 2007    CL2HF, UBAVG, SCIMG, SCMAP      Eric
        For some reason many of the averaging subroutines in UVUTIL
        did not do weighted averages.  Changed SCNAVG, SCNHAY (used by
        CL2HF), UVBAVG (used by UBAVG), UVTAVG, and UVAMPS (used by
        SCMAP and SCIMG) to do weighted averaging.  The last required
        a change in an input histogram array from (4,*) to (5,*)
        since counts as well as weight sums are needed.  So changed
        SCIMG and SCMAP themselves to set and use the new
        dimensionality.  Note that all of the averaging routines
        output the weight as the sum of weights even though that is
        not correct for unweighted averages.  It is now correct.
        Moved nowhere.

12432.  September 3, 2007  HAFIX                           Leonia
        Two errors are found at the recent installation of HAFIX:
        1. TWOPI was forgotten at convertion of days into radians.
        2. UT1-UTC and IAT-UTC were erroniously egnored at UVW
           calculations.
        Moved nowhere.

12433.  September 4, 2007             CORER                Eric
        Rewrote task to use the full set of calibration adverbs and to
        offer the choice of printing or not and the choice of writing
        a flag table or writing out the flagged data.  In the last
        case, the cal adverbs are not applied to the data.  Moved task
        from $APLPGM to $APGNOT.
        Moved nowhere.

12434.  September 4, 2007              SPFLG                Eric
        There was an oversite that allowed the input FG table to be
        copied to the output even if the output was not a new file.
        Copying onto oneself is an error causing the task to die.
        Fixed to only copy to new files (as the help says).
        Moved nowhere.

12435.  September 4, 2007             IMAGR                 Eric
        Added BOXFILE and OBOXFILE to the HI file.
        Moved nowhere.

12436.  September 4, 2007           BLAVG                   Amy
        In weighted average the visabilities were being multiplied by
        the weight twice, so when the weights were calibrated and became
        very small the average vis became nearly zero.  Fixed.
        Moved to patch Sept 5.

12437.  September 4-5        gfortran found              Eric
        TAB characters:
           PUVD.INC   PCQV.INC  POBV.INC
           FITLD    MX
           CTREFM   WXSEL
           PLAXES   PLCLOS   PLDRW    PLINIT   PLLINE   PLPGO
           PLPNT    PLRANG
           BPCOEF   BPFSEL   BPINI    CHEBYD   CHEBY    CLSEL
           COPTAB   CQINI    CQMAKE   CQSEL    CVLDOP   DATCAL
           DATGET   DATPOL   DGNRAO   DSMEAR   DTBAND   DTCALS
           DTINDX   DTMATC   DTPARM   FGSEL    FXSEG    GCINI
           GCSEL    GETANT   GNINI    IKEY     KEYIN    MCSEL
           NXTFLG   OBINI    OBREFM   PCSEL    SELINI   SN2CL
           SUSEL    TABCQ    TFILTR   TYSEL    VLBPOL
           QGRDFI   QGRIDA
        Other:
        INTERP  Tabs, variable in call seq unused.  No routine calls
                this so dropped unused and fixed up code.
        ITBSRT  Tabs, variable in call seq unused.  Also unused
                labels.  Changed call seq and fixed up code.
        TABSRT  Changed for call seq to ITBSRT.
        SNSEL   JSUB argument was not honored - added use.
        TABGN   Changed call seq for unused variable.  Tabs.
        TABGP   Changed call seq for unused GPNUMV.  Tabs.
        TABLEUTIL   For changed call seq of TABGP.
        TABOB   Changed to use the NUMV variable (several not 1),
                Tabs.
        QCLEAN  One tab, several unused labels and formats, one unused
                call seq arg
        Tasks:
        FITAB   Variables in call seq not used.  Unused labels galore.
        TPMON   Unused variable in call, unused labels.
        MX      Unused variable in call, labels.
        FITTP   Unused variables in call, unused formats
        FITLD   Many unused variables in calls, many unused labels and
                formats.  Call seq to TABGN
        Moved nowhere.

12438.  September 6, 2007         UVDI1               Eric
        Corrected:
        1. Main routine did not stop on error but did something the
           second time around.
        2. Removed many blank lines and altered non-standard typing
        3. Saved CNOs in common arguments so as to avoid using FCNO.
           The correct ones were referenced only by resetting NCFILE
           which would have made error recovery fail.
        4. INDISK was referenced for the second file, making the
           averaging of the second file fail if IN2DISK not INDISK.
           Since this error was not tested, the task then copied the
           first input file to the output file subtracting 0.0.
        5. Added 2nd input file to history.
        Moved nowhere.

12439.  September 6, 2007         Unused call args         Eric
        Changed:
        1. STLTOU ( scrtch ) and PREAD calls it
        2. TKGGPL ( inpts ) and AU9B calls it
        3. TVSLAC ( iblk ) and AU6E calls it
        4. FITBM  ( ierr ) and BMSHP, QCLEAN, QUVUTIL, MX, APCLN,
           SDCLN which call it
        5. Remove ACINI2, ACINIT, fix commented out call in ZDCHIN and
           erroneous reference in GAINI
        6. SNSMOO ( soukol, frqkol ) and UVUTIL (SLFSMO) calls it
        7. LPCLOS ( scrtch ) and PRINTER, OFMLST, PRTMSG, AU1A, AU7
           PRTIM, PRTTP, HFPRT, DTSUM, COHER, TBDIF, OTFIN, SAD,
           PRTAB, PRTAN, MFPRT, UVFND, UVPRT, IMFIT, PRTSD, SHOUV,
           TXPL,  RLDIF, UVHOL, CORER, JMFIT, LISTR, PRTUV, PRTCC,
           PRTAC, UVDIF, BLSUM, ANBPL, ISPEC that call it
        8. TXTMAT ( scrtch ) and thence VERMAT ( names ) and PRTAC,
           AU2A, AUA, AU1A, HELPS, AU2, AIPSC that call them.
        Moved nowhere.

12440.  September 12, 2007         servers               Eric
        In UNIXSERVERS and XASERVERS, the bash setting of library path
        for the tek and message servers should have included the word
        export.  For Macs in XASERVERS for the message server the
        library path variable had a spelling (case) error as well.
        Moved nowhere.

12441.  September 12, 2007          EDITR                Eric
        NEXT ANTENNA had 2 lines left in that should have been
        deleted.  This caused the current antenna number to be wrong
        and would cause flagged antennas to be wrong and the next NEXT
        ANTENNA to be quite strange.  Fixed QEDIUTIL.
        Moved nowhere.

12442.  September 17, 2007    Tabs and messes            Eric
        Changed for tabs and unused labels only:
        RESEQ   ANCAL   ANTAB   BLAVG   BPCOR   DBCON   DFCOR
        FXVLA   HAFIX   LISTR   OBEDT   PCLOD   SETJY   SHOUV
        SPLIT   UVFIT   UVFIX   UVGLU   VLOG    DTSUM   BLCAL
        CONVL   FRING   VTESS   IRING   LOCIT   PBEAM   SNPLT
        SPFLG
        Changed for tabs, unused labels, unused call seq arguments:
        DTCHK   DTSIM   FITLD   SNSMO   SPCAL   SPLAT   UJOIN
        USUBA   UVDEC   UVDI1   VBGLU   BPASS   KRING   APCAL
        ELINT
        Changed more seriously:
        STUFFR  Added statement about no FG, SN etc applied to help.
        UVGET   Added message about which FG version every 20 init
                calls.
        AVSPC   Fixed unused labels, unused call arg, added message
                about flagging version or not
        CLCOR   All of the above, plus the code from calc is a
                horribly nonstandard mess.  Cleaned up large number of
                unused variables and a little of the typing and other
                messes.
        M3TAR   Tabs, truncated strings, unused formats, converted a
                big data statement of pointers (many unused at times)
                to a parameter include.
        UVCOP   Tabs, unused labels/formats, unused argument, added
                message to say which FG table or none.
        VTEST   Tabs, unused labels, DO loops with floating-point loop
                counters no longer acceptable (replaced with
                hand-rolled loops)
        CPASS   tabs, unused labels, call seq arguments unused (in
                math routines), replace obsolete ASSIGN n TO NEXT;
                GO TO NEXT, (n1, n2, n3, n4) usage in one match
                routine - This is terrible spaghetti code, no wonder
                it does not work.
        UVSIM   Replace one floating point DO loop and some unused
                labels.
        CVEL    Tabs, unused labels, added message about FG version.
        SDVEL   Tabs, unused labels, unused args in call seq, added
                message about FG version.
        FRPLT   Tabs, unused labels, character strings of wrong length
                as temporaries for standard strings
        Moved nowhere.

12443.  September 18, 2007           IMAGR                 Eric
        Improved the format in WINDF to allow for field numbers >
        999.  Also changed GR3DUV, GRDMEM, GRIDUV, IMGMEM, MAKMAP,
        UVGRID, UVGRTB, UVTBGD, FITBM, SCIMG, and UTESS to make the
        Field number be more readable.
        Moved nowhere.

12444,  September 18, 2007             USUBA                Eric
        Yesterday's update had an error test backwards causing it to
        die at start up.
        Moved nowhere.

12445.  September 21, 2007          FILLM                 Eric
        Changed response to nominal sensitivites of 0.0.  Previously,
        0.333 was used for weights but 1.0 was used for data scaling.
        That should have been sqrt (0.333) to be consistent and so
        leads to weights wrong by factors of 2 for baselines having
        one such antenna and 4 for baselines with both antennas
        affected.  Also corrected weights output when writing
        correlation coefficient data - the nominal sensitivity should
        not be included in such weights although the bandwidth and so
        forth should be used.  The ModComps would not have allowed
        nominal sensitivities of 0.0, so this is a recent problem.
        moved nowhere.

12446.  September 21, 2007          TAFLG                  Eric
        The task wants to record the reason for the flag but that area
        is limited to 8 such records.  Added test to avoid going over
        this limit - tell the user but say unimportant.
        Moved nowhere.

12447.  September 24, 2007           OGEOM                 Eric
        The functions in INTERPLATE called internal function IMINST
        with a plane number on the output image which was taken to be
        the same as a plane number in the input image.  This is not
        necessarily so.  Fixed it to add the desired plane to the BLC
        plane of the input image.
        Moved nowhere.

12448.  September 24, 2007           TAPPE                 Eric
        NEW TASK: append two tables elliminating duplicate rows as
        well as possible.  Contains local version of TABSRT which
        supports subscripts into column arrays.  This should go to all
        TABSRT usages with a change in table header format plus added
        options in TASRT, TAMRG???
        Moved nowhere..

12449.  September 25, 2007      TI2HA, STUFFR           Eric
        Changed TI2HA to allow the full range of calibration adverbs
        including allowing multi-source files as input.  Only one
        source may be selected however.  Changed STUFFR.HLP to allow
        DOCALIB and FLAGVER, both of which act as on/off switches.
        The highest numbered SN and FG tables will be applied when
        selected.  Changed STUFFER.001 in anticipation of UVSRT or
        UBAVG acquiring these adverbs someday, deselecting both at
        those stages.
        Moved nowhere.

12450.  September 26, 2007       gfortran              Eric
        Added gfortran to FDEFAULT.SH and LDOPTS.SH for LINUX.
        Moved nowhere.

12451.  September 27, 2007       MAXCIF               Eric
        This parameter is the max allowed product of number
        polarizations * number spectral channels * number IFs.
        The max row in a table is based on it using XBPRSZ.  Checked
        all uses of MAXCHA and MAXCIF and changed:
        $APLNOT/UVGET   : not incl pol in test
        $APLNOT/SDGET   : npol ignored
        $APLNOT/BPINI   : buffer size comment wrong
        $AIPSUB/TBDATA  : XBPRSZ not MAXCIF
        $APGOOP/INDXR   : comment wrong, code ok
        $APGOOP/FLAGR   : all VIS overkill by 4
        $APGNOT/DFQID   : XBPRSZ not 3*MAXCIF
        $APGNOT/FXTIM   : XBPRSZ not 3*MAXCIF
        $APGNOT/FITTP   : XBPRSZ not MXLREC
        $APGNOT/FITAB   : XBPRSZ not MXLREC
        $APGNOT/DQUAL   : XBPRSZ not 3*MAXCIF
        $APGNOT/FLGIT   : WASBAD overkill by x4
        $APGNOT/DBCON   : XBPRSZ not 3*MAXCIF
        $APGNOT/TBIN    : XBPRSZ not MAXCIF
        $APGNOT/TBOUT   : XBPRSZ not MAXCIF
        $APGNOT/CALWR   : XBPRSZ not MXLREC
        $APGNOT/LISTR   : overkill x4
        $APGNOT/UV2TB   : buffer = MAXCIF +3 not *3
        $YPGM/TAPLT     : XBPRSZ not MAXCIF
        $YPGNOT/FRPLT   : comments wrong
        $YPGNOT/TVFLG   : unused usage
        $YPGNOT/IBLED   : unused ref
        $APLPGM/PRTAB   : XBPRSZ not MAXCHA
        $QPGNOT/SDIMG   : MAXCHA should be MAXCIF
        $APGNOT/RLDIF   : overkill x4, misuse
        $YPGNOT/WIPER   : overkill x4, misuse
        $YPGNOT/UVPLT   : excess x4, misuse
        Moved nowhere.

12452.  October 1, 2007          JMFIT                Eric
        In trying various solutions around the baseline fits, it did
        not return G (the answer) to its actual value.  If the final
        image was printed, then G did get returned, otherwise not.
        Added an extra call to FXDVD to make things right all the
        time.
        Moved nowhere.

12453.  October 1, 2007           FUDGE                Eric
        Fixed some wording anomolies in the help file and added KEYCOP
        to the Fortran.  Modified the typing some too.
        Moved nowhere.

12454.  October 1, 2007            tables              Eric
        Every TABxx subroutine should test every column pointer and
        number to make sure they are okay.  This is really excessive
        but it is good practise.  Changed the TABWX routine to do this
        since VLB tables lack one expected column (subarray) and have
        no values in 2 others - or at least used to.
        Moved nowhere.

12455.  October 1, 2007            AVSPC                Eric
        Added full calibration and normal flagging.  Local version of
        CALCOP leaves out all FG and BP tables.
        Moved nowhere.

12456.  October 3, 2007          CHKNAME                 Eric
        Changed AU8 and CHKNAME help file.  Previously it would only
        look for 1000 name matches.  Now it will look for 1000000.
        Moved nowhere.

12457.  October 3, 2007           FILLM                  Eric
        Corrected the bandwidth put in the SU table.  It was taking
        the total bandwidth and dividing by the actual number of
        channels out.  It needs much more complicated computation to
        get the channel width - copied the increment computation from
        the header creation location.  Fixed the history file; it used
        I2 for NFILES which might not be enough.
        Moved nowhere.

12458.  October 3, 2007            CPASS                  Eric
        Found one FORMAT lacking enough format codes for the number of
        items.  Fixed many FORMATS with no format codes to be simple
        MSGTXT = 'string' statements.
        Moved nowhere.

12459.  October 4, 2007          CPASS               Eric
        My eyes are getting bad (?) - an I1 was typed as 11 in a
        WRITE statement.  This caused an abort under Intel anyway.
        Fixed long lines in inputs section of CPASS.HLP also.
        Moved nowhere.

12460.  October 5, 2007          slices              Eric
        I found that slice plots default to the pixrange of the slice
        itself but then use the image max/min for scaling.  This
        caused no end of trouble when the max and min are large but
        the range of the slice is seriously less.  Changed all scaling
        of slice plots to use the slice max/min exclusively and to
        change the "pixel" range by a factor 10.  Changed the image
        catalog header to use the pixel range in physical units in the
        IRRAN, IRRAN+1 locations as a way of making the information
        available within the current program and any other that access
        the plot later.  This set of changes was made in subroutines
        AU6E, AU9A, SLOCIN, TKGGPL, TKGMPL, TKRSPL, TKSLPL, TVSLIN,
        TVSLPL, and TKSLIN.  Tasks SLFIT, SL2PL, XBASL, XGAUS, XPLOT,
        and ISPEC also were changed.  The Xxxxx tasks were found to
        make the plot over the full size of the TV except that the
        left out the boundary box and some of the data when they were
        not visible.  Fixed it to use the current size of the TV which
        can be changed between plots.
        Moved nowhere.

12461.  October 9, 2007         UVCON.HLP           Leonia
        Vincent Fish pointed out that default for CMODEL is not
        described correctely. Fixed.
        Moved nowhere.

12462.  October 9, 2007            UVHOL              Eric
        Added the options to average data to all the reference
        antennas and/or to average in time within a pointing.
        Moved nowhere.

12463.  October 10, 2007           UVAVG                   Eric
        Changed code top force DOACOR true when MERG and AUTO modes
        are specified.  Changed help to emphasize the new DOACOR
        adverb.
        Moved nowhere.

12464.  October 10, 2007           UVHOL                   Eric
        Changed default on BDROP to none (0 means 0, same as 1).
        Moved nowhere.

12465.  October 11, 2007            FILLM                  Eric
        The antenna has moved test was too tight for Pie Town - made
        it twice as tolerant for Pie Town only.
        Moved nowhere.

12466.  October 11, 2007            UVHOL                  Eric
        The [hase inversion  was not applied correctly in the new code
        arrangement which allows for averaging.  Fixed it I hope.
        MOved nowhere.

12467.  October 15, 2007         SPLIT, SPLAT                 Eric
        The computation of the IF frequency of averaged channels was
        incorrect because it used FINC(BIF) and FINC(BIF) was already
        scaled by the degree of averaging.  This affects all
        arrangements of IFs, not just the mix of USB and LSB for which
        the error was initially entered into the code.  SPLIT was
        dufferent in that it scaled the FINC(IF) first and then used
        it with the scaled FINC(BIF).  For IFs with the same FINC, no
        error was produced (unlike SPLAT), but a worse error was made
        when the FINCs had different values.
        Moved to patch this date.

12468.  October 15, 2007         FITAB                       Eric
        FITAB "cheated" by making AIPS HISTORY info in the main header
        that made it easy for AIPS' UVLOD to reread the data.  Too
        easy if the data have been out to obit and back.  Dropped all
        this history from FITAB and made all loaders smarter.
        DBHD.INC     Added CROTA, EPOCH, OBSRA, OBSDEC, BUNIT, OBJECT
        SETDEF       Zero CROTA
        GETINT       New routine to do GETNUM only for integers
        GETNUM       Checked for s.p. INDE before d.p.INDEFINT and so
                     would always fail to find the d.p.
        GETSSY       New version of GETSYM that allows a single
                     integer follwed by a letter as a keyword name.
        GTWCRD       Changed call seq to allow for coordinate version
                     codes and to handle 'nKEYWnn' type keywords
        EXTREQ       Changed for GTWCRD call sequence change
        TABHDR       Parse for correct table coordinate keywords
                     (iKEYWnnV) plus BUNIT, EPOCH, EQUINOX, OBSRA,
                     OBSDEC, OBJECT.  Use new GTWCRD call seq.
        RUVTAB       Changed call sequence to include the piece and
                     vis number values to allow a call to RUVFIL.
                     Use scaling and offsets in case these data not
                     from FITAB.
        RUVFIL       New routine - fixes UV header from table keywords
                     and replaces dummy file or expands initial UV
                     file.  Also fixes units for scaling columns.
        UVLOD        Changed call sequence to RUVTAB.  Added array
                     USED to avoid resetting parameters from the
                     parser if they are already set and the new
                     keyword is an HISTORY AIPS keyword.  When UVTABL,
                     do not build a new header or expand UV file in
                     UVFHDR on 2nd piece - info not known properly
                     there.
        FITAB        Dropped all of the main header HISTORY AIPS
                     stuff that had standard FITS keywords etc.
        IMLOD        Add USED to avoid resetting parameters from the
                     parser if they are already set and the new
                     keyword is an HISTORY AIPS keyword.
        FITLD        Add all IMLOD and UVLOD changes.  Also fix GTWCRD
                     call sequence.  Added ERROR adverb as in IMLOD
                     and UVLOD.
        Moved nowhere.

12469.  October 16, 2007           UVHOL                  Eric
        Changed UVHOL to:
        1. Drop BCOUNT and UVRANGE which were not meaningful
        2. Change comment symbol in HOLG to #! rather than !!
        3. Label U and V columns properly (l and m etc)
        4. HOLG: add comments about antennas averaged and about
        avergae number of samples per printed sample
        5. Scaling now uses the full ref antenna and time averaging
        options to get proper scaling foer weight.
        Changed HOLGR to accept either ! or # in column 1 as a
        comment.
        Moved nowhere.

12470.  October 17, 2007        UVMTH, UBAVG              Eric
        Added info on the default OPCODE in UVMTH and the meaning of
        "field of view" in UBAVG help files.
        Moved nowhere.

12471.  October 18, 2007         BL tables             Eric
        BLGET   treated FRQSEL=-1 as a meaningful value rather than
                "don't care" and so failed to get BL values and so
                flagged RR and LL when BLVER=1.  Why FRQSEL was -1 is
                a good question but the routine was in error anyway.
        COPTAB  forgot about BL tables.  Added BL table copy when DOBL
                false.
        BLSEL   new routine - no one ever cared before.  No selection
                on time or source since they are not really meaningful
                usually.  Selection on IF critical and allowed also
                selection on antennas and correction of FQID.
        Tasks AVSPC, UJOIN, UVCOP, and SPLAT have their own versions
        of COPTAB to which I also added BL tables.

12472.  October 18, 2007      NX table generation         Eric
        The NX table generation could be fooled by subtle time
        differences in tasks like UVAVG.  Changed it to ignore and
        time differences < 1 sec which seems to be enough.
        Moved nowhere.

12473.  October 22-23, 2007          errors                 Eric
        UVCOP and UJOIN should have said CATOLD rather than CATUV in
        the call to BLSEL.  Probably okay in the former, not the
        latter.
        Moved nowhere.

12474.  October 23, 2007           SPLIT                 Eric
        SPLIT still did not get things right.  There was a very
        long-standing error in the header reference pixel computation
        when averaging channels but still making a multi-channel
        output file.  SPLIT leaves the ref value alone for frequency
        and so the offset frequencies in the FQ table should not be
        changed - a more recent error.  SPLAT does things differently,
        puting the ref pixel to 1.0 and changing the ref values.
        Moved to patch this date.

12475.  October 23, 2007             FLOPM                   Eric
        New FUDGE-clone task to reverse the sign of the phase and the
        spectral channel order without changing anything else.  This
        fixes a VLA on-line system error where side-bands were
        confused.
        Moved nowhere.

12476.  October 24-25, 2007            UVAVG                  Eric
        Changed the code to set time intervals for TB sorted data from
        the first sample of the interval.  BT remains in the
        integer*YINC from the start of the day intervals.  Improved
        the help file to make this clear and to drop size limitation
        discussions since dynamic memory is now available.
        Moved nowhere.

12477.  October 25, 2007          UVLOD, FITLD              Eric
        RUVFIL did not handle the case of an old FITAB header well.
        It did not have the file name and did not do all the
        comparisons properly.  Fixed it to force the output
        compression to be that of the input table, not DOUVC, and to
        add weight and scale parameters if needed and so forth.
        Changed UVLOD to have compression only on DOUVC > 0 (used to
        be >= 0, which differred with FITLD) and fixed help files to
        say that FITAB uvtables have the compression of the input
        table.  Fixed error message in RUVTAB.
        Moved nowhere.

12478.  October 25, 2007         UVDIF                     Eric
        Fixed it to allow one file to be compressed and the other not
        and still do a proper comparison.
        Moved nowhere.

12479.  October 26, 2007         UVAVG.HLP               Eric
        Changed the help file to emphasize the importance of well
        chosen YINC.  In particular, setting YINC to the interval
        between samples will now, with TB data, cause deep troubles
        for the MERG operation.
        Moved nowhere.

12480.  October 26, 2007             FILLM                Eric
        Added a header keyword to specify whether the data are
        correlation coefficients (CORRCOEF 1) or not (CORCOEF -1).
        Found an error where the tolerance for appending data was 0
        for the first file when comparing antenna locations.  Fixed
        the tolerance to use the date.  Also fixed the conversion of
        AN file locations to FILLM units - that should have been fine
        even though it said (1.E-9 * VELITE) but (1.D-9 * VELITE)
        produces the correct results.
        Moved nowhere.

12481.  October 29-30, 2007        Web address             Eric
        The web address has changed from www.aoc.nrao.edu/aips to
        www.aips.nrao.edu.  Changed the files ZXHLP2, ZXHLP2.PL,
        CDSETUP, CookBook chapters 0,1,3,C,Z, and helps for FXVLB,
        VLOG, Y2K, and SETJY.  Redid all web pages with references to
        the old location, redid the CookBook html and PDF versions,
        and redid the cgi scripts on the new cgi location.
        Moved nowhere.

12482.  October 30, 2007           DCONV                Eric
        DCONV neglected to convert OPCODE from hollerith in the inputs
        to the local variable.  So the second image was tested in all
        circumstances and used if it accidentally passed inspection.
        Moved nowhere.

12483.  October 30, 2007            LISTR               Eric
        The matrix averaging routines, when they were switched to
        properly weighted averages, retained an RMS test on COUNT
        being larger than 2.  That would be fine if COUNT were a
        simple count, but it is now the sum of real weights and so can
        be scaled any old which way.  Changed several compares from 2
        to 0.0.
        Moved nowhere.

12484.  October 31, 2007        FITTP, FITAB               Eric
        Changed VKEY.INC so that EQUINOX will be written rather than
        the deprecated EPOCH.
        Moved nowhere.

12485.  October 31, 2007            UVLSF                 Eric
        Changed fitting code (uses XBASL-like code now) to allow up to
        4th order orthogonal polynomials in the fit and added the
        option to add the continuum of channel CHANNEL back in to all
        spectral channels equally.
        Moved nowhere.

12486.  November 2, 2007          UVLSF, UVLSD             Eric
        The header of the continuum output went back to the original
        input header - a really wrong thing to do these days.  It led
        to an empty FREQSEL parameter for example.
        Moved nowhere.

12487.  November 2, 2007            VPLOT                  Eric
        Changed default SYMBOL.  Added axis types for hour angle,
        elevation, azimuth, and parallactic angle.  Added FACTOR to
        control size of SYMBOL and to allow connect the dots when not
        plotting a model or 2 of u,v,w.  Changed subroutines POLCHK
        and POLVIS to allow Q/I, U/I, V/I.
        Moved nowhere.

12488.  November 2, 2007         SNPLT, LISTR               Eric
        Add words re TY columns for VLA: "TSYS" is nominal sensitivity
        and "TANT" is a front or back-end system temperature to these
        help files.
        Moved nowhere.

12489.  November 5, 2007          SPLIT, SPLAT               Eric
        I do not believe this - both tasks had the number of
        words/correlators to copy wrong (3 times too large).  This can
        cross array boundaries messing up needed data and can
        certainly get wrong results for the scaling of compressed
        data.
        Moved to patch this date.

12490.  November 5, 2007         random numbers              Eric
        Changed RANDIN to make seconds of time the major initiator
        rather than hours and increased all of the multipliers by
        quite a bit.  It is still not a great random number generator,
        but it is better this way.
        Moved nowhere.

12491.  November 6, 2007         SPLIT, SPLAT               Eric
        I further don't believe how I messed yesterday's correction to
        copy too few for compressed data.
        Moved to patch this date.

12492.  November 7, 2007           TYSMO                  Eric
        New task to clip and smooth TY tables.  A task to remove
        and/or apply the TY (nominal sensitivity) to UV data is
        still to come.
        Moved nowhere.

12493.  November 7, 2007          FLOPM                    Eric
        Added OPTYPE='VLAE' to do the VLA special fix, with any other
        OPTYPE flopping the channel order and fixing the header and FQ
        table.  Changed to copy all times, fixing the TIMERANG
        requested.
        Moved nowhere.

12494.  November 8, 2007          UVFIX                 Eric
        the array for holding source parameters was limited without
        test to 200.  Raised that to 2000.
        Moved nowhere.

12495.  November 8, 2007           VPLOT                Eric
        Changed the time averaging to be (1) on normal not
        integer-step intervals and (2) to allow all axis types.
        Moved nowhere.

12496.  November 12, 2007           FLATN                Eric
        The code wrote the noise squared and the weight squared out
        rather than the correct units.
        Moved nowhere.

12497.  November 12, 2007         UVLOD                   Eric
        Changed UVLOD, IMLOD, and FITLD to ignore the EXTEND card that
        used to be required.  Little use was made of it except for
        IMLOD covering for an empty image if there standard tables
        following.  Fixed UVLOD, FITLD, IMLOD to do the blocking of
        AIPS HISTORY correctly for required cards.  Fixed UVLOD and
        FITLD to not be unhappy with headers it sees that are mixed -
        some axis labels with bad values when UVTABLe is true.
        Moved nowhere

12498.  November 13, 2007       TPHEAD, PRTTP             Eric
        FWRITE   Changed simply to give up on AIPS UV-tables and say
                 header info later in file (so TPHEAD can't give it).
                 This applies to old FITAB output too due to adding
                 the USED tests to prevent HISTORY AIPS from
                 overriding keyword values
        FPARSE   modernized code style, added USED to call seq and use
                 it to prevent an AIPS HISTORY card from overriding a
                 regular keyword card.
        GEYKEY   moved from $APLNOT to $APLSUB, cleaned up style
        SDTCRD   moved from $APLNOT to $APLSUB, cleaned up style
        TABF3D   moved from $APLNOT to $APLSUB.
        PRTTP    Should not use FPARSE on table headers; added parts
                 of TABHDR to parse the UV-tableheader.  Also use some
                 incoming parameters parsed from the HISTORY AIPS main
                 header.
        Moved nowhere.

12499.  November 13, 2007            VPLOT               Eric
        The real and imaginary parts got reversed when SOLINT>0.
        Fixed it and Rick is happy.
        Moved nowhere.

12500.  November 14, 2007        3C286 X-band model        Amy
        Put back a revised model - for some reason the CCs were offset
        1 pixel in X from the center.
        Moved nowhere.

12501.  November 14, 2007            PRTTP                 Eric
        Found a few more header parameters to display correctly for
        uv-table data.
        Moved nowhere.

12502.  November 26, 2007            CONFI                 Leonia
        Having got the request of the LWA people, I have added the
        constraint of the outer configuration border at the shape of
        ellipse with the given ratio of the ellipse axes.
        Moved nowhere

12503.  November 26, 2007             UVLSF               Eric
        Changed the response to data for which there are not enough
        selected samples to fit the spectrum.  Instead of dying, it
        just omits that spectrum.  Changed the handling of the
        flagging on residuals - the continuum was added back (when
        selected) before the test on residuals was performed.
        Rearranged things to test the true residuals and then add back
        the continuum.  The new code flagged all samples following the
        first bad one.  Both the new code and the old code did not
        reset the counter for number of samples in the rms.
        Therefore, the flagging based on rms in the fit region never
        worked - but should now.
        Moved nowhere.

12504.  November 26, 2007             UVMOD                 Eric
        The explain file used numbered cases which implied that those
        numbers were the CTYPE values (but did not say so).  Changed
        the case numbering to start with 0 to match the CTYPE values
        associated with each function.
        Moved nowhere.

12505.  November 27, 2007           COPIXEL             Eric
        Added the ERROR adverb to COPIXEL so errors (COORDI not give
        pixel inside image) will not stop things but allow control to
        be passed.  AU7B has the code.
        Moved nowhere.

12506.  November 28, 2007        polarization cal            Eric
        A bug was discovered that caused polarization calibration to
        be incorrect when the calibration routines are initialized for
        a second time.  This is common - LISTR loops over IF with an
        init each time, SPLIT loops over source, UVPLT reads the data
        for scaling and checking before rereading for plotting, etc.
        The result is grossly wrong data because the polarization cal
        tables do not get reinitialized.  Fortunately, the bug applies
        only to non-approximate modes and then only when the
        parallactic angle does not change which would be rare except
        for equatorial telescopes which have no parallactic angle.
        Thus WSRT data are almost the only data affected by this bug.
        Changed DATPOL to init the "old" parallactic angle to an
        impossible value whenever the source changes.
        Moved nowhere.

12507.  November 28, 2007          SPLIT, SPLAT             Eric
        When averaging all channels but not mixing IFs, these tasks
        bizarely allowed the frequency to stay the same.  This perhaps
        avoided some multiplies but at the cost of incorrect sizing in
        the uv plane.  Changed it to allow the ref frequency to change
        as it should.
        Moved nowhere.

12508.  November 30, 2007            TYAPL                  Eric
        NEW TASK: It can remove one TY table (Tsys col) from a data
        set and then apply another TY table to it (e.g. a smoothed
        one).  Each of the 2 operations are optional although it will
        refuse to remove a TY from a data set marked as CORRCOEF=1
        (true) and will not apply a TY unless the data set was, or has
        been converted to, CORRCOEF=1.
        Moved nowhere.

12509.  November 30, 2007          AIPSPATH               Eric
        Changed both.  The AIPS libraries for binary distributions
        need to be pre-pended to the user's LD_LIBRARY_PATH not
        post-pended.  If the user has an incompatible version of the
        compiler in his path, a post-pend will be ignored.
        Moved nowhere.

12510.  December 2, 2007          lists                   Eric
        Checked and updated help files LSAPROPO (apropo list), HLPLST
        (tab completions), and ABOUT files ADVERB, AP, CALIBRAT,
        EDITING, GENERAL, IMAGING, INFORMAT, INTERACT, MODELING,
        OBSOLETE, OOP, POPS, PROCEDUR, TABLE, TASK. UTILITY, UV, VERB,
        VLA, VLBI.
        Movved nowhere.

***********************************************************************
***********************************************************************

                 Changes while 31DEC07 is NEW

***********************************************************************
***********************************************************************

12513.  December 5, 2007          RECAT                 Eric
        Added code to the stand-alone program RECAT to detect that it
        is being run as a task and to forbid that.
        Moved from TST this date.

12516.  December 10, 2007        install.pl              Eric
        MACINT was missing from the list of extra architectures for
        which diretories must be created.  It was also missing from
        the MAC case issue when making a link file named AIPS as well
        as the one named aips.
        Moved fixes from TST this date.

12519.  December 25, 2007           VLBAEOPS              Eric
        Cleaned up typing of help files.  Lines were too long causing
        them to be truncated for the user displays, etc.
        Moved from 31DEC08 this date.

12520.  December 28, 2007        AIPSLetter                Eric
        Released LET07B.{TEX,PS,PDF} for 31DEC07 final revision.
        Moved nowhere ($AIPSPUBL is in all versions).

12521.  December 28, 2007          CookBook                Eric
        Changed $SYSUNIX/AIPSWC to include more areas and count PDF to
        skip.
        Changed chapters:
        1    Updated line and task counts, shipping info, mailing
             address, aips++ info, etc.
        3    Comments re message server, Web and street addresses,
             REBYTE mention.
        4    FILLM (corr coef), TYSMO/TYAPL, TAPPE, OUTFGVER, CLIPM ->
             CLIP, WIPER, VLANT, FITAB changed, VLACALIB does models
        5    Numerous wording changes - esp CLIP usage different,
             EDITR has FLAGVER and OUTFGVER, IMAGR has two new menu
             options, new OOSUB mentioned.  Weights from FILLM are
             good not poor as stated.  WIPER more general now with
             baselines known.
        6    Numerous wording changes - esp TVLOD FUNCTYPEs, CORER
             calibration added, COPIXEL error return, IMEAN doinver.
        7    IMCENTER, IMEAN, reword some
        8    Wording changes, CUBIT, TAPPE, UVLSF
        9    DBCON does NOT fix antenna numbering (fixed several
             errors on this point).  Numerous wording/typo fixes.
             UVCOP now does NX tables.  VLBA verb in MkIII section.
             TYSMO added.  LISTR corrected.  OUTFGVER with UVFLG.
             Drop SLIME.  Add WEIGHTIT in CALIB self-cal section.
        10   Wording improvements, time order for flagging, OUTFGVER
        11   Updated wording, FITAB
        12   Tab completion, COPIXEL, FUDGE, move data to new computer
             section incl REBYTE
        13   Updated every list to be sure
        A    OUTFGVER in UVFLG, add major section on VLARUN., use
             model in VLACALIB
        B    Tape -> archive disk files, FILLM parms now default,
             lots more rewrites incl SETFC.
        C    CLIP, OUTFGVER, UVCOP (NX table), numerous minor wording
             changes
        F    Dropped 9-track tape section, FITAB added some and
             31DEC07 change in it, fixed size of CL table
        Moved nowhere ($AIPSPUBL is in all versions).

12522.  December 29, 2007          CookBook                Eric
        Changed chapters:  LaCook*.tex in $DOCTXT, COOK*.PS in
        $AIPSPUBL.  Copies in ftp site.
        0   Updated
        D   Add SNFLG, correct INDXR remark, emphasize models, VLANT,
            correct editing of SN tables (EDITA does not, CLCOR does
            CL), other re-wordings.
        I   Updated
        J   Updated
        Recipe chapter rearranged and reorganized as needed.
        $AIPSPUBL/COOKBOOK.PDF replaced as well as the full html
        version.
        Moved nowhere ($AIPSPUBL is in all versions).

12532.  January 9, 2008           VLANT                   Eric
        Moved the - I hope - completed VLA station corrections file
        for 2007 to $AIPSTARS and saw to a dummy 2008 file being
        created in the appropriate mysterious places.
        Moved nowhere, but 31dEC07 gets it automatically.

12533.  January 9, 2008           REBYTE                 Eric
        The table translation made a hash of tables with long rows -
        IM tables from VLBI and potentially BP tables for significant
        numbers (~ 120 or so) of channels times IFs.
        Moved to 31DEC07 this date.

12542.  January 18, 2008            FITLD                  Eric
        Corrected errors I put in the call sequence to TABWR so that
        weather tables can be properly interpreted.  Included use of
        the number of parameters to handle weather tables missing WVR
        and ION values.
        The default reference pixel is 0.0 not the center of the
        image.  Changed only the IMLOD portion of FITLD.
        Added defenses against strings with null bytes in tables and
        elsewhere.
        Moved above fixes from 31DEC08.

12570.  March 4, 2008       model division               Eric
        The correct weights after model division are multiplied by
        amplitude squared, not amplitude.  The gridded modeling was
        corrected years ago, but the DFT was not until today.
        Fixed QPTDIV, QGADIV, and QSPDIV.
        Moved to patch March 5.

12572.  March 5, 2008             FILLM                 Eric
        FILLM has been scaling and weighting cross-hand data
        incorrectly in those cases in which the antenna order in the
        on-line system is reversed from the antenna order implied by
        the numbers painted on the sides of the telescope.   The
        reversal took place before the scaling and weighting and it
        must take place after since we cannot change the antenna
        numbers themselves.  Note that this affects ModComp-era data
        when converted to correlation coefficients and post-Modcomp
        data when converted to visibilities.  It affects weights of
        Modcomp-era data when not converted to correlation
        coefficients.  The affects on solar data cross-hands are
        more extensive since they are converted to correlation
        coefficients.
        Moved to 31DEC07 patch this date.

12610.  April 29, 2008         DFT modeling                 Eric
        VISDFT found the model type from the first facet, first
        component and then ignored any model types not matching
        without comment.  Changed it to check all facets and to use
        Gaussian or Sphere for point models if there are also Gaussian
        or Sphere models.  It will complain if both Gaussians and
        Spheres occur, but points can be either with 0 width.  It
        takes more space and computing, but this is better than
        ignoring most of the flux!
        Moved to 31DEC07 this date.

12632.  June 19, 2008           FILLM                  Eric
        The setting of the CORRCOEF keyword was all messed up.
        It should only care about the setting of the ISSUN and RICKS
        options rather than whether a correction needs to be made.
        Moved to patch this date.

12649.  July 8, 2009             FILLM               Eric/George M
        As far back as our records go (12/1990), FILLM has confused
        which IF goes with which in applying on-line flags for modes
        2BC, 2CD, 4, PA, and PB.  This means some data were flagged
        that should not have been and some were left unflagged that
        should have been flagged.  Note that the new OF table with
        PRTOF and OFLAG would have pointed out this error had we
        looked at appropriate data sets.
        Moved to 31DEC07 patch this date.

12690.  August 13, 2008           GPOS, FPOS              Eric
        System adverbs need to have standard usages - both FPPOS and
        GPOS are used as absolute pixels, relative pixels, and arc
        seconds in different places.  Removed both from the system
        adverbs list.
        Moved to 31DEC07 this date.

12700.  September 5, 2008            FACSET                 Eric
        FACSET confused the subscript order in the alternative names
        and so used the wrong radius for names for the cal sources.
        Moved to patch Sept 10.

12531.  January 7, 2008         XAS, START_AIPS           Wes/Eric
        The new Mac operating system "leopard" has a clever scheme in
        which $DISPLAY is set to a named pipe of for
        "/tmp/gobbldegook" which confused aips significantly.  Made
        small changes to XAS.SHR (init.c) and START_AIPS and
        START_TVSERVERS.
        Moved to new 26 Sept, 2008.

12748.  November 18, 2008          FILLM                 Eric
        The subroutine that is used when CPARM(4) is not 0 or 25.0 had
        an error in computing sqrt (u^2 + v^2) due to a misplaced
        close parenthesis.  abs(u) + v^2 was examined instead.
        This matters since apparently the on-line system has been
        setting the shadow-flag bit wrongly and that bit is used when
        CPARM(4)= 0 or 25.0.  Clarified this in the help file.
        Moved nowhere.
