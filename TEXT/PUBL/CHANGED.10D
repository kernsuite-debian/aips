;-----------------------------------------------------------------------
;  Copyright (C) 2009-2011
;  Associated Universities, Inc. Washington DC, USA.
;
;  This program is free software; you can redistribute it and/or
;  modify it under the terms of the GNU General Public License as
;  published by the Free Software Foundation; either version 2 of
;  the License, or (at your option) any later version.
;
;  This program is distributed in the hope that it will be useful,
;  but WITHOUT ANY WARRANTY; without even the implied warranty of
;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;  GNU General Public License for more details.
;
;  You should have received a copy of the GNU General Public
;  License along with this program; if not, write to the Free
;  Software Foundation, Inc., 675 Massachusetts Ave, Cambridge,
;  MA 02139, USA.
;
;  Correspondence concerning AIPS should be addressed as follows:
;         Internet email: aipsmail@nrao.edu.
;         Postal address: AIPS Project Office
;                         National Radio Astronomy Observatory
;                         520 Edgemont Road
;                         Charlottesville, VA 22903-2475 USA
-----------------------------------------------------------------------
     This file must be used to record any changes made to the Master
version of AIPS kept in SOCORRO.  An entry is:

   line 1:   Date Program name Your name
   line 2:   What was done (may span multiple lines)
   line n-1: Where has this change been moved (e.g. 15JUL94, nowhere)
   line n:   Blank

 The details of line 1 are important since programs are used to find
 specified strings and do conversions on them.  It MUST be typed as
 follows: 1 blank, 4 digits, a period, two blanks, then the Month,
 day, comma, year, some space, a title, some more space, your name.


***********************************************************************
***********************************************************************

                 Changes while 31DEC10 is TST

***********************************************************************
***********************************************************************

13023.  December 2, 2009        version                  Eric
        Changed 31DEC09 to 31DEC10 in:
        GETRLS.FOR    INSTEP1     install.pl     update.pl
        ZXHLP2.PL     UPDCONTROL (comment)       AIPSPATH.*
        Changed LIBR.DAT in $SYSUNIX, $SYSSUL, $SYSMACIN, $SYSMAXPP
        to put Z routines in APLSUB library.
        Moved nowhere.

13024.  December 2, 2009      UVRFI.FOR                  Leonia
        This new task mitigates RFI using the two algorithm:
        'CEXP': Fourier transform of the data at each time interval,
                each baseline, each channel,
                and following complex Hogbom clean subtracting one or
                more components from the "dirty map", using
                precalculated "dirty beam". The cleaned complex value
                at zero fringe rate is the restored visibility value.
        'CIRC': Fitting the circle at the complex visibility plane.
                This agorithm is a modernized algorithm of Raman Athrea
                ApJ 696, 885, 2009, May 1, which includes fitting of
                the circle radius increment.
        Some flagging of the data at channel by channel is implemented.
        Data must be 'BT' order!!!!!!!.
        Moved nowhere.

13025.  December 3, 2009            CookBook                 Eric
         1 : Updated numbers, aips++ remarks, misc wordings
         2 : Drop TIMDEST reference, misc minor wordings
         3 : RECAT, AN file format, drop HORUS, MX, TIMDEST, WHATSNEW,
             add FILEZAP, correct VLA archive web address
         4 : 3C147 model, RLCOR, ATLOD now AIPS, SNFLG flags data,
             GETJY robust average
         5 : IMAGR (DO3D false, autobox, IM2P(7), restart after
             filter, OVRSWTCH, baseline-length dependent averaging)
             MX/HORUS, SABOX, FILIT, UVFND phase, FQUBE
         6 : ISPEC/BLSUM make SL files, REROAM amd ROAMOFF, FILIT,
             CAPLT, UVPLT NCHAVG option
         7 : ISPEC, BLSUM slices; UVMOD text file, FQUBE, FARS
         8 : ISPEC, BLSUM slices; MX, HORUS gone; IMAGR autobox/carry
             boxes over between channels; FQUBE
         9 : SNPLT DOBLANK, RLCOR, FITLD read pre-processed archive
             data but without DOCONCAT, VPLOT max/min, CLCOR 'IONO',
             CAPLT, FRING DPARM(9) no rates, SNCOP for copying SN
             tables, BLCAL ICHANSEL and BLCHN
        11 : Drop TIMDEST several places
        12 : Only private CA, FILEZAP, FQUBE, DELAY, several misc.
        13 : Updated all changed ABOUT files
        A  : Drop MX, HORUS, WFCLN, MAPIT proc; reword VLACALIB.
        B  : Wording corrections
        I  : update
        J  : update
        Recipe: rearranged only
        LaCook.PL revised to correct version(s).
        Moved PS to shared TEXT, $DOCTXT/LaCook* to 31DEC09 and 31DEC10.

13026.  December 3, 2009          ANCHECK               Eric
        Effelsberg is EB not EF - corrected ANFIND.FOR and ANCHECK.001
        in NEW and TST and ANFIX8 in the patch page for 31DEC08
        (OLD).  Both EF and EB are now recognized per Craig.
        Moved as described above.

13027.  December 4, 2009         UVRFI.FOR              Leonia
        The subroutine name CEXP is substituted by CMPEXP, because
        CEXP has been used already.
        Moved nowhere.

13028.  December 7, 2009         SPLIT, SPLAT             Eric
        SPLIT and SPLAT assumed that the header value of the alternate
        reference pixel was correct even for multi-source files.  This
        is not necessarily the case and should always be the frequency
        reference pixel.  Changed usage.
        Moved to 31DEC09 this date.

13029.  December8, 2009             ATLOD                Eric
        Messed up one of the 2 calls to TABAN.
        Moved to 31DEC09 this date.

13030.  December 10, 2009          TIMDEST               Eric
        Removed messages that mentioned TIMDEST - it no longer is
        available to users in PRTMSG, AIPSC (added block), and
        ZDCHIN.
        Moved to 31DEC09.

13031.  December 10, 2009           COMB                  Eric
        Added code to copy tables to the output except for CC tables.
        Moved to 31DEC09.

13032.  December 11, 2009            install.pl           Eric
        Added code to trap the current list of hosts that are found in
        a pre-existing HOSTS.LIST file and the to reread that file to
        make sure that those hosts have the current $ARCH and $SITE
        that install.pl assumes.  This should stop mysterious errors
        which arise from a mis-match of the old and new values of
        these critcal strings.
        Moved to 31DEC09 December 29, 2009.

13033.  December 14, 2009            UVRFI               Leonia
        Changed the threshold 2.5 to 1.5 to allow the substruction
        at the Fourier tranform (opcode='cexp')  more close to the zero
        fringe rate. Add small change to the help file
        Moved nowhere

13034.  December 14, 2009            RM                  Eric
        Changed the form of the input data to have an FQID axis as
        produced by MCUBE and FQUBE.  Added another method due to F
        Zhou.
        Moved nowhere.

13035.  December 14, 2009        EVASN, EVAUV           Eric
        NEW tasks written to evaluate pipeline results.  EVASN looks
        at statistics of the SN table (amp rms, phase stability) and
        EVAUV looks at image statistics plus the uv statistics after
        a model subtraction and division.  They are under development
        and may need more tetsts and certainly need to return some
        parameters to the pipeline.
        Moved nowhere.

13036.  December 14, 2009            SAD                  Eric
        Added message saying that an RMS image is being used.
        Moved nowhere.

13037.  December 15, 2009        Memo 114                 Eric
        Put back a revision of the memo - numerous minor errors plus
        BITPIX, 3 types of weights, more care with EQUINOX and EPOCH,
        antenna diameter and full-width at half-maximum, units
        corrected for dispersion, etc.  Corrected web pages.
        Moved nowhere (all versions get it).

13038.  December 18, 2009          UVRFI                 Leonia
        Factor at comparison the channel amplitude with mean amplitute
        through all channels has been constant (1.5).
        Now it is the input parameter APARM(6).
        The help file is changed relevantly.
        Moved nowhere.

13039.  December 18, 2009          SMOOTH                 Eric
        SMOSP made an erroneous reference to CATBLK (output header)
        rather than CATUV (input header).  In IBLED it got a very
        wrong set of increments through the data - so IBLED messed up
        badly if SMOOTH was set.  Most tasks have not messed up the
        CATBLK enough to matter after the INIT call to UVGET but
        before the READ calls.  Discovered that spectral smoothing was
        occuring before delay calibration application in the before
        bandpass smooths.  This is a very bad idea but not important
        for small delays.
        Moved to 31DEC09 this date - these have been with us a long
        time.

13040.  December 21, 2009           EVASN                Eric
        Corrected the robust average to handle the case where RMS is
        zero - samples are included in the next average when they are
        less or equal factor * rms.  Before it included only less than
        and that excludes all when rms is 0 (e.g. amplitude on a phase
        only SN table).  Oddly, the rms changed in other circumstances
        too.
        Moved nowhere.

13041.  December 23, 2009            BLCAL               Eric
        The help file referred to writing an output file.  BLCAL does
        not do this.  Dropped the remark and cleaned up the Explain
        typing.  Fixed history file writing in the Fortran since it
        left out many of the calibration parameters and was coded
        oddly.
        Moved to 31DEC08 this date.

13042.  December 23, 2009            BLCHN                Eric
        Dropped remark in help file - output is written whether or not
        there is a division by the source model.
        Changed Fortran to compute spectral rms and honor the print
        option.  Changed help and Fortran to offer a post-solution
        spectral smoothing identical to the usual smooth.  Changed
        Fortran to write all calibration parameters to the history
        file and also cleaned up the rest of the HI writing.
        Moved to 31DEC08 this date.

13043.  December 23, 2009             CVEL              Eric
        It processes only one FREQID - changed help to emphasize this.
        Fixed long line in LISTR.HLP.
        Moved nowhere.

13044.  December 25, 2009            TVFLG              Eric
        Tried to read the number of records in an antenna file equal
        to the highest antenna number in that file.  That is wrong.
        Changed the length finding routine to issue a warning if some
        possible antennas have no position info and so have length 0.
        Moved to 31DEC09 this date.

13045.  December 25, 2009           SETJY              Eric
        It issued a message about available models for each IF and had
        messages saaying model may be available about some of the
        bands.  Changed to issue only one message per source and make
        all certain about having models.
        Moved to 31DEC09 this date.

13046.  December 25, 2009            ISPEC             Eric
        1. Fixed return quickly to return quicly on DOCRT 0.
        2. Fixed setting of status so it will clear at end of making
        plot file.
        Moved to 31DEC09 this date.

13047.  December 25, 2009            IMEAN               Eric
        Counted histograms as real*4 - limit of accuracy is 2 or 4
        million after which count ceases.  Changed to double
        precision.
        Moved to 31DEC09 this date.

13048.  December 25, 2009           MCUBE                  Eric
        Found some code that limited the axis on which we are building
        to 2048.  Fixed.
        Moved to 31DEC09 this date.

13049.  December 29, 2009        CALIB, FRING             Eric
        The handling of the index table, dividing the scan into equal
        increments ignored the start and stop times.  Fixed to change
        the scan length and start and stop times to honor the overall
        start and stop times (from TIMERANG).
        Moved to 31DEC09 this date.

13050.  December 30, 2009          LPOPEN                 Eric
        For batch, it set DOCRT = -1.  This should be MIN (-1, DOCRT)
        since DOCRT = -2, -3 etc have meanings.
        Moved nowhere.

13051.  December 31, 2009            FRING                Eric
        Add CHINC option - channels are averaged before the fitting.
        Moved nowhere.

13052.  December 31, 2009           ZMEMRY                Eric
        ZMEMRY took an argument of number of words wanted but passed
        number of bytes to ZMEMR2.  Changed to pass number kilobytes
        to ZMEMR2 and changed that to use a "long" for number of
        bytes.  FRING is now very dangerous.
        Moved nowhere.

13053.  January 1, 2010         SAD, JMFIT, IMFIT         Eric
        Added DOCRT=-4 option to do a special format print to a text
        file with one line per source component.  The format lists
        file name, channel, peak flux with error, offsets with errors,
        reference coordinate, Gaussian size and position angle with
        errors, Clean beam size and position angle, image rms, and
        component number.  Angles are in arc seconds or milli arc
        seconds depending on the cell size.  The scale used appears in
        a header line.  Fluxes and noise are also converted to milli
        or micro Jy with a code displayed.  Header lines only appear
        in new output files.
        Moved nowhere.

13054.  January 1, 2010               AIPS                  Eric
        Changed copyright date to 2010
        Moved nowhere.

13055.  January 1, 2010             SUFIX                 Eric
        Changed it to allow the user to specify the name, calcode, and
        position of an existing source and change the wrong source
        numbers to those of that existing source.
        Moved nowhere.

13056.  January 5, 2010           MFPRT                Eric
        Forbad printing to the line printer - allowed files or the CRT
        only.  Dropped that limit.
        Moved nowhere.

13057.  January 5, 2010        IMSTAT, IMEAN           Eric
        Images exceeding 2^31 - 1 pixels (e.g. 400x400x16112 in my
        case) will be upon us soon.  Changed counters in AU6D and
        IMEAN to double precision float and modified formats.
        Moved to patch January 18.

13058.  January 6, 2010              COPTAB               Eric
        COPTAB copies tables as appropriate from one uv file being
        calibrated possiby to the output data set.  For CL tables, it
        should write a null CL table 1 when DOCAL is true.  Changed it
        to do this, calling CLNULL.  Got CLNULL from SPLAT to make it
        a separate subroutine (it is similar to CLSEL) and changed
        AVSPC local COPTAB similarly.  Previously CL table 1 was
        copied but it can contain some a priori calibration info.
        Moved nowhere.

13059.  January 8, 2010            VLARUN                Lorant
        Modified procedure numtab to make it safe against long keywords
        Moved nowhere.

13060.  January 11, 2010           SPFLG                  Eric
        Change format of "Grid antennas" to be "Grid Baselines" to
        show what is actually happening.
        Moved nowhere.

13061.  January 11, 2010           ISPEC                   Eric
        Correct it to determine the max/min default on the smoothed
        spectrum when smoothing is specified.  Added XYRATIO adverb to
        allow plotting a rectangular area more suitable for large
        numbers of spectral channels.
        Moved nowhere.

13062.  January 11, 2010          EXTLIST                  Eric
        Updated AU8A for changes in ISPEC adverbs.  Add XYRATIO to
        display.
        Moved nowhere.

13063.  January 13, 2010          JMFIT                  Eric
        Fixed handling of DOCRT which had gotten messed up.
        Moved nowhere.

13064.  January 13, 2010         TVMOVIE                 Eric
        Changed AU5D and the help to allow LTYPE to have all normal
        values.  They are converted to values from 1-6.
        Moved nowhere.

13065.  January 13, 2009           TVANOT                Eric
        Changed AU5B and help to use COMMENT rather than KEYSTR
        to get up to 64 characters rather than only 16 max.
        Moved nowhere.

13066.  January 13, 2009           ZXHLP2                Eric
        Changed ZXHLP2 to check if $AIPS_BROWSER is set and, if not,
        to set it to firefox.  Added info to XHELP help file.
        It produces an error message but works now.
        Moved nowhere.

13067.  January 13, 2010            ELINT                Leonia
        ELINT has calculated argument of an array adding LONGINTEGER
        and regular integer sending the sum to the regular integer.
        It should be sent to the longinteger variable.
        Having fixed this ELINT works at a 64 bit mashine as well as
        at a 32 bit mashine.
        Moved nowhere.

13068.  January 13, 2009          LWPLA                 Eric
        Changed formats inside to allow for sizes > 33 inches.
        Also changed to allow larger fonts.
        Moved nowhere.

13069.  January 15, 2010          FITTP                  Eric
        The DOSTOKES option (convert to I,Q,U,V) is just too
        dangerous.  It can be set accidentally and then data may be
        saved without calibration being applied (so not a real Stokes
        at all).  Drooped it from FITTP Fortran, WRTPROCS RUN file,
        and help files for DOSTOKES, FITTP, FITDISK, and WRTDISK.
        The DONEWTAB option is not needed and was also dropped.
        Moved nowhere.

13070.  January 18, 2009           DOBAND               Eric
        Corrected BPASET, restoring ISVLA variable.  DATBND uses it to
        decide between all channels and the central 3/4 and we do not
        want to use the outer channels except for crazy VLBIers who
        insist on it.
        Moved to patch this date.

13071.  January 21, 2010       IMFIT, JMFIT, SAD           Eric
        These tasks on DOCRT=-4 had two problems: (1) The Clean beam
        parameters were those of the image in pixels and so were not
        corrected for rotation and for odd position angles used in
        SAD.  (2) When the noise in the peak flux was larger than 1/10
        of the peak, the format could run together for the peak and
        the noise.  Added an invariant header Clean beam parameter to
        avoid the first problem.  For the second added tests on the
        error bar level 10 times tighter than those on the peak so
        that F7.3 will always make a blank in the first character.
        Also made the test consider the nead for a minus sign on
        negative fluxes, forcing different tests for negative than
        positive fluxes.
        Moved nowhere.

13072.  January 21, 2010            INDXR                  Eric
        Changed it to treat the EVLA as the VLA.  This means it will
        want a weather table.  Changed it to accept that a missing
        weather table means use 100% seasonal model with no surface
        weather contribution to the estimated opacity.
        Moved nowhere.

13073.  January 21, 2010            PRTUV                  Eric
        Corrected program to set the end time to infinity if it is
        specified <= start time.  Enhanced testing on time to quit
        when the sort order is T* and the end time is exceeded.
        Corrected testing on antenna numbers which had a typo!
        Moved nowhere.

13074.  January 22, 2009       PRTAN, FILLM               Eric
        FILLM: Rename pads to have 2 digits always including leading 0
        for the first 9 pads.
        PRTAN: Made it handle the new form of name, converting old
        forms to it.  Improved the VLA map to include missing stations
        on the North arm as well as on the other 2.
        Moved nowhere.

13075.  January 23, 2010            LOCIT                  Eric
        LOCIT actually computes corrections to Bx and By at the
        longitude of the antenna.  Added change to convert these
        corrections to be with respect to the longitude of the array.
        For the EVLA, this is at Greenwich, whilst for the VLA it was
        in the center of the Plains of Saint Agustin very near the
        antennas.
        Other changes:
        1. Changed pad names like W4 to be W04
        2. Dropped the .OPR and .SUM output files
        3. Changed it to read a pre-existing .VLA file acquiring any
        coordinate changes contained therein.  Then it renames the
        .VLA and writes a new one with the new sum of changes.
        4. Added a .001 file with a CLCOR script containing the
        changes.
        5. Added a .PAR file for the PARMENATOR with the sum of
        changes.
        6. Made another plot file based on BPARM(9) request, plotting
        the X, Y, Z offsets along each arm in 3 plots (one page).
        Moved nowhere.

13076.  January 25, 2009           FITLD                Eric
        Olaf Wucknitz (Bonn Uni) reported another typo causing the
        polarization type stored in the AN table to contain garbage.
        Moved to patch this date.

13077.  January 25, 2009           UVFND                Eric
        Changed default APARM(1) to 1.E8 in all cases for CLIP.  Added
        OPCODE 'WTUV' => do CLIP and check reasonable weights with
        WTUV.  Otherwise, set WTUV = -1 and ignore weights.
        Moved nowhere.

13078.  January 26, 2009           FARS                 Leonia
        The option of CLEAN at the Fourier transform is added now by
        new inputs: GAIN and FLUX. The old version subtracted the
        Fourier component at maximum amplititude by hundred percent of
        its value. The new version subtracts a portion of the maximum
        amplitude component under control of GAIN. The subtraction is
        finished when the iteration number achieves NITER or the clean
        flux achieves FLUX.
        Moved nowhere.

13079.  January 28, 2009           CLCOR                 Eric
        A variety of places did not check to see if all pointers to
        the CL record were valid.  It was then possible to write in
        RECORD(0) which damaged the SIN of the declination carried
        around in COMMON.  The symptom was an error in shifting phases
        for position shifts that were large enough - or scans that
        lasted long enough perhaps - when there is only one
        polarization.  When there are two polarizations all pointers
        are valid.  The error appeared in the code in March 2006.
        Moved nowhere - lets wait and then move to patch.

13080.  February 2, 2010         HI lines               Eric
        Added HI lines to
        CLCOR    ATMO et al input file name
        UVCOP    Flag table usage
        TECOR    Changed to make INPUTS object know actual CL versions
                 so they will come out in HI
        FITTP    DATAOUT or OUTTAPE to HI
        FITAB    DATAOUT or OUTTAPE to HI
        Moved nowhere.

13081.  February 4, 2010          UVGET                 Eric
        Changed UVGET so that EVLA data have DOWTCL forced to false.
        Changes all tasks with adverb DOCAL.
        Moved nowhere.

13082.  February 4, 2010          WAITTASK              Eric
        Changed AU2 to allow WAITTASK on AIPSC - just not on AIPS and
        AIPSB.  TPUT and VPUT are still disallowed for all 3.
        Moved nowhere.

13083.  February 5, 2010          CLCOR                 Leonia
        OPCODE 'CLOC' has not modified RATE column of CL table.
        So CLCOR is modified to do it.
        Moved nowhere.

13084.  February 5, 2009       IMEAN, IMSTAT             Eric
        The format printing the number of pixels has to be corrected
        for a previous format that shifted the decimal place.  The number
        printed was a factor of 10 off.
        Moved to patch this date.

13085.  February 10, 2010        Delay correction        Eric
        Amplitude should not be corrected for a delay error unless we
        know how much averaging was done after the initial
        correlation.  Commenting out the current correction.
        Moved to patch this date.

13086.  February 11, 2010           APCAL                Eric
        The read routine used the loop counter as a row number
        argument to TABWX.  But that routine increments the row
        counter so only every other row was read and occasionally it
        would try to read off the end.
        Moved to patch this date.

13087.  February 12, 2010       Remote batch              Eric
        Changed
        POPSDAT  Added REMQUE adverb for SUBMIT.
        BATQ     Added HOST argument, retyped the code in modern
                 style, if HOST not blank, open file via NET0:HOST/
                 and the trailing characters from ZPHFIL.
        LPOPEN   Fixed call sequence to BATQ - the HOST is blank here
                 since we are asking what is happening in this batch
                 job.
        AUB      Added adverb REMHOST for UNQUE, QUEUES, JOBLIST.
                 Correct error handling, file closing.
        AUA      Add REMHOST to send to AIPSC.
        UNQUE    Help file with added adverb
        QUEUES   Help file with added adverb
        JOBLIST  Help file with added adverb
        SUBMIT   Help file with added REMHOST, REMQUE
        AIPSC    Help file with added REMHOST
        AIPSC    Add REMHOST adverb.  Change where output files are,
                 add code to find NINTRN and NBATQS parameters for the
                 remote machine, add code to invoke START_QMNGR on the
                 remote machine.  Changed call seq to BATQ
        START_QMNGR   New script needs to be in AIPS_ROOT
        QMNGREXEC     New script executed by START_QMNGR
        ZSTRTQ        New $AIPGUNIX program to start QMNGRx
        install.pl    Added START_QMNGR to list to copy to AIPS_$ROOT
        AIPSROOT.DEFINE   Added START_QMNGR to list.
        UPDUPDATE     MNJ to copy START_QMNGR to $AIPS_ROOT
        Moved nowhere.

13088.  February 12, 2010         ADDDISK, REMDISK       Eric
        Created verbs to add a machine's disk to the list of available
        disk within AIPS and to remove same.  Changed
        POPSDAT      Add verbs
        START_AIPS   To create a logical DADEVS_FILE with the dadevs
                     file we are using this time
        DISK.INC     New include to hold arrays to track added disks
        AIPS         Initialize new arrays to keep track of disks
                     added
        AU3B         Add code for verbs - check and call DSKASS
        DSKASS       New subroutine - reads the dadevs file and does
                     the assignments on ADDDISK and uses Common arrays
                     to remove disks.
        GNETSP       New subroutine to find a list of disks in NETSP
                     to find the timedest and user number restrictions
                     which apply.
        ADDDISK      New help file.
        REMDISK      New help file.
        Moved nowhere.

13089.  February 12, 2010         VLANT                Eric
        Add a JTRIM - some machines seem unable to read text files
        correctly every time.
        Moved nowhere.

13090.  February 12, 2009         FITTP, FITAB         Eric
        Found a HI write line where DATAOUT > 33 characters caused a
        format overflow.  Corrected it - this is a new bug (Feb 2).
        Moved nowhere.

13091.  February 14, 2010          SETJY               Eric
        Put in Rick Perley's latest and greatest values for the
        standard calibration sources.  Seems to change things by < or
        about 1 percent.  Changed APARM(2) values, shifting everything
        up by 1 and making 1 be what SETJY has done by default for a
        long time (21 Dec 2000).
        Moved nowhere.

13092.  March 1, 2010            CVEL                   Eric
        My recent code contained the ability to go into an infinite
        loop when minor roundoff errors with times arose.  Added a
        slight extra bit to the time and added other checks to avoid
        the infinite loop.
        BUT - in the course of testing, I found that with
        single-source files, the source name was null which prevented
        the message showing the shift or lack thereof from being
        completed properly.  With single-source files having an index
        (NX) table, the task only shifted the first scan!  This fact
        was obscured by the error in the source name.  Corrected.
        Moved to patch this date.  The lack of shift is old and maybe
        needs to be in the NRAO newsletter.

13093.  March 3, 2010            LPSEC                   Leonia
        I have updated LPSEC because the new leap second occured
        (Jan1, 2009) since the last update (Jan1, 2006).
        The Julian days were given (in the table) at the format
        corresponded to REAL, although it must be DOUBLE PRECISION.
        I have fixed this.
        Moved nowhere.

13094.  March 3, 2010         Pol cal                   Eric
        The array to apply polarization cal is dimensioned Number of
        baselines times 16 (4x4 array) times Number of IFs.  Changed
        PUVD.INC parameter XPTBSZ from 16384 to 196608 to accomodate
        the EVLA.  It should be 5767200 to accomodate 90 antennas and
        90 IFs.
        Moved nowhere.

13095.  March 3, 2010             DATUTC                Eric
        Changed UVFIX to zero DATUTC if TIMSYS = 'UTC' and clarified
        the meaning of UVFIXPRM(12) in the HELP to be time system used
        by data - UTC rather than assuming IAT is in the data.  The
        leap second routine is used only for array 'VLA' and so is not
        used for EVLA (which is what we want!).
        Changed ANINI to fill in IATUTC correctly from RDATE and
        subroutine LPSEC and on read to use IATUTC for DATUTC only if
        TIMSYS not UTC.
        Moved LPSEC from $APLNOT to $APLSUB.
        Moved nowhere.

13096.  March 3, 2010            UVLOD, FITLD            Eric
        Added code to re-write the source table with AIPS computing
        the apparent coordinates for all sources.  The apparent
        coordinates received from various places are not filled in or
        are filled in incorrectly.  NOte that these are used only a
        little and so it does not matter exactly what time to which
        the coordinates apply.
        Moved nowhere.

13097.  March 4, 2010              GAL                   Eric
        The output of the fit parameters neglected to include the
        Brandt index and used formats that are potentially too small.
        The HCN routine which computes the residual image from input
        text, e.g. varying models in rings, was a bad mess.  It got
        the geometry right, but did not compute any of the models that
        were in the rest of the program.  Changed it to have sensible
        defaults for DPARM(1) and DPARM(2), to avoid zero divides, and
        to honor the desired model type.
        Moved nowhere.

13098.  March 4, 2010               UVFLG                Amy
        Flagging on shadowing was not working because UVFLG was not
        calculating the baseline length correctly.  This was traced to
        the fact that ARRTYP had not been taken out of the call sequence
        for the subroutine BASLIN.  Eric said he took that variable out
        of the  BASLIN last Sept., so shadowing in UVFLG has been broken
        since then.
        Moved to patch March 5.

13099.  March 4, 2010              ANTAB                  Eric
        The KEIN value buffer allowed only 100000 values.  Changed
        that to 5000000.
        Moved nowhere.

13100.  March 5, 2010             FITLD                  Eric
        RDATE is not a required keyword.  Fixed tests on it to check
        only non-blank values.
        Moved to 31DEC09 since it alarms EVN users.

13101.  March 5, 2010       Remote batch                 Eric
        Changes:
        QMNGREXEC   Must be executable - tweaked system to try to
                    force this
        BATER       Procedure in $SYSUNIX did not set print devices,
                    disks, TVALT, etc.  Fixed it up.
        BATER       Changed Fortran stand-alone program to do new
                    stuff with REMHOST, REMQUE, etc.
        AIPSC       Fixed to open input from BATQ rather then REMQ.
        Moved nowhere.

13102.  March 5, 2010        ADDDISK, REMDISK             Eric
        Changed DSKASS to avoid having a disk which failed to get
        assigned remain in the list.  This prevents it from being
        deassigned or reassigned.
        Moved nowhere.

13103.  March 5, 2010             FRPLT                  Eric
        Changed it to interpolate across empty time bins rather than
        FFT with bins at 0.0.  Time increment edges can cause a
        regular pattern of empty bins which simulates a period within
        the data that is not present.
        Moved nowhere.

13104.  March 9, 2010              BLSUM                  Eric
        The task did not consider the possiblility that the target and
        blotch images would have different Clean beam sizes.
        Corrected this.  The target fluxes were correct, the bloth
        image fluxes came from the target image beam sizes.
        Moved nowhere.

13105.  March 10, 2010         UVLOD, FITLD              Eric
        Changed UVLOD and the UVLOD portion of FITLD to check each vis
        record for pure 0.0 in all spectral channels of a
        polarization/IF and to flag such groups.  They report the
        count at the end.
        Changed MAXSOU in FITLD to 2500 from 500.
        Moved nowhere.

13106.  March 10, 2010             BPLOT                 Eric
        Changed it to check a BP table record for valid data before
        including it.  Otherwise, it plotted fully flagged antennas
        which is a waste of time and space.
        Moved nowhere.

13107.  March 11, 2010            MNJ                      Eric
        When a new AIPS_ROOT file is added to the automatic move to
        $AIPS_ROOT and then define with AIPSROOT.DEFINE, it must be
        first in the list.  Otherwise others may be encountered first
        and the new one will not be present.  This causes the
        define for those encountered first to fail.  Rearrange
        UPDUPDATE.
        Moved nowhere.

13108.  March 11, 2010              EVAUV                  Eric
        Tried to open LUN1 (= 23) twice in the DFT routine - may well
        not be tested.  Corrected code anyway.
        Moved nowhere.

13109.  March 12, 2010             ACCOR                  Eric
        Corrected the Fortran to use a big enough summing array.  It
        should be 2 * MAXANT * MAXIF or 16200.  It was only 2000.
        Changed the help file and explain to discuss its use in more
        detail:  "Some correlators apply this correction to the data
        before writing them out - notably the EVN JIVE correlator and
        correlators used for the Australian LBA.  The VLBA hardware
        and software (DiFX) correlators do NOT apply this correction
        to the data.  Therefore, ACCOR is required for the VLBA
        correlators and any others that do not apply the correction.
        ACCOR should be benign (do nothing) for those correlators that
        do apply the correction prior to reading the data into AIPS.
        Note that you can always run ACCOR and look at the SN table
        produced with PRTAB or SNPLT to see if it was benign or not."
        Moved nowhere.

13110.  March 14, 2010              FITLD                Eric
        Changed POPSDAT and NEWPARMS to add adverb ANTNAME*8(50).
        Addded this adverb to FITLD and revised code to pick up the
        adverb and set an initial list of antenna names (and therefore
        numbers) for when a new IDI data set is read.  This will allow
        the user some control over antenna numbering but only for FITS
        IDI data sets.  New help file for ANTNAME also.
        Moved nowhere.

13111.  March 16, 2010       self defense in modeling       Eric
        Changed ALGSTB to check for UMATS zero and to fill in the UMAT
        found for the current field with messages.
        Changed UVPROT to drop an odd line that set the max in U to
        the max rotated U.  Added line to set the max rotated U to the
        max input U if the rotation appears to make a short maximum
        (less than 0.9 max input u).
        These alone will solve UVCON.
        Moved UVPROT to patch March 17.

13112.  March 16, 2009             SETGDS               Eric
        Changed it to ignore the warning from CATIO that the UV file
        is currently being written when the header is read.  UVCON
        needs this since the UV file is the output not input file.
        Moved nowhere.

13113.  March 17, 2010              UVCON                 Leonia
        As it was discovered recently, UVCON has not worked with image
        as a model at TST (DEC10) AIPS version. Eric has fixed the
        problem (see the previous fix 13111). Additionally the two first
        inputs at the subroutine SETGS are changed now from zeros to
        more general parameters.
        Moved nowhere.

13114.  March 17, 2010         SPLAT, SPLIT again       Eric
        The alternate reference pixel was computed ignoring the fact
        that the reference pixel was corrected for BCHAN by UVGET.
        Moved to patch this date.

13115.  March 18, 2010             FITLD                  Eric
        Corrected the HI file writing of ANTNAME, making it smarter so
        that as many strings as possible appear on each line.
        Corrected the ANTNAME initial handling to blank fill the
        character array and to drop duplicates where possible.  The
        names that appear in the HI will not be VLBA but the expansion
        of that string.
        Moved nowhere.

13116.  March 19, 2010               ANBPL                Eric
        Added adverb FACTOR to control the plot symbol size.  Corrected
        the top label which used uninitialized pointers in some
        modes.  Corrected the reading of the antenna file to deal with
        missing antenna records (missing antennas).
        Moved nowhere.

13117.  March 23, 2010           UVLOD, FITLD             Eric
        Added per cent line to the count of records flagged for pure
        zero.
        Moved nowhere.

13118.  March 23, 2010             REWAY                Eric
        New task of interest primarily for EVLA.  It attempts to
        determine the data weights from the rms of the spectral
        channels, using ICHANSEL to avoid edge effects, RFI, and real
        line signals.  For the weights to be calibrated, the data
        being fed REWAY must be calibrated or the calibration applied
        while running REWAY.  Note that REWAY can be a substitute for
        a one source at a time SPLIT.  The simple option determines
        the weight in each time, IF, and polarization product
        independently.  Alternatively, the task can average the data
        in time and then solve for the weights on an antenna basis,
        still treating each IF and polarization product independently.
        These antenna weights may be smoothed in time with a Gaussian
        before being applied to the data.
        Moved nowhere.

13119.  March 24, 2010            FITLD, UVLOD           Eric
        Changed counting of all-zero spectra to count all spectra that
        are fully flagged on input and to examine only unflagged
        samples for pure zero.  This the flagged for pure zero count
        will not report spectra that were already fully flagged but
        may include spactra (should they occur) that are partly
        flagged with all unflagged samples pure zero.
        Moved nowhere.

13120.  March 25, 2010              CALIB                Eric
        Changed the data averaging code to make it have 3 modes: full
        vector, vector over channels plus scalar over time, and full
        scalar.  These are CPARM(5) 0, 1, 2 resp.  The mixed mode is
        suitable for channel-independent atmospheric phases causing
        things to jump up and down.  A side benefit of this change is
        that the averaging code is now much cleaner and easier to
        read.
        Moved nowhere.

13121.  March 26, 2010          FITLD, UVLOD            Eric
        Continued the upgrading of these flagging counters - they now
        also separate cross correlations from auto correlations.
        Moved nowhere.

13122.  March 31, 2010        FILLM, INDXR              Eric
        Wrote new subroutine KBOPAC to implement Josh Marvil's method
        of determining opacities.  It uses the old method of seasonal
        and surface weather to figure out a K Band opacity.  Then a
        table translates that to opacity as a function of frequency.
        This is now applied on a per IF basis, especially useful for
        the wide range of frequencies in the EVLA.  Changed FILLM and
        INDXR to use the new method by deafult.  The old method
        remains available by setting BPARM(1) >= 100.
        Moved nowhere.

13123.  March 31, 2010         DLESQR (DELZN)            Amy
        The matrix size in DLESQR was too small such that if someone
        tried to run DELZN on with more than 10 antennas DELZN would die.
        Increased the matrix size from 50 to 500.  DLESQR is just a double
        precision version of LEASQR and all the messages etc., still
        called it LEASQR, changed all those to DLESQR.
        COMLNKed DELZN, ATMCA, RMSD and PBEAM.
        Moved nowhere.

13124.  April 5, 2010             CVEL                   Eric
        The logical variable ISVLBA got lost last September 20 and so
        VLBA shifts were based on an antenna position rather than the
        center of the Earth.  The VLBA correlators rotate everything
        to 0,0,0 to make life easy on CVEL among other things.  For
        other correlators we have to guess to which antenna the
        velocity was shifted inside the correlator.  That guess is
        antenna 1 except for EVN for which it is antenna 2.  NOte that
        any renumbering of antennas makes a mess of this.
        Moved to 31DEC09 this date.

13125.  April 5, 2010          UVLOD, FITLD             Eric
        Changed pure zero message to have nothing come out if there
        were no pure zero of any sort.  Put number flagged in HI.
        Moved nowhere.

13126.  April 6, 2009           VPLOT                  Eric
        Made code to plot scan breaks in the data.  APARM(8) > 0.
        Moved nowhere.

13127.  April 6, 2010          INDXR, FILLM               Eric
        Added EVLA Memo 143 to help files.
        moved nowhere.

13128.  April 7, 2010            CVEL                    Eric
        Changed CVLDOP to antenna number 0 to imply center of Earth
        not the Common variable ISVLBA.  Changed CVEL to set up
        antenna number to CVLDOP based on array names - then consult
        user adverb APARM(10) to override if set to 1, 2, or 3.
        Moved nowhere.

13129.  April 8, 2010             INDXR                  Eric
        Discovered that the AGAINS array in memory allowed only 8
        bands whilst the lower read routines returned band numbers
        1-10.  This led to troubles for P band (using Q values) and Q
        band for antennas that did not have any values of their own.
        Also discovered that the band ID routine would never return
        KA band but used Q instead so KA had the same troubles as Q
        and used Q band values.
        Moved to 31DEC09 this date.

13130.  April 8, 2010            INDXR                  Eric
        Changed the antenna gain application routines to use the
        generic antenna gain whenever an antenna-specific gain is not
        available for a particular antenna.
        Moved nowhere.

13131.  April 9, 2010             ANFIND                Eric
        Added new spelling for a bunch of antenna stations there is a
        rogue program somewhere named MK3IN that uses different
        station names than everyone else and that did not get the
        message about the handedness of AN files.  Added names to
        ANCHECK.001 RUN file also.  Also changed ANREFM so that it
        sets XYZHAND='????' if it recognizes nothing.
        Moved nowhere.

13132.  April 9, 2010            MK3IN                    Eric
        I did not fix the handedness of the AN file.  The comments
        make it clear that the internal system is left handed so fixed
        the writing of the AN file to reverse By.  Changed XYZHAND
        from blank to RIGHT.
        Moved nowhere.

13133.  April 10, 2010      CASA's WX tables              Eric
        CASA messes up at least two column labels and the format of
        the time column.  Put extra code in WXINI and TABWX to detect
        these failings and work around them.
        Moved nowhere.

13134.  April 12, 2010           WETHR                  Eric
        This task does not use subroutine TABWX for good reasons.
        Made change in code to detect the wrong time format (signaled
        by WXINI) and work around it.
        Moved nowhere.

13135.  April 12, 2010            BPLOT                  Eric
        Added some counters to avoid having the task pause when DOTV
        true and the last plot has appeared.  In some cases, e.g. a
        limited list of ANTENNA, it did not know previously that it
        was done.
        Moved nowhere.

13136.  April 12, 2010            PRTAN                 Eric
        Added option DOBTWEEN to ask for a second display of antenna
        locations.  The locations displayed the second time are wrt
        the average of the antenna locations in the file or for the
        EVLA wrt the traditional array center used withe the VLA in
        FILLM.  The option is ignored for old VLA data sets.
        Moved nowhere.

13137.  April 13, 2010             POSSM               Eric
        Made it smarter to lower NPLOTS before it starts if there are
        fewer per page than requested.  Located a number of places to
        keep track of times better so that even with non-zero SOLINT
        the task is likely to know when it is completely done and so
        not ask about continuing to the next page.
        Moved nowhere.

13138.  April 14, 2010              REWAY              Eric
        Found three things to fix: (1) the weight application routines
        did not check whether the data were previously flagged and
        effectively unflagged them.  (2) the antenna-based fitting
        routine needed to be fed magic blanks for baselines lacking
        valid data rather than 0 so the 0's were believed to be real.
        (3) the aparm values were not written to the HI file.
        Moved nowhere.

13139.  April 20, 2010           DOUVCOMP                 Eric
        Changed POPSDAT.HLP to make DOUVCOMP start -1.  Edited the
        help files for DOUVCOMP, UVLOD, FITLD to add more negative
        information about DOUVCOMP.
        Moved nowhere.

13140.  April 21, 2010             BPASS                  Eric
        The call sequence to FRQUPD was not corrected last year in
        this task.  Has no VLB person run BPASS?
        Moved to 31DEC09 this date.

13141.  April 21, 2010           VPLOT                   Eric
        Found bug in which the pointer for the first sample gets
        overwritten and so the first sample is plotted somewhere else
        if at all.  Upped all the buffer parts by 10 time samples and
        now it does not happen.  Fixed units for weights.
        Moved nowhere.

13142.  April 21, 2010           UVFLG                    Amy
        Fixed flagging for shadowing.  The hour angle was being
        misscalulated because the station longetude was being used
        instead of the array longitude.  Also added a 10 second
        the end time used for the shadowing.
        Moved nowhere.

13143.  April 22, 2010             FRING                  Eric
        This real*4 time business is a pain.  Changed handling of scan
        start and stop to round outwards.  There was some finite
        chance that records would occur 1.1 millisec past the apparent
        end of scan and so make a second solution of poor S/N.
        Moved nowhere.

13144.  April 22, 2010             REWAY                  Eric
        Added option to smooth baseline-based weights.  Add control
        over type of smoothing and to ignore pts > n sigma in
        smoothing.  Added flagging of weights < or > set limits.
        Moved nowhere.

13145.  April 23, 2010            REWAY                  Eric
        Correct help file - things are done on RMSes not weights
        and the conversion to weights only occurs at the end.
        Moved nowhere.

13146.  April 23, 2010           VLA.GAINS            Brian Butler
        Updated the VLA antenna gain curves with new values for
        X, K, KA, and Q bands.  Fitting was done by Rick Perley.
        Moved nowhere.

13147.  April 23, 2010           EVAUV                Eric
        Changed Fortran and help to get
        1. Added RPARM(30) output results array
        2  Drop CMODEL - means sub-images not supported, CC preferred
        3. Added list of plots in help
        4. Improved error message strings
        5. DFT modeling required a second BUFPUT to put the data back
           in the pseudo AP - it was dividing into the subtracted data
           rather than the original data
        6. Find max-min of subtracted and divided over n sigma with
           n=8 for subtracted and 24 for divided.  Was n=3 for both.
        7. If value exactly matched the peak, changed hitogram bin
           number by 1 so that not counted as overflow.
        8. Call MADDEX only when DOTV false - it was creating phantom
           PL files in the header
        9. Plots of subtracted vis and gains made square or symmetric
           if they are naturally nearly so and extend outward a
           little.
        10. Plot gain - 1 rather than gain.
        11. Advance pointer through I/O buffer.  It was replotting the
            same point many times and then skipping much of the data
            when reading subtracted and divided data sets for
            plotting.
        12. Move print of #bad, average bad, etc to before GFINIS
        13. Branch out on user request from plotting on TV.  It would
            not stop otherwise despite what the prompt said.
        14. Plot values of mean and rms of image on the image
            histogram plots.
        15. Add solution for peak of histogram in plot routine so that
            the plotted fit would look right - i.e. match the
            histogram.  Previously it plotted a Gaussian of correct
            width but with too large scale so it looked like it did
            not fit.
        16. Fix axis labeling decision code to allow a max of 8 ticks
            rather than 9 which matches the assumptions elsewhere.
            The Y axis label could fall off the left sometimes.
        Moved nowhere.

13148.  April 26, 2010          CALCODE                  Eric
        Added the EVLA translation table to CALCODE.HLP.
        Moved nowhere.

13149.  April 26, 2010           INDXR                   Eric
        Added counters to determine if the data times are in the same
        range as the WX table times.  For when the WX table is messed
        up by the EVLA or casa.
        Moved nowhere.

13150.  April 27, 2010         UVLOD, FITLD              Eric
        Made sure that apparent RAs are positive.
        Moved nowhere.

13151.  April 29, 2010          REWAY                    Eric
        Added a new algorithm which seems preferable to the
        antenna-based weights one.  If APARM(1) > 0, then find weights
        using a rolling buffer containing APARM(1) times.  All times
        in the buffer are used in the robust rms fit and the resulting
        rms is assigned to the records/time of the middle of the
        buffer.  The first and last APARM(1)/2 records also get the
        value assigned to the middle at that point so that the same
        number of samples go into each average.  Change of source name
        or excessive time difference (APARM(8)) determines scan
        boundaries.  The antenna-based algorithm is now run as
        APARM(1) < 0 and is thought to be less interesting.
        Moved nowhere.

13152.  April 30, 2010               SNPLT                Eric
        When plotting various X axis types like elevation, it was
        possible for the X value to be magic blanked.  The task did
        not test for this and so had axis values of 3140....
        Moved nowhere.

13153.  May 1, 2010               REWAY                   Eric
        Added a second place to count times in the new method.  The
        dynamic arrays were way too small for the rms smoothing and
        flagging and so the attempt to free the dynamic memory aborted
        the task.  Added a counter and better test - data already
        flagged was counted as flagged by the smoothing and clipping.
        Moved nowhere.

13154.  May 2, 2010               VPLOT                  Eric
        Discovered that its idea of the total number of plots assumed
        that all channel and IF plots were present.  It did not
        attempt to plot the missing but it did not know that it was at
        the end unless the end happened to fill a page.  Made a much
        more complicated count of total number of plots - matching the
        decision about whether to plot or not.
        Moved nowhere.

13155.  May 2, 2010              REWAY                   Eric
        VERY GOOD TASK for finding questionable data.  Fixed the
        smoothing ocde to not include samples exceedng the allowed
        weight range while smoothing.  This makes it also exclude
        already flagged data (weight 0) also.  Added progress messages
        every 100000 vis records - 50000 for the floating buffer
        method.
        Moved nowhere.

13156.  May 4, 2010           REWAY                    Eric
        Rearranged the APARM(i) sequence.  Changed default sigma
        cutoff to 4, added a cutoff based on the overall average and
        the sigma from there with difeault very large.  Added the
        option to write an FG table on the input file based on the
        cutoffs.  Put the final statistics about flagged records
        and Real/Imag > 1.5 in the HI file along with all adverbs.
        Made the antenna-based method always smooth by at least 1
        second so that cutoffs may be applied.
        Moved nowhere.

13157.  May 5, 2010              FRING                  Amy
        FRING would die of a segmention fault when clean component
        models where used.  This was because FRING had an internal
        subroutine (CHNCOP) with the same name as an external subroutine
        which was called by UVMDIV with a call sequence that did not work
        for the internal version of CHNCOP.  Changed the name of FRING's
        internal CHNCOP to CHNCPY.
        Moved nowhere.

13158.  May 5, 2010         LGEOM, HGEOM, PGEOM          Eric
        Changed these old chstnuts to use dynamic memory to put the
        entire input image plane in RAM.  They still lose pixels to
        edge and blanked pixel expansion from the Everett
        interpolation, but they no longer lose a lot of the image to
        memory limitations.
        Moved nowhere.

13159.  May 5, 2010               TVWIND                 Eric
        Changed the roam window setting routine to try to maximize
        usage.  It was doing 3x4 frames for a 4096x4096 image when 4x4
        was available.  Corrected the ROMODE format described in help
        files for TVROAM and ROMODE.
        Moved nowhere.

13160.  May 5, 2010            VPLOT and friends        Eric
        Changed VPLOT, ANBPL, CLPLT, CAPLT, and UVPLT to have adverb
        XYRATIO with default to fill the TV on DOTV true and default
        1.0 for plot files.  Changed INPUTS section of VPLOT and ANBPL
        to list the BPARM(1) and (2) options as is done with UVPLT.
        ANBPL had residual code which messed up defaults and did some
        scaling that was incorrect (was for u,v,w).
        Moved nowhere.

13161.  May 5, 2010                REWAY                   Eric
        Changed help and fortran: if OUTFGVER <= 0, write no flag
        table.  If OUTFGVER ends up = FLAGVER, write message and
        change OUTFGVER to make a new file in order to avoid a serious
        gotcha (the data are read twice and must use the same FG table
        whilst reading).
        Moved nowhere.

13162.  May 6, 2010          TV SERVERS                  Eric
        Shortened the title used for XAS by UNIXSERVERS and XASERVERS
        so that one can see the essential characters in icon
        displays.
        Moved nowhere.

13163.  May 6, 2010              POSSM                   Eric
        Improved the label of LOG10 plots to include the BPARM(5)
        scale.  Fixed inputs section of help to admit to BPARM(5).
        Changed help description - which was already there - to add a
        suggestion that it be set to an integer.
        Moved nowhere.

13164.  May 6, 2010             VPLOT                    Eric
        Add plot type 22 = log(amplitude) and allow -22 to do
        log(amplitude) and phase.
        Moved nowhere.

13165.  May 6, 2010              REWAY                   Eric
        Clarified the WT table as an extension file in the help.
        Moved nowhere.

13166.  May 6, 2010           TVFLG, SPFLG               Eric
        Changed GRIDTB formats that report number of points included -
        I8 is no longer adequate!  Changed to keep track of max source
        name length and use that in interactive displays.  Fixed
        formats in SPFLG's gridding routine also.
        Moved nowhere.

13167.  May 10, 2010       SAD, JMFIT, MFPRT                 Eric
        (1) Clarified the explanation of the mark characters in the
        help and added outside primary beam mark information.  In
        Fortran, changed ( ) surrounding the peak flux uncertainty to
        ! ! when the object is outside the reliable part of the
        primary beam.
        (2) Changed PMFC.INC, MFINI.FOR to allow for 2 more columns to
        hold the primary beam correction factor and the bandwidth
        smearing correction factor.  Changed SAD, IMFIT, JMFIT to fill
        in these factors if computed in the task.
        (3) Changed MFPRT adding an adverb to scale the fluxes by
        these factors when they are present in the MF Table and fixing
        the task to allow the 41 columns plus column 42 for velocity.
        Mostly the # columns was a parameter but 2 places at least
        used a hard coded 40.
        Moved nowhere.

13168.  May 10, 2010                MCUBE                    Eric
        Clarify the wording in the help file a little.
        Moved nowhere.

13169.  May 11, 2010             RNXUPD                  Eric
        The automatic NX table writer did not recognize gaps of 1
        second as gaps and so did not do the right thing for EVLA
        data.  Changed it to slightly less than 0.2 sec for gap
        recognition.
        Moved nowhere.

13170.  May 11, 2010             LISTR                   Eric
        Changed the LIST function to forgive and deal with the absence
        of NX and SU tables.  A SCAN listing of single-source files is
        also desirable.
        Moved nowhere.

13171.  May 13, 2010          FITTP, FITAB                Eric
        Upgraded the data set not found message to show catalog number
        range (when there is one) and be less opaque as to its
        meaning.
        Moved nowhere.

13172.  May 19, 2010           UVGLU, ALLTAB              Eric
        Found that UVGLU was copying the NX table from the input file
        to the ouput even though it would not necessarily be correct.
        Corrected UVGLU to comput NX tables on the fly and changed
        subroutine ALLTAB to never copy an NX table.
        Moved nowhere.

13173.  May 20, 2010             VLANT                   Eric
        Corrected code to handle antenna station names like N04 in the
        baselines.evlais files as well as in the antenna files.  Put
        checks in for date loops - VLA ends with 2010, EVLA starts
        with 2010.  Put VLA.ant.2010 in $AIPSTARS since it is
        complete, we are now working on EVLA files.
        Moved nowhere.

13174.  May 20, 2010                BPASS                  Eric
        Changed some of the confusing meaning of BPASSPRM(5).  Now
        +1 means no channel 0, 0 means record-by-record channel 0 in
        amp and phase, -1 means record-by-record but only in phase,
        and -2 means amp and phase using the time averaged
        visibilities.
        Moved nowhere.

13175.  May 21, 2010               ANBPL                 Eric
        The scaling was not correct for weights since it started with
        PMIN=1000 which may be too low for the min weight.  Changed to
        large numbers to avoid this issue.  Also squeezed plot closer
        to top of each panel.
        Moved nowhere.

13176.  May 21, 2010            QEDIUTIL                 Eric
        The max/min routine had some funny fixup code when the range
        was small.  Changed it to allow rather small ranges.
        Moved nowhere.

13177.  May 24, 2010                FARS                  Leonia
        Add convolution of the found clean components. The convolution
        is carried out under control of:
        APARM(7): convolve or not convolve;
        Aparm(8): convolve using Re of RMTF or Gaussian as the
                  convolution function;
        Aparm(9): The full width of the used Gaussian.
        Moved nowhere.

13178.  May 25, 2010             REAMP                   Eric
        Changed it to have CPARM(i) scale subarray i - so it is no
        longer a pure FUDGE clone.
        Moved nowhere.

13179.  May 26, 2010               ANREFM                Eric
        Changed it to be tolerant - but with a warning - about AN
        tables missing expected columns.  Lots of link edits.
        Moved nowhere.

13180.  May 26, 2010            RLDLY                   Eric
        NEW TASK - solves for the delay difference between the R and L
        polarizations.  This is needed to fix slopes in the phase in
        RL and LR.  This will proplace the great kludge known as
        VLBACPOL eventually - after wider testing.  The REFANT must be
        specified but it may be any antenna, not just the highest or
        lowest in the data.
        Moved nowhere.

13181.  May 27, 2010            FARS                      Leonia
        Small correction of the May 24 change
        Moved nowhere.

13182.  May 29, 2010        NX table writing          Eric
        This is tricky to get right.  Changed DRNX.INC to include
        RNXEPS the min time interval to count as a gap between records
        in the same scan in days.  Also renamed NUMANT to RNXANT to
        avoid conflicts with other includes.  Changed RNXINI to set
        RNXEPS AND RNXANT and RNXUPD to use RNXEPS rather than the 0.2
        sec TEPS it had before.  Changed RNXUPD and RNXCLS to use
        RNXANT rather than NUMANT.  This allows a calling task to mess
        with RNXEPS between RNXINI and the first RNXUPD call.  Changed
        UVAVG to do just this since it knows the normal record
        interval.  Changed RNXUPD to require 2 gaps before deciding
        for sure what the real scan break gap might be.
        Moved nowhere.

13183.  May 29, 2010             INDXR                 Eric
        Changed it to use the code from RNXUPD to find the normal and
        scan break gaps in the data when CPARM(10 = 0.
        Moved nowhere.

13184.  May 30, 2010             PLOTR                 Eric
        Added option of fitting orthogonal polynomials to the sets of
        data being drawn.  Up to 8th order is allowed but it may not
        be possible to find orthogonal polynomials for such high
        orders.
        Moved nowhere.

13185.  May 31, 2010               RSPEC                 Eric
        NEW TASK: plots spectrum of rms noise as a function of channel
        much like ISPEC but the noise rather than the signal.  It has
        a median statistic approach and the more normal robust rms
        approach with a conservative and an agressive form.
        Moved nowhere.

13186.  June 1, 2010         EXTLIST, PLGET            Eric
        Made a code number for RSPEC (34).  Added it to the list in
        AU2A for PLGET and corrected the number of adverbs for a
        number of tasks.  Changed AU8A (verb EXTLIST) to recognize
        RSPEC and to have more adverbs for PLOTR.
        Moved nowhere.

13187.  June 2, 2010             QEDIUTIL               Eric
        I mistook the units in some of the data - it really is 1.0e-9
        sec rather than 1 ns and some strange very small unit for
        rates.  Changed the min-max routine again to take data type
        into account.  The previous problem was an inability to blow
        up a small range and that should now be fixed for delays and
        rates also.
        Moved nowhere.

13188.  June 8, 2010             FARS                    Leonia
        Add residuals (having subtracted the complex clean components)
        to send to the output. Help file is updated.
        Moved nowhere.

13189.  June 21, 2010            UVLOD, FITLD            Eric
        The computation of apparent coordinates from epoch coordinates
        was failing in the case of FITAB-written files because the SU
        table occurred before the observation date was known.  Moved
        the call to the end at which time it is known.
        Moved nowhere.

13190.  June 21, 2010         freq smoothing with cal       Eric
        To save time, the low level routines DATCAL, DATBND, and
        DATPOL only calibrated the channels BCHAN to ECHAN.  They must
        calibrate this range plus a smoothing support size in both
        directions.  Corrected them to do this.  Why has this not been
        noticed in 20 years????  Changed UVGET to init these as BCHAN
        and ECHAN while SETSM will alter them if smoothing is being
        done.
        Moved nowhere.

13191.  June 22, 2010           FARS                     Leonia
        Correct the small error near the precise definition of the
        amplitude maximum.
        Moved nowhere.

13192.  June 23, 2010           CookBook                 Eric
        Put back the draft of Appendix E with the Table of Contents
        and Indexes updated.  Did html and COOKBOOK.PDF also.
        Moved nowhere.

13193.  June 28, 2010    Image Scaling and Clean beams       Eric
        In a data cube, the planes are made each with its own Clean
        beam to obtain best resolution at least in many cases.  So we
        need to (a) keep track of all the Clean beams used and (b)
        change the scale of all the planes to be in the units of Jy
        per Clean beam in the header rather than the natural Clean
        beam.  Thus
        CGINI     New Table for Clean Beams: init
        TABCG     New Table for Clean Beams: I/O
        TABLEUTIL New OCGINI and OTABCG for OOP access.
        IMAGR     Add HDRBEAM keyword into Clean facet objects
        QCLEAN    Add CLSCAL and CLCGEX subroutines to un-scale or
                  scale each plane by the ratio of the actual Clean
                  beam to the header clean beam.  The latter also adds
                  a line to the CG file at each plane.  Local common
                  holds HBMAJ et al, init on first CLNINI call.  Set
                  on first output image plane or when product type
                  changes.
        WRPLAN    Add a SCALE to the call sequence and scale the
                  output image plane.
        MCUBE     Pick up the input Clean beam areas and use ratio to
                  scale output plane(s).  Add subroutine to write one
                  row of an output CG table for each plane written to
                  the output cube.
        FQUBE     Corrected oversight - make sure that the output has
                  a FREQ axis - FQUBE requires it on a second
                  execution.  Like MCUBE for scaling and writing CG
                  table.
        Moved nowhere.

13194.  June 28, 2010          TVFLG, SPFLG             Eric
        Write number of FG records written to history file even if
        details are not written.
        Moved nowhere.

13195.  June 28, 2010             CONVL                Eric
        Changed Fortran and comments in the help file.  It now reads
        the CG file if present (and FQ file to get freq to get CG
        entry) and uses that Clean beam to determine the Gaussian to
        use in convolving the image.  The result is a cube that is
        truely all at the same resolution unlike what we had before.
        What we had before were planes at different resolutions both
        before and after CONVL or image residuals at different
        resolutions and intensity scales when the Clean components
        were restored with a forced BMAJ.
        Moved nowhere.

13196.  June 29, 2010           AIPSLetter               Eric
        Put back the June 30 AIPSLetter
        Moved nowhere.

13197.  June 29, 2010        CONVL, MCUBE, FQUBE         Eric
        CONVL was limited in the ability to find CG entries by the
        accuracy of frequency computation.  Changed it in CONVL,
        MCUBE, and FQUBE to try to be more accurate.  Also made the
        search of the CG table for an entry have a second try with a
        more lenient error allowance.
        Moved nowhere.

13198.  June 30, 2010           UVUTIL                   Eric
        Changed U2IDES so that output images will have frequency
        reference pixel 1.0.  This makes the header frequency and the
        header Clean beam be for the same frequency.
        Moved nowhere.

13199.  July 1, 2010           UVFLG                   Eric
        Added option APARM(7) to control the number of INFILE flags
        printed and fixed up that printing to include antennas, IFs,
        and times as well as the reasons.  Improved wording in help
        file in other options.
        Moved nowhere.

13200.  July 2, 2010            medians                Eric
        Bryan Butler found a selection algorithm by Niklaus Wirth in
        his book "Algorithms + Data Structures = Programs" p 84 that
        finds the Kth ordered element on an array.  I have written it
        into a file called MEDIAN with a function MEDIAN that calls a
        function KWIRTH with appropriate arguments.  It turns out that
        this is very much fater than a full sort with RSORT for this
        function.  Changed to use the new MEDIAN:
        RSPEC    Use the new MEDIAN.  Also make BLC(1,2) to TRC(1,2) a
                 region of exclusion in finding the rms.  BLC(3-7) to
                 TRC(3-7) is still an inclusion region.  Changed
                 wording in the help file.
        REWAY    Added OPTYPE MEDI and MEDR to do simple and robust
                 method with MEDIAN as the statistics finder.  Changed
                 counters to separate Real/Imag > 1.5 from Imag/REal >
                 1.5.
        UVPHAS   Use the new RSORT.  One of the two uses took the 3/4
                 point in a descending array and called it the median
                 coherence - it now does the correct median (1/2
                 point).  Used by task PHASE.
        FLAGR    Changed MEDIAN function to MEDIUN and have it call
                 new MEDIAN.
        FINDR    Changed MEDIUN to be MEDIAN and dropped local copy.
                 Changed local MEDIAN to MEDIUM and have it call
                 MEDIAN rather than RSORT.
        CLCAL    The routine that applies an SN table to a CL table
                 did a number of medians which are changed to use the
                 new method.
        DTCHK and MWFLT were not changed.  Both use several points in
        the sorted array so a sort is probably still the way to go.
        DTCHK is not used and MWFLT has a wide range of options that
        use various aspects of the sorted array.
        Moved nowhere.

13201.  July 5, 2010            UVHGM                   Eric
        For some reason, the fancy fitting routines sometimes think
        that the arrays are orthogonal.  Added a simplistic mean and
        rms fit to use in such cases.
        Found the reason for the failure on Intel 64-bit compilations:
        an array was improperly declared (3,3) when it should have
        been (14,3) given the other probably excessive parameters in
        the task.
        Moved nowhere.

13202.  July 6, 2010      DOBAND, UVPRT                  Eric
        Changed BPGET to be more forgiving when interpolating
        bandpasses.  If one of the 2 bandpasses is good in at least
        some channels and the other is fully blanked, then the good
        one will be used much of the time.
        Changed UVPRT to assume scaling based on adverb DPARM much
        like PRTUV rather than finding it on its own.  DPARM(1) < 0
        still orders it to find the scaling.  It was taking too long
        to look at EVLA data.
        Moved nowhere.

13203.  July 6, 2010            SPLAT                  Eric
        Discovered that the local version of RNXUPD had not been
        upgraded when it was changed May 29.  In particular
        NUMANT(subarr) has become RNXANT(subarr) and so the compiler
        got upset.
        Moved nowhere.

13204.  July 7, 2010           LWPLA, PLCOLORS             Eric
        Mention procedure TVCOLORS apropos PLCOLORS in the two help
        files.
        Moved nowhere.

13205.  July 7, 2010          Plot tasks                   Eric
        Changed:
        AU2A     Changed number of adverbs for UVPLT, VPLOT, ANBPL,
                 CLPLT, and added CAPLT to lists (verb PLGET).
        GINIT    Added RSPEC and CAPLT to comments
        AU8A     Verb EXTLIST - corrected parameter addressing for
                 UVPLT and VPLOT.  Corrected number parameters also
                 for CLPLT and ANBPL.  Changed axis type lists to have
                 separate lists for VPLOT, UVPLT, and CLPLT.
                 Added CAPLT to CLPLT with minor differences on IFs.
        CAPLT    Changed plot type code from 22 (CLPLT) to 35.
        CLPLT    Changed Number parms to 306 (305 was wrong).
        Moved nowhere.

13206.  July 8, 2010         ANREFM troubles               Eric
        DBCON with DOARRAY = 1 could mess up the input headers when
        the AN file needed reformating.  Changed:
        LUNTMP   New function routine to return an available LUN.
        RMEXT    Use LUNTMP not LUN=28.
        ANFIND   Add 'MWA' as a known array
        ANREFM   Do not use the provided CATBLK since it may have been
                 revised on us.  Get a safe one from CATIO for
                 creating corrected AN files.
        Moved to 31DEC09 July 9.

13207.  July 8, 2010        copy BP tables                Eric
        Changed BPFSEL and local copy of it in UVDEC.  They were
        deleting partly flagged (one polarization, not other) BP table
        records.  In fact one must keep even fully flagged solutions
        or the application routines will behave differently after a
        copy.
        Moved to 31DEC09 July 9.

13208.  July 9, 2010             REAMP                    Eric
        Changed adverbs so that PBSIZE gives up to 64 scaling factors.
        OPTYPE selects whether these are by subarray or by IF.  If
        they are by subarray, you may select one IF to apply these
        numbers or all IFs.  If they are by IF, ten you may select one
        subarray or all to apply the factors.  All IFs and subarrays
        are copied in any case.
        Moved nowhere.

13209.  July 12, 2010           CALIB                   Eric
        Added more gain normalization options.  If CPARM(2) = 2,
        the normalization is different for different subarrays.
        CPARM(2) = 3 means also separate normaliztion by IF.  And
        CPARM(2) = 4 means separate R and L additionally.
        Moved nowhere.

13210.  July 13, 2010       Spectral indices              Eric
        Spectral index by itself does not require careful definition,
        but when curvature terms are added this changes.  We now
        define the reference frequency as 1 GHz and
             R = log10 (freq/1.e9)
             log10 (T/T_0) = a R + b R^2 + c R^3 + ...
        where a is the usual spectral index and b,c,... are the
        curvature terms.  T_0 is T at 1 GHz.  This requires changes:
        SPIXR     Changed to fit this formula rather than base e with
                  some reference frequency as the reference
        PBUTIL    Changed to interpret the spectral index and
                  curvature image by this formula.
        UVMOD     Changed to use this formula for spectral indices but
                  still to interpret the component fluxes as being
                  those at the reference frequency.
        Changed help files for SPIXR, UVMOD, IMAGR, and OOSUB to point
        out this units change.
        Moved nowhere.

13211.  July 13, 2010           BPASS spectral indices      Eric
        Using the above definition, created new adverb SPECURVE which
        is dimensioned 3 but you will probably only use the first
        value (SETJY only has the equivalent of SPECURVE(1) for the
        models of 3C286 and friends).  Added this adverb to BPASS and
        made it apply base 10 referenced to 1 GHz spectral index and
        curvature to the bandpass solutions.  Note that they may be
        normalized after that under control of BPASSP(10).  Changed
        help files for BPASS, POPSDAT, and new SPECURVE and run file
        NEWPARMS.
        Moved nowhere.

13212.  July 13, 2010           UVRFI                    Leonia
        UVRFI has had an ability to clean RFI components using only
        one or two components with GAIN=1. Now inputs parameters:
        GAIN and FLUX are added to allow making the CLEAN with
        any values for these parameters. It may improve the RFI
        mitigation at some cases.
        Moved nowhere.

13213.  July 14, 2010           CLIP, FLGIT             Eric
        CLIP:  Examined the APARM(7) option and changed it to extend
               APARM(7) channels from the offending channel.  It does
               this even if that takes it outside BCHAN-ECHAN.  The
               flag all channels if more than APARM(9) are flagged
               really does apply to all channels.
        CLIP:  Help - corrected a reference to APARM(8) whcih should
               now be (9).  Clarified the extent of the APARM(7) and
               APARM(9) options.
        FLGIT: Added BPARM adverb using BPARM(1) to extend a bad
               channel +- BPARM(1) channels and BPARM(2) to flag the
               full spectrum when >= BPARM(2) channels are flagged
               (icluding previously flagged).
        Moved nowhere.

13214.  July 16, 2010           SOUSP                 Eric
        New task: fits spectral index parameters to the fluxes in an
        SU table or in the adverbs.  Plots in log-log and linear forms
        are produced optionally.  The SPECINDX and SPECURVE adverbs
        are returned for use in BPASS.  A new subroutine DFITPN was
        made from the single-precision POLYIN - it mostly was a simple
        change to double precision everywher but a weught array
        argument was added.
        Moved nowhere.

13215.  July 19, 2010            install.pl               Eric
        1) The question after Screen 11 tried to go to SCREEN_12 which
        does not exist.  Changed that to Screen 11 and allowed N and n
        as answers to go to it as well as B and b.
        2) Changed SCREEN_11 to leave out advanced when binary
        install.
        Moved nowhere.

13216.  July 20, 2010            BPASS                    Eric
        The spectral index scaling did not take into account that a
        spectral index was already applied at the reference frequency
        of each IF by the fluxes in the SU table.  We need thus to
        scale by correction(i,IF) / correction(i0,IF).
        Moved nowhere.

13217.  July 20, 2010             POSSM                  Eric
        Corrected yet another way in which it could exit when the user
        asked it to but without clearing the read status.
        Moved nowhere.

13218.  July 21, 2010            BPASS                   Eric
        Changed it to insert the full spectral index curve for
        known sources - 3C286, 3C48, 3C147, and 3C138 AND 2C295.
        This may be prevented by setting SPECINDX to something other
        than 0 and 0.0 will be used iff SPECINDX < -5 or > +5.
        Moved nowhere.

13219.  July 21, 2010            SETJY                   Eric
        Add the SPECINDX and SPECURVE adverbs.  They are used in
        OPTYPE blank mode along with ZEROSP which becomes the flux at
        BIF with OPTYPE ' ' or at 1 GHz with new OPTYPE 'SPEC'.
        Moved nowhere.

13220.  July 22, 2010          HELP CALCODE              Lorant
        Added a few more that are now propagated through the system.
        Moved nowhere.

13221.  July 26, 2010            BPASS                  Eric
        The spectral index correction for the reference channel was
        computed incorrectly (used channel N+1) so the normalization
        of the correction was off.
        Moved nowhere.

13222.  July 27, 2010              PLOTR                Eric
        Moved the orthogonal fitting option to DPARM(i) < 0 and added
        ordinary polynomials with DPARM(i) > 0.
        Moved nowhere.

13223.  July 28, 2010            HGEOM                 Eric
        The dynamic memory change meant that a test on whether
        pointers came out right needed to be changed and it was not.
        This led to asking for dynamic memory 50 times and finally
        dying.  Fixed the test.
        Moved nowhere.

13224.  July 29, 2010             SPECTRAL             Eric
        New scalar adverb added to POPSDAT and NEWPARMS.  Help file
        now written yet - awaiting its use in PCAL.
        Moved nowhere.

13225.  July 30, 2010           SPECPARM                  Eric
        More spectral index parameters in POPSDAT and NEWPARMS.
        Also putbck SPECURVE help file and improved SPECINDX help
        file.  Fixed UVPRT help file so that it would not advertise
        options that do not exist (Real - imaginary and random
        parameter printing).
        Moved nowhere.

13226.  August 5, 2010           TRUEP                   Eric
        A new task to determine the true antenna polarization from a
        data set in which one of the antenna's horn has been rotated
        by a known angle.  This is mainly a task for commissioning
        telescopes but it got lost once and so needs to be in the
        system.
        Moved nowhere.

13227.  August 6, 2010            UVMOD                  Eric
        The July change caused spheroiodal and uniform disk models
        to fail due to a change of variable type in some but not all
        places.
        Moved nowhere.

13228.  August 9, 2010        AN FIND                   Eric
        Updated ANFIND to include WSRT as an array.
        Moved nowhere.

13229.  August 12, 2010          UVLOD, FITLD            Eric
        Added subroutine SUCHCK to change source names as needed
        so that source name is unique in the file.
        Moved nowhere.

13230.  August 15, 2010          New tables                Eric
        Created:
        PDINI    Init new PD (polarization D term) spectral table
                 similer to BP tables.
        TABPD    Read/write PD tables
        CPINI    Init new CP (calibrator polarization) spectral table
                 (I,Q,U,V for all channels and IFs by source)
        TABCP    Read/write CP tables
        CPSEL    Copy CP tables selecting channels, IFs, FREQIDs.
        PDSEL    Copy PD tables selecting channels, IFs, FREQIDs.
        BPSEL    Copy BP tables selecting channels, IFs, FREQIDs -
                 revised version of BPFSEL correcting file closing.
        COPTAB   Add CPSEL, PDSEL, revise BPFSEL
        UVCOP    Add CPSEL, PDSEL, revise BPFSEL
        SPLAT    Add CPSEL, PDSEL, revise BPFSEL
        UVDEC    Add CPFSEL, PDFSEL versions of CPSEL and PDSEL with
                 channel increment.
        Moved nowhere.

13231.  August 15, 2010          Spectral PCAL              Eric
        Changed PCAL.HLP to
        1. Add adverb ICHANSEL so that spectral channel averaging and
           selection may be controlled - previously by all channels.
        2. Add DOMODEL to control whether models are used and whether
           the source Q and U are solved for or held fixed.
        3. Add SPECPARM(4,20) to specify I,Q,U,V spectral indices for
           up to 20 calibration sources.  The I spectral indices are
           used in spectral mode even if DOMODEL is false.  The
           spectral indices of source 1 are also used when PMODEL is
           used even in continuum mode.
        4. Add SPECTRAL to say (> 0) to do a channel-dependent antenna
           D term solution or to do a single solution averaging the
           ICHANSEL selected channels.
        5. Added INTPARM(3) to smooth the UV data after all
           calibration is applied since S/N for a single channel is
           not likely to be adequate.  ICHANSEL is honored by this
           smoothing.
        Changed PCAL.FOR to
        1. Add all the above adverbs and code to honor them.
        2. In spectral mode, dynamic memory is used to make large
           arrays to hold the solutions for the Ds and possibly the
           I/Q/U/V as functions of channel and IF.
        3. The initial subroutine has a UVGET open and close to test
           the data and set a few parameters after which the source
           information and the frequencies (FQ table) may be found.
        4. The INTPARM fuction is set up.
        5. PCLSOU is also called early to get the source fluxes,
           names, etc from the SU table.  It was called rather later
           and repetitively.
        6. The main working routine now has to read a PD table if any
           to get the initial D terms in spectral mode or use those
           read from the AN table in continuum mode.
        7. It now loops over channel just inside the loop over IF,
           including in each loop just enough channels to do INTPARM
           smoothing.
        8. It also copies the source flux array to another variable
           adjusted for spectral index.
        9. There are lots of differences in how the initial values are
           picked up before the fitting routines and saved
           afterwards.
        10. The big change however is to honor DOMODEL and not fit for
           Q and U when using models.
        11. The data are averaged with 2 routines now - PCLAVG for
            continuum and PCLSMO for line modes.
        12. Also lots of minor changes of message levels, indentation,
            GO TOs etc.
        13. Added code to force the reference R to 0.0 (rather than
            5.e-8 which is what came out).  Also code to interpolate
            across channels that were flagged or left out by
            ICHANSEL/INTPARM.
        14. Add new adverbs to HIstory.
        15. To allow option to read existing CP table to use as a
            model channel by channel for the calibrators.
        16. Added QUAL and CALCODE adverbs.
        17. Added code to fit spectral indices to the SU table fluxes
            when SPECPARM is 0.0.
        18. Adde code to delete scratch files that were otherwise
            increasing by 2 with each channel/IF (an old bug but not
            so noticable with only 2 IFs and 1 channel).
        Moved nowhere.

13232.  August 15, 2010          Plot new tables               Eric
        POSSM    Add options to plot PD and CP tables, the latter as Q
                 and I or as Q/I, U/I.  The plot range was implemented
                 by changing the data to be the max plot value or the
                 min plot value.  This causes points that should have
                 been omitted to be plotted as valid and causes lies
                 to be printed if the output option is selected.
                 Fixed the plot routines themselve to omit out of
                 range data rather than lie.  Has local version of
                 SOUFIL which fills the source tables even if all
                 sources are requested.
        BPLOT    Add options to plot PD with antenna number on the
                 Y axis and CP tables (as Q/I, U/I) with source number
                 on the Y axis.  Added XYRATIO with standard
                 defaults.  Added PIXRANGE(2) < PIXRANGE(1) option to
                 self-scale each little plot individually.
        Moved nowhere.

13233.  August 15, 2010        Apply PD table                 Eric
        Changed:
        DSEL.INC   Removed the polarization calibration parameters
        DPDC.INC   New include for old and new pol cal data.
        SELINI     Add include DPDC and init pointers for it.
        UVGET      Clear dynamic memory if DOPOL > 0 and PDVER>0.
        DOPOL.HLP  Values 6,7,8 to be like 1,2,3 but forbid line
                   solution
        POLSET     Add PDPC, get PDVER for DOPOL < 6, drop unused
                   section of code for non-linear solution modes.
                   Make dynamic memory for PD table and read in
                   DTERMS.  Make dynamic memory for continuum or line
                   POLCAL and fill it with AN or PD values in SOLTYP
                   1.
        DATPOL     Changed call seq to xxxPOL routines.  Pix up POLCAL
                   from dynamic memory rather than a fixed memory.
        VLBPOL     DOPOL = 1 or 6 for linear solution.  Pick up DTERMS
                   or the antenna values depending on PDVER.  Moved to
                   POLCAL by copy rather than equivalence.
        ORIPOL     Pick up DTERMS or the antenna values depending on
                   PDVER.  Moved to POLCAL by copy rather than
                   equivalence.
        LXYPOL     Fix error - used 4x4 complex matrix as a 2x16
                   matrix without proper equivalence.  Commented out a
                   section of code that changed POLCAL which was then
                   promptly over-written.  Pick up DTERMS or AN values
                   as needed, copy to POLCAL.
        Moved nowhere.

13234.  August 18, 2010        TVFLG, SPFLG               Eric
        Added option to turn on/off axis labels.  The step wedge is
        labeled if it is on, replacing the X axis (antenna, channel)
        labels.  The time axis is suitably non-linear.  Changed
        Fortran files and help and HLPxxFLG.HLP files.
        Moved nowhere.

13235.  August 24, 2010          PLOTR                   Eric
        Allow UV as well as MA types for the file to which plots may
        be attached.  Changed adverb names to allow up to 30 line
        types.  Changed internal buffers to go to 30 types and 100000
        total samples.  Changed format of "sample label" lines so that
        one may include only those desired, not all 30.
        Moved nowhere.

13236.  August 24, 2010          PD file                  Eric
        The phase difference column must have either 0 or Nchan*Nif
        values in it depending on POLTYPE.  Changed:
        DPDC.INC   Dimension of POLPD is now MAXCIF
        PDSEL      Dimension of PHDIFF is now MAXCIF - must select
                   on channels as well as IFs.
        PDINI      Make size of column 5 depend on POLTYP and curb
                   error message when length 0 expected.
        TABPD      Move copying of PHDIFF into 1st polarization big
                   loop and make it conditional.
        PCAL       Change PD to PHDIFF and set it properly, getting
                   and saving in PD file as well as AN file.  It was
                   not saved in line case previously.
        POLSET     Pick up PHDIFF only when appropriate to POLPD
                   and get the right size
        ORIPOL     Pick up PD and PRREF and PLREF from correct channel
                   in line case.
        POSSM      Dimension of PHDIFF is now MAXCIF
        BPLOT      Dimension of PHDIFF is now MAXCIF
        UVDEC      Select by channel and IF on PHDIFF in PDFSEL
        Moved nowhere.

13237.  August 24, 2010           RLDIF                   Eric
        Added new adverbs DOAPPLY, POLANGLE to POPSDAT and NEWPARMS.
        Added new help file DOAPPLY and POLANGLE and corrected
        SPECTRAL help file.
        Changed Fortran to add a lot of things including a path
        through new routines for line work and continuum with more
        than 1 source.  Added routines to correct the CL/AN/SU tables
        for continuum solutions and BP/PD/CP tables for line work.
        Writing a PLOTR-capable text file was added as well.  The task
        now knows the expected angle for the 4 major sources and can
        be told the angles for all sources.
        Moved nowhere.

13238.  August 25, 2010      Auto NX files             Eric
        Changed the MAXGAP algorithm again to prevent it going under
        one minute in RNXUPD.  Changed SPLAT local version of RNXUPD
        also.
        Moved nowhere.

13239.  August 25, 2010            CALIB               Eric
        Changed some of the remarks about SOLINT in the help file.
        Use of 1 sec SOLINT with data mostly averaged to e.g. 10 sec
        can lead to bad things with the data not at the same times.
        Moved nowhere.

13240.  August 25, 2010           UVAVG                 Eric
        Added option to put out all baselines in an averaging interval
        with the same average time.  The default is to put each out
        with the averaged time for each.  Due to flagging, the
        resulting times will vary and are carefully sorted into time
        order.
        Moved nowhere.

13241.  August 25, 2010              REWAY               Eric
        Changed it to pay attention to the incoming weights when
        APARM(9) <= 0.  It will use the weights in finding the rms
        except for the median methods.  It finds the average weight
        entering the rms and scales the rms by multiplying by square
        root of the average weight (effectively dividing by the
        average expected rms on input).  It is those numbers that are
        smoothed and used to make flags.  Then the incoming data
        weight is multiplied by this change in rms.  If APARM(9) > 0,
        the incoming weights are ignored in computing the rmses and
        ignored in setting data weights on output.
        Moved nowhere.

13242.  August 26, 2010         SCMAP                      Eric
        When HDRBEAM was added, the self-cal tasks were ignored and so
        failed.  Changed QCLEAN to suppress errors messages on the
        parameter named HDRRBEAM and default it properly.
        Moved nowhere.

13243.  August 26, 2010            INQSTR                 Eric
        The subroutine which asks a user for a string limited that
        string to a sensible 72 characters.  Our users are, I guess,
        not sensible.  Changed INQSTR to have an internal string
        length of 256 and to check the string read and return an error
        if the string is longer than the limit requested.
        Changed REBYTE to allow directory names up to 192 characters.
        Changed QEDIUTIL (EDITA, EDITR, SNEDT, SCMAP, SCIMG), TVFLG,
        SPFLG, and IBLED to be understanding about excessive length
        strings and repeat the question.
        Moved nowhere.

13244.  August 26, 2010            POSSM                  Eric
        Fixed typo in Stokes labeling and missing line in inputs
        description.
        Moved nowhere.

13245.  August 27, 2010          POSSM                  Eric
        Changed it to recognize the end of plotting on BP, CP, and PD
        tables so that the last plot gets horizontal tick labels even
        when the page is not filled.
        Moved nowhere.

13246.  August 27, 2010            NOIFS               Eric
        NEW TASK: Converts channels + IFs into only channels.
        Requires the IFs and channels to have sensible frequencies for
        doing this operation and the data had better get calibrated in
        or before this task.  It drops all cal tables except a new
        null CL table.  It averages overlapped channels (weighted) and
        does the right thing with CP tables.  Corrected reformat
        message in CPSEL although this task has local version of
        CPSEL and COPTAB.
        Moved nowhere.

13247.  August 30, 2010           SAD                  Eric
        When the deconvolution found a size too small, it set the
        flux and position of the output CC record to zero, rather than
        the widths and position angle.  Added the right subscript to
        the zeroing.
        Moved nowhere.

13248.  August 30, 2010               UVAVG              Eric
        Added two more averaging options.  GRID will write out the
        averages on a strict grid from time 0 in the data set and all
        baselines from each grid interval will have the time of the
        center of that interval.  GRIT will use the same intervals,
        but each baseline will get the actual averaged time
        appropriate to it.   The time setting was moved ahead of the
        NX table updating since the times greatly affect how that
        routine works.  GRID now applies to BT sorted data if
        specified, otherwise GRIT is used with BT data.
        Moved nowhere.

13249.  August 30, 2010            ATLOD                 Eric
        Changed upper limit to tranlated file name to 256 characters.
        Changed to pass user's input name to TAPIO for file opening.
        The fully translated name could easily be > 48 characters.
        ZTPOPN declared its name variable as *48, should have been
        *(*) although that should not have mattered here.
        Moved nowhere.

13250.  August 31, 2010       CLCOR       Cormax Reynolds / Eric
        For OPCODE 'ANAX', telescopes with EW XY mounts require a
        slightly different geometry in their correction compared to
        altaz and Nasmyth mounts.  Cormac reynolds has provided us
        with this corrected code.  Corrected comment in help file
        about supported mounts on September 1.
        Moved nowhere.

13251.  September 1, 2010            POSSM                Eric
        Changed APARM(1) so the >= 0.0 yields vector averaging.  The
        scalar averaging default is costing lots of confusion.  To get
        scalar set APARM(1) < 0.
        Moved nowhere.

13252.  September 1, 2010            REWAY               Eric
        APARM(5) and APARM(6) can lead to flagging just like APARM(7)
        and APARM(8) but in a data-dependent way.  This effectively
        can provide data dependent defaults for the latter two.
        Tried to improve help file wording.
        Moved nowhere.

13253.  September 1, 2010            PCAL               Eric
        An array effectively changed name while the old name was then
        used as a scalar.  For some reason, numerous compilers allowed
        a loop copying the array by its old name.  The latest Intel
        compiler on Macs caught it.
        Moved nowhere.

13254.  September 2, 2010         FARS                    Leonia
        Add default for CELL. The defalt is
        ~PI/(4*(LAMBDA_max^2-LAMBDA_min^2)). The description of the input
        parameters is improved.
        Moved nowhere.

13255.  September 3, 2010           CATLST              Eric
        The listing routine for MCAT etc had a reasonable upper limit
        of 32000.  That is now being hit so rased it by x30.
        Moved nowhere.

13256.  September 3, 2010           ATLOD              Eric
        Changed it to use JPRECS rather than PRECES since the latter
        claims to be for B1950 only.  This is solely to get the
        apparent positions listed in the SU table.
        Moved nowhere.

13257.  September 3, 2010           FLATN              Eric
        The default INSEQ is 1 which differs from the usual default.
        Changed help file to state this clearly.
        Moved nowhere.

13258.  September 7, 2010          VLARUN                Lorant
        Changed BPASSPRM(5) from -1 to -2 to follow new definition.
        Moved nowhere.

13259.  September 8, 2010           PDVER              Eric
        1. Created PDVER help file and added the new adverb to
           POPSDAT.HLP and NEWPARMS.001.
        2. Moved PDVER from DPDC.INC to DSEL.INC where DOPOL already
           was.
        3. Changed POLSET to examine header for PD versions and set
           PDVER appropriately, including to 0 when there is none or
           DOPOL >= 6.
        4. Changed BPLOT to use INVERS rather than BPVER.
        5. Changed POSSM.HLP to emphasize that BPVER is used when
           plotting BP, BD, PD, and CP tables as well as when
           calibrating UV data.  Added PDVER adverb.
        6. Changed to add PDVER adverb and to have it make a new file
           from PDVER when correcting for the RL differences.
        7. Changed PCAL to read in the highest PD table initially and
           to copy that to the output replacing solutions as
           appropriate with the new ones.
        8. Added PDVER to REWAY.  Changed REWAY so that the output
           files are always uncompressed.
        9. Added PDVER to CALEDIT known parameters
        10. Added PDVER adverb to help and Fortran in:
           AVSPC   CLIP    CORER   DECOR   DIFRL   FLGIT   FLOPM
           FUDGE   LISTR   NOIFS   PHSRF   SHOUV   SPLAT   SPLIT
           SUFIX   TI2HA   TIORD   TRUEP   UV2TB   UVAVG   UVBAS
           UVFIT   UVFND   UVHIM   UVHOL   UVIMG   UVLIN   UVLSD
           UVLSF   UVMLN   UVMOD   UVMTH   UVPRM   UVPRT   UVRFI
           FINDR   FLAGR   MAPBM   RFI     UV2MS
           BLCAL   BLCHN   BPASS   CALIB   CPASS   DEFLG   FRING
           KRING   RLDLY
           BLING   EDITR   IMAGR   OMFIT   SCIMG   SCMAP
           ANBPL   CAPLT   CLPLT   FRMAP   FRPLT   IBLED   SPFLG
           TVFLG   UVHGM   UVPLT   VPLOT   WIPER
        Moved nowhere.

13260.  September 8, 2010           TI2HA                Eric
        Changed it to write a header keyword TIMETYPE='HourAngl'
        in its output and to check its input for this keyword and
        value.  If it find it in the input, it issues a message and
        does a simple copy.
        Moved nowhere.

13261.  September 10, 2010        obit in aips          Eric
        Added BDFLIST and BDF2AIPS to $SYSUNIX and corresponding help
        files.  These stand-alone scripts use Bill Cotton's obit
        package to list an EVLA ASDM contents and to translate them
        into an AIPS file on disk.  These obit programs remain under
        active development so you will have to keep your version of
        obit up to date.
        Moved nowhere.

13262.  September 11, 2010          image models         Eric
        Changed MODFIT and GRDSUB to ask for more AP memory.
        It was not getting enough and so omitting all components from
        a facet!
        Moved nowhere.

13263.  September 11, 2010          FRPLT                Leonia
        The FRPLT has not worked at least with DOSHFT=.FALSE.
        I have fixed it.
        Moved nowhere.

13264.  September 13, 2010          OGEOM                 Eric
        Changed code and help file to retain the reference pixel if
        the output image is the same size as the input image.
        Otherwise, the images are scaled about their "centers" defined
        as NX/2, NY/2 + 1.  The old code divided by the scaling values
        when it should have multiplied when computing the new
        reference pixel.
        Moved nowhere.

13265.  September 13, 2010            Y2K                Eric
        Changed Y2KSAVE and POPSDAT to have MPDIFS(5,20) rather than
        MAPDIF(5,8) as in DDT.  Changed DDTLOAD to use MPDIFS, to
        check for constant output difference image to avoid quitting
        when IMSTAT has no non-zero pixels, to save and check all 4
        image files in HUGE Clean, and to report all check results.
        Computed new master images with Intel 64-bit load modules in
        largish allowed memory.  They are stored in the AIPS ftp area
        FITS/31DEC10.
        Moved nowhere.

13266.  September 13, 2010            LISTR              Eric
        In the new code for 'SCAN' that covers for not having an SU
        table, the codes for OPTICAL/RADIO were switched.
        Moved nowhere.

13267.  September 14, 2010        RLDIF                 Eric
        Found typo type error causing the updated PD table to have
        zero rows.
        Moved nowhere.

13268.  September 15, 2010         UVRFI                 Leonia
        UVRFI has been modifyed a lot during last time.
        This modified version is put in the system. The UVRFI.HLP was
        changed also in acordance of modification of the codes and
        tring to do it more understandable.
        Moved nowhere.

13269.  September 15, 2010        DOPOL                 Eric
        POLSET needs to do all channels surrounding BCHAN to ECHAN
        needed for the spectral smoothing.  Changed BCHAN to BCHANS
        and ECHAN to ECHANS.  UVGET needs to call SETSM before calling
        POLSET as well.  The value MVIS(1) needs correcting after
        SETSM to specify the channels including those needed for
        smoothing rather than just BCHAN to ECHAN.  MVIS(1) does not
        seem to be used for anything much anyway.
        Moved nowhere.

13270.  September 16, 2010       PD, CP              Eric
        The automatic copying was not turned off on these types in
        SPLAT, UVDEC, AVSPC, and UJOIN which do their own table
        copying.  (Subroutine COPTAB does this right for most cal
        applying tasks.)  Put messages in UJOIN and AVSPC about
        discarding BP, CP, and PD tables.
        Moved nowhere.

13271.  September 16, 2010         WIPER                Eric
        Inputs did not get PDVER while the Fortran did - messing it
        all up.
        Moved nowhere.

13272.  September 16, 2010         ANFIND               Eric
        The code asked is ANAME(:3) = 'WSRT' which can never happen.
        So WSRT was still not recognized.  It should be now.
        Moved nowhere - lots of link edits.

13273.  September 17, 2010          QU                  Eric
        Changed FNDPOL, DGINIT, DGHEAD to allow for Stokes 'QU'.
        Changed POSSM to allow for STOKES = 'QU' and 'RLLR' and to
        allow for autocorrelation phase on many more Stokes values
        (those that include Q, U, RL, and or LR).
        Moved nowhere - lots of links.

13274.  September 17, 2010         NOIFS                Eric
        Fixed usage of header blocks - there are 2 here unlike FUDGE -
        one for the multi-IF input and one for the 1 IF output.  The
        header for the NX table and the final vis count was wrong so
        they were lost.  If the final vis count was substantially less
        than the input, bad things happened.
        Moved nowhere.

13275.  September 17, 2010          PCAL                Eric
        If there was no data in a spectral channel, that IF was
        terminated in the solver.  Improved the no data found message
        but the already closed in FTAB messages are too hard to get
        rid of.
        Moved nowhere.

13276.  September 20, 2010          REBYTE               Eric
        Compressed UV data format was forgotten in REBYTE.  This
        caused the imaginary and real parts to be swapped.  Added test
        for this format and a new routine to walk through the buffers
        to deal with it.
        Moved nowhere.

13277.  September 20, 2010          SWAPR                Eric
        New task: swaps real and imaginary to fix the above bug.
        Moved nowhere.

13278.  September 20, 2010         RNXUPD               Eric
        The NX table needs to be updated with all subarrays when a
        later time is being written in a particular subarray.  This
        bug led to an index record being written at the end for times
        much earlier in the file.  This leads to strange things as the
        data moves on to other tasks.
        Moved nowhere lots of links.

13279.  September 20, 2010           BDF2AIPS            Eric
        Added x.doSwPwr=False to turn off application of the switched
        power measurements which are not reliable or understood.
        Moved nowhere.

13280.  September 20, 2010            SPLAT               Eric
        Fixed the local copy of RNXUPD also.
        Moved nowhere.

13281.  September 20, 2010            VBGLU               Eric
        VBGLU ignored the reference channel in the frequency
        computation for the FQ table.
        Moved nowhere.

13282.  September 21, 2010         SAD et al            Eric
        Changed SAD, IMFIT, JMFIT in the special CfA format (DOCRT=-4)
        output for the reference coordinate.  There was very strange
        code in the declination.  It was not right for either positive
        or negative declinations.
        Moved nowhere.

13283.  September 21, 2010        SPLIT, SPLAT          Eric
        When selecting a source to write out, the task did not
        differentiate on CALCODE so that two sources with identical
        names and qualifiers would end up twice in 2 multi-source
        output files (unless CALCODE was specified exactly).  Now
        these tasks can differentiate on CALCODE as well.
        Moved nowhere.

13284.  September 21, 2010        UVLOD, FITLD          Eric
        Changed SUCHCK to change source QUAL to avoid duplicate names
        and to test that CALCODEs match before concluding that the
        name is a duplicate.  The old code renamed sources and had a
        possibility of a pathological happenstance keeping it from
        achieving its goal.  The new code loops to stop this chance.
        Moved nowhere.

13285.  September 22, 2010          DADEVS               Eric
        Changed DADEVS.PL and DADEVS.SH to also read a file
        $HOME/.dadevs.always of data areas that are included
        regardless of host name.  Those with a + in column 1 come
        first in the list, those with a - come after all disks that
        are "required" and those matching the current host name and
        before any matching hosti of da=host1,host2,...
        Moved nowhere.

13286.  September 23, 2010          DADEVS              Eric
        Changed $SYSMAN/aips.l, AIPS.HLP for the above change to the
        logic of DADEVS.  Also prepared LaCook2 for this change (it
        will be putbck when we are ready to putbck other CookBook
        changes).
        Moved nowhere.

13287.  September 24, 2010         SNPLT               Eric
        Added the new SY table to the plot options - can plot
        Pon+Poff, Pon-Pof, PostGain, Pon, Poff, Tsys/Tcal from this
        new EVLA table.  This table is available via obit but the gain
        column is not properly labeled yet.
        Moved nowhere.

13288.  September 25, 2010        Copy image tables         Eric
        A lot of tasks did not copy tables for images.  Besides the CC
        tables we now have FQ and CG tables which are truely needed
        for coordinates and the like.  Changed
        IMAGEUTIL  Make new IMCALT to copy all tables not in DROPTABS
                   keyword.  Much like UVCALT in UVUTIL
        Changed to copy all tables:
        TAFFY   XSMTH   HGEOM   IMFLT   IMLIN   LGEOM   PADIM   SMOTH
        XTRAN   CCRES   FLATN   IMCLP   OGEOM   OHGEO   BLANK   SERCH
        XBASL
        Changed to copy all tables except CCs:
        AHIST   HISEQ   SCLIM   SUMIM   WTSUM   XSUM    CUBIT   FARS
        IMMOD   MATHS   MEDI    MWFLT   NINER   PGEOM   RMSD    SHADW
        PASTE   APCLN   SDCLN   XGAUS
        Changed to copy all tables except CG: CONVL
        Moved nowhere.

13289.  September 27, 2010         TVFLG                  Eric
        Changed GRIDTB to ignore missing data better and only complain
        if none were found by the end.  Previously, if channels 1-8
        were flagged then the grid routine would complain bitterly and
        the task would die even if later channels were present.
        Moved nowhere.

13290.  September 27, 2010           ELINT                Eric
        Improved some formats which had + signs followed by negative
        numbers.  Also fixed the history cards which did not use the
        carefully correct displayed information but instead wrote the
        results as if they were wrt elevation and simple.  Now the
        message line or lines go to the HI file too.
        Moved nowhere.

13291.  September 27, 2010           TRANS                Eric
        The old code could hit disk very badly taking 3 minutes to
        change XYV to VXY followed by 120 minutes to restore the image
        to XYV!  Changed it to use vast memory and to read as many
        planes as possible into memory to reduce the I/O count and
        raise the I/O size in row swaps.  The vast memory is limited
        by the maximum allowed AP size so it can be controlled by the
        user.
        Moved nowhere.

13292.  September 30, 2010          TVHELIX                Eric
        NEW VERB: TV OFM scheme due to Dave Green (MRAO) implements a
        helix in color space so that the perceived brighteness is
        monotonically increasing.  The verb differs from Dave's
        version in the choice of which button or cursor position
        controls what.  Changed AU6, POPSDAT, NEWPARMS.001 and added
        a new help file.
        Moved nowhere.

13293.  October 1, 2010        FILLM, VLA.GAINS            Eric
        Changed VLA.GAINS to make the end time for old VLA gains
        20091231 instad of 2100xxxx.  Some VLA gains were being used
        instead of the EVLA ones for antennas not in the last flux
        calibrator run.  Changed FILLM to use the default antenna
        ("0") rather than 1.0 for the gains if there was no entry for
        a particular one in the desired date range.  This fix was made
        in INDXR on April 8, 2010.
        Moved nowhere.

13294.  October 3, 2010          CLEAN                   Eric
        CLNOPN and CLNCLS both set MSGSUP and neglected to reset it or
        was tardy in doing so.
        Moved nowhere.

13295.  October 3, 2010              FRING               Eric
        Put in messages about the integration time found in the data.
        It is getting some very short ones for some reason.
        Moved nowhere.

13296.  October 4, 2010     FRING, RLDLY                 Eric
        Add check of output of AVERT - if integration time < 0.005
        then assume units are days rather than the seconds they are
        supposed to be and correct the units.
        Moved nowhere.

13297.  October 4, 2010         PRTUV, LPOPEN           Eric
        LPOPEN set DOCRT<=72 to the window width - it was supposed to
        be <72 only.
        PRTUV chaned DPARM(6) print out to displat times to 1
        millisecond accuracy.
        Moved nowhere.

13298.  October 5, 2010            VLANT               Eric
        Changed it to delete the /tmp/... file after reading it.
        Otherwise, one may not have permission to write over it later
        when a different users runs VLANT.  Also found a place that
        did not set the name for evla.  The thing did not fail as one
        would hope because there is a vla file too for this year.
        Moved nowhere.

13299.  October 7, 2010         EQUINOX                 Eric
        Standard FITS has EQUINOX as a float but FITS-IDI and others
        call for 'B1950' and 'J2000' and variants in spelling.
        Changed:
        GETHDR   to first try for a float.  On error it gets a string
                 and looks for 1950 and 2000 in the string.  An error
                 arises only when those fail too.
        SOINI    Added comment that EQUINOX column may be character
                 (SOINI incorrectly uses double)
        SOTAB    Allowed both character and double before but used
                 'B1950.0' rather than '1950.0B' as required.  Added
                 that string as an option on read, changed write which
                 never happens anyway.
        FPARSE   VFUV.INC list: if numeric type fails and type is
                 EQUINOX or EPOCH, then try string.  Look in string
                 for 1950 or 2000 and set X appropriately if found.
                 Otherwise X stats DBLANK and an error arises.
        FITLD    Global keyword parsing was wrong anyway so global
                 equinox string never set properly.  Changed to
                 allow DP, SP, I formats or any string.  Could have
                 led to a wrong header equinox.
                 Also added the special parsing (as in FPARSE) of
                 EQUINOX to 3 separate subroutines from VFUV, VFIT
                 includes.
        PRTTP    Uses FPARSE plus a local TPARSE to manage tables.
                 Foxed the latter to allow special parsing for EQUINOX
                 and EPOCH.
        CALRD    As FPARSE
        FIT2A    As FPARSE
        GSCAT    As FPARSE
        IMLOD    As FPARSE
        SKYVE    Added special code in the parsing of EQUINOX from the
                 history information.
        UVLOD    As FPARSE
        CONFI    As FPARSE
        Moved nowhere.

13300.  October 7, 2010          EDITA, SNEDT            Eric
        Added SY tables to QEDIUTIL and tasks SNEDT and EDITA.  This
        requires new run-time help files HLPEDISY and HLPEDISS.
        QEDIUTIL gets new subroutines EDITSY, EDGTSY (get data),
        EDG1SY (get a bit of data), EDIFSY (compute Pdif/<Pdif>-1 and
        Psum/<Psum>-1), ans EDSMSY (smooth both Pdif and Psum).
        The smoothing array was made larger and a number of minor
        general issues were corrected.
        Moved nowhere.

13301.  October 11, 2010            TYSMO                Eric
        Added SY tables to the operation.  Changed the adverbs so that
        APARM controls absolute value clipping, CPARM controls
        clipping on the difference between the datum and the median of
        its neighbors, and BPARM allows smoothing after all the
        clipping.  For SY tables, the Psum, Pdif and Psum/Pdif/2
        (Tsys/Tcal) are examined.  The last of these cannot be
        smoothed since it is the ratio of the two measured
        quantities but cliiping on it is very productive.
        Finally required puting back $APLNOT/{SYINI,TABSY}, the two IO
        routines for SY tables.
        Moved nowhere.

13302.  October 12, 2010           EDITA                   Eric
        Add to QEDIUTIL EDITSY subclass display and editing based on
        Psum/Pdif/2 = Tsys/Tcal.  This is a very useful way to look at
        the SysPower data - both directly and as a relative difference
        with the running mean.  Changed QEDIUTIL and help files for
        EDITA, SNEDT, HLPEDISY and HLPEDISS.  Changed TVXPRT to handle
        blank menu items and fixed up the expert mode and a few other
        matters in QEDIUTIL.
        Moved nowhere.

13303.  October 12, 2010            SLFIT                Eric
        Updated the explain section of the help file to make the TK
        verbs nearly invisible and emphasize the TV approach.  So far
        as I can tell, this is the only help file with such troubles.
        Moved nowhere.

13304.  October 13, 2010           CCSEL                Eric
        Raised the upper limit from 10000 to 100000 CCs.
        Moved nowhere.

13305.  October 15, 2010        SPLIT, SPLAT            Eric
        The EVLA seems to want to have the same source name with
        different CALCODEs or QUALs as different sources in the source
        table.  This confuses SPLIT and SPLAT that use only the first
        12 characters of the source name as the output file name.
        Changed them to test for duplicate source names and, in those
        cases, to put in the CALCODE and QUAL in characters 9-12.
        Help files have an added note about this.
        Moved nowhere.

13306.  October 15, 2010           FGPLT                Eric
        Rearranged the logic a good bit.  Rather than store the flag
        info in enormous arrays (7 billion words would have been
        coorect!), the task now rereads the FG table for each page of
        the plot filling in whatever lines it finds.  The initial read
        makes tables of the the all antenna, one antenna, and baseline
        flags for later use.  If all flags in the time range are
        antenna based, the plot is done by separate code on that basis
        rather than on a baseline basis.  Added BCHAN, ECHAN to limit
        flags to those that apply in that channel range.
        Moved nowhere.

13307.  October 15, 2010            ATLOD               Eric
        Bad format (F15.5) used for integer variable in history.
        Moved nowhere.

13308.  October 15, 2010         TVFLG, SPFLG           Eric
        Made labeling smarter when the wedge is also on.  If the wedge
        is below, the wedge will be labeled and the image X axis
        labels will appear at the top.  If there is no wedge they
        appear at the bottom.  Things are reversed if the wedge is at
        the top (in the unlikely case that that happens).
        Moved nowhere.

13309.  October 15, 2010            FRING                Eric
        Added APARM(5) = 3 option to solve for 2 delays, one using
        IFs 1 through NIF/2 and the other using IFs NIF/2+1 through
        NIF.  This will be useful for the EVLA where the delays differ
        between hardware IFs AC and BD but not between the more
        numerous spectral windows called IFs inside AIPS.
        Moved nowhere.

13310.  October 17, 2010            SPLAT                Eric
        My latest "fix" made a mess of the adverb values for source
        selection leading SPLAT to select the last source only when
        trying to assemble a multi-source output.  Fixed to test
        source names only when not assembling which is the only time
        they need to be tested.
        Moved nowhere.

13311.  October 17, 2010        FRING, RLDLY            Eric
        Corrected 2 places in FRING where number of channels per IF
        was computed wrongly.  Added DOIFS option to RLDLY to control
        whether a single solution, 2 solutions, or NIF solutions are
        done.
        Moved nowhere.

13312.  October 18, 2010          SNEDT                  Eric
        Changed QEDIUTIL to apply the FG table to table data as they
        are read or reread.  Changed SNEDT Fortran and help to add
        FLAGVER adverb: 0 -> do nothing.  One must specify the desired
        FG table version.
        Moved nowhere.

13313.  October 19, 2010          UVCOP etc              Eric
        Changed GCINI to limit the number of polarizations to 2.
        Moved nowhere.

13314.  October 20, 2010       FRING, RLDLY              Eric
        the new option did not handle the data properly.  In the new
        option, it has to copy the solutions from IF 2 to IFs NIF/2+1
        through NIF and then from IF 1 to IF 2 through NIF/2.  But the
        next routine which is called optionally in FRING should have
        moved the solutions from IF NIF/2+1 back to IF 2.  This was
        not a problem when the only IFs option was to use all or one
        at a time.
        Moved to Socorro machines this morning.

13315.  October 20, 2010             ATLOD                Eric
        More errors with formats in HI writing - for parameters in
        DPARM that are used but not described in the help file.
        They seem to have to do with pulsar bins.
        Moved nowhere.

13316.  October 20, 2010           SYSEL                   Eric
        Put back new routine SYSEL to select records from an SY table
        to be copied.  Added calls to this in COPTAB and special
        COPTABs in UVCOP and SPLAT.  Added SY to the lists not to be
        copied in the simple way.
        Moved nowhere.

13317.  October 20, 2010            REWAY                 Eric
        Added support for CROSSPOW keyword - writes 0 if none or
        initially 1.  Passes -1 along.  CROSSPOW 1 is cross-power data
        and time integration only weights.  CROSSPOW 0 has real
        weights and -1 has visibilities and real weights (from new
        TYAPL not yet released).
        Moved nowhere.

13318.  October 20, 2010             BDF2AIPS             Eric
        Changed BDF2AIPS and BDFLIST scripts to add the seconds onto
        the file name in /tmp.  Users are taking < 1 minute between
        executions!
        Moved nowhere.

13319.  October 21-22, 2010            Misc                 Eric
        1. SPLAT had undefined variables in yesterday's putbck.
        2. TABHDR parsed dimensions from any TDIM keyword but they are
        only for visibility data.  Reworded error message and
        restricted parse to visibility data.  (IMLOD, UVLOD, FITLD)
        3. SNEDT: the application of flags to table data could return
        error code -1 if the last FG table record was flagged.  This
        confused higher level tasks. (QEDIUTIL - also fixed formats)
        4. FGPLT: the new code that gets the time range from the data
        fails miserably on TASAV files.  Changed to get the time range
        from the flags in that case.
        Moved nowhere.

13320.  October 22, 2010        NX table                 Eric
        Changed RNXINI to issue a warning about a pre-existing NX
        table rather than a quit writing level error.
        Changed UVFIX to write an NX table on the first pass through
        the data and skip it on any later passes.
        Moved nowhere.

13321.  October 22, 2010            UVGET                 Eric
        Force DOWTCL to false when AN file says EVLA and header
        CROSSPOW >= +1.  The latter now allows DOWTCL true for weights
        produced by TYAPL and REWAY.
        Moved nowhere.

13322.  October 22, 2010             TYAPL               Eric
        Put back CDINI and TABCD to support CD (CalDevice) tables.
        Added full scale SY table support to scale the visibilities
        and the weights by the contents of the SY table.
        Moved nowhere.

13323.  October 24, 2010            CookBook             Eric
        Put back the current draft of Appendix E (EVLA),
        $DOCTXT/LaCookE.tex.  It includes a section on SysPower data.
        Moved nowhere.

13324.  October 24, 2010         ATLOD                   Eric
        Michael Bietenholz has found yet another thing that caused
        aborts.  Why did these not cause issues when we tested them?
        The call to JPRECS requires a variable for the EQUINOX, not a
        numeric constant.
        Moved nowhere.

13325.  October 25, 2010             SNEDT                Eric
        The application of the FG table to the SY, TY, etc table read
        in did not trigger an update of the table on disk all by
        itself - which it should have.  Added 1 line to QEDIUTIL and
        moved a number of places where thee change counter was
        initialized to before the call to EDFGAP.
        Moved nowhere.

13326.  October 26, 2010         DOCRT                    Eric
        DOCRT > 0 is supposed to trigger CRT printing and an
        interactive task.  Discovered that some programs were
        requiring it to be > 0.5 or they would resume AIPS.  Some of
        these would then go into interactive printing anyway, leaving
        the two programs fighting over the terminal window.  Fixed:
        INPUT    OOP routine INSTRT traps DOCRT - made it get the real
                 float value and then set either integer or float as
                 the task desires with a correct interactivity
                 setting.  This fixes tasks BSPRT, FINDR, FLAGR, RFI
                 but they were not bad ones on odd values of DOCRT.
        LISTR    One of the bad ones - fixed RQUICK test.
        RLDIF    One of the bad ones - fixed RQUICK test and setting
                 of IDOCRT.
        SHOUV    One of the bad ones - fixed RQUICK test.
        BLSUM    RQUICK not controlled by DOCRT at all - bad no matter
                 what.
        Moved nowhere.

13327.  October 27-28, 2010        SY tables               Eric
        Changed
        GETCDS     New subroutine to read all Tcals - flags <= 0 and
                   reports them.
        SNPLT      OPTYPE PSPD -> PSYS and plots Tsys =
                   Psum/Pdif/2*Tcal ; also help.
        QEDIUTIL   Changed the SY routines to call GETCDS and to
                   convert the Psum/Pdif/2 to a real Tsys.  Fixed
                   labeling and units.
        SNEDT      Changed help and HLPEDISS
        EDITA      Changed help and HLPEDISY
        TYAPL      Changed to use GETCDS and to allow more than 2 IFs
                   (which was in to allow debugging).
        Moved nowhere.

13328.  November 11, 2010         TYAPL                  Amy
        For the situation where there was data on a new source with a
        time stamp before the first entries in the SY table the
        subroutine GETSY in TYAPL would read the entire SY table looking
        for bounding times, not finding any.  Then since the table had
        been read it would not be able to find bounding times for any
        time thereafter and all the weights would be set negative,
        effectively flagging the data.  I fixed GETSY in an inelegant
        way, and this change should probably be propigated to the
        subroutine that reads TY tables.
        Moved nowhere.

13329.  November 24, 2010     DATCAL, CGASET             Eric
        Have CGASET get the delay as a delay in phase units rather
        than as cos(delay) and sin(delay).  Then DATCAL can know
        the full delay difference per channel.  This enters into
        a per channel complex multiplier for walking through the
        channels but can be used with full dynamic range for the
        offset from the reference channel to the first channel.
        Thus very large delay corrections will be handled.  Changed it
        to use CURCAL(3) for delay and (4) for rate.  The fifth
        variable now has no use...
        Moved nowhere.

13330.  November 24, 2010        BDF2AIPS                Amy/Eric
        Added new parameter SWOrder with a question to choose to
        reorder the IFs to strict frequency order or by default leave
        them in the order of the data set.
        Moved to /home/AIPS also.

13331.  November 24. 2010        DADEVS.PL                Eric
        The @ sign was missing 3 places where it should have been.
        Newer Perl versions have started to care.
        Moved nowhere.

13332.  November 25, 2010           CDSEL                 Eric
        New subroutine to select IFs etc when copying CD tables.
        Changed COPTAB, UVCOP, SPLAT to use it.
        Moved nowhere.

13333.  November 25, 2010           VBGLU                Eric
        Added SY, CD, PD, and CP tables to the IF gluing tables
        subroutine.
        Moved nowhere.

13334.  November 26, 2010       Info files              Eric
        Updated tab completion file HLPIT.LIS and apropos data file
        LSAPROPO.HLP using hlpitgen.pl and HLPA tools.  Using SHOPH
        updated ABOT files:
        ADVERB    ANALYSIS  AP        BATCH     CALIBRAT  CATALOG
        EDITING   GENERAL   HARDCOPY  IMAGING   INFORMAT  INTERACT
        MODELING  OOP       PLOT      POLARIZA  RUN       SPECTRAL
        TABLE     TASK      TV-APPL   TV        UTILITY   UV
        VERB      VLA       VLBI
        Moved nowhere.

13335.  November 26, 2010         SHOPH                Eric
        Limit category names to 8 characters automatically.  Got into
        trouble with spellings differing after 8 for same category.
        Moved nowhere.

13336.  November 29, 2010        CookBook update            Eric
        Changed chapters:
        0    Dates, T of C
        1    Mention Appendix E
        2    Changed DADEVS structure
        4    FITTP, TYAPL etc (SY table), TVFLG labels, POSSM vector
             avg, CALIB averaging/normalization, SETJY 2010 values and
             spectral index, EVASN, BPASS normalization & spectral
             index, SOUSP, PCAL spectral ref Appen E
        5    CALIB normalization
        6    SNPLT SY table, POSSM/BPLOT BD, PD, CP tables, TVHELIX,
             RSPEC
        7    CONVL added to resolution, RM added
        8    NOIFS, IMAGR/MCUBE/CONVL units
        9    RLDLY replaces VLBACPOL, FRING CHINC, halves, ACCOR usage
             statement, FITLD ANTNAME, UVAVG options
        12   Remote batch, ADDDISK
        E    UVAVG OPCODE, POSSM 0 -> vector now
        I, J Update indexes
        Recipe rearranged as needed.  The html and pdf files were
        also updated.
        Moved nowhere.

13337.  November 29, 2010           ZTACTQ               Eric
        Changed $APLUNIX/ZTACT2.C to include the errno when a stat on
        the /tmp/task.nnnn files gets an error.  AIPS.EXE affected.
        Moved nowhere.

13338.  November 30, 2010           TYAPL                Eric
        Reviewed Amy's changes and extended them to the TY subroutine
        with minor typing changes.
        Moved nowhere.

***********************************************************************
***********************************************************************

                 Changes while 31DEC10 is TST

***********************************************************************
***********************************************************************

13340.  December 1, 2010             RMSD                      Eric
        The MACPPC compiler cannot handle a parameter that involves >
        1 math operation.  Thus PARAMETER (A = B*B/32) does not work
        whilst PARAMETER (A = (B)*(B/32)) does.
        Moved to 31DEC10 this date.

13345.  December 3, 2010           SNEDT                 Eric
        A badly typed IF statement caused a computation of difference
        values with EDIFSY (for SY tables) when SHOW ALSO RATE was
        selected in editing SN tables (and probably in editing UV
        data).  Fixed it to do only SY there in QEDIUTIL.
        Moved to 31DEC10 this date.

13347.  December 6, 2010            LISTR, ANFIND         Eric
        LISTR set 2 READ statuses when OPTYPE not recognized.  This
        messes up ANREFM which clears one only.  Changed ANFIND to
        recognize SAO SMA array.
        Moved to 31DEC10 this date.

13349.  December 7, 2010    VLAPROCS, VLATECR              Amy
        Added a message to VLATECR about the possibilty of the download
        failing if the VLA project is too recent.
        Moved to 31DEC10 Dec 8.

13350.  December 8, 2010          FITLD                Eric
        FITLD had trouble with a FITS IDI table that expressed a
        logical variable as a character-string valued variable.
        Changed GETLG to ignore an open quote mark but then require
        the value to follow immediately.
        Moved to 31DEC10 this date.

13352.  December 9, 2010         TVFLG                    Eric
        Added option LOAD NEXT CH/IF/ST which increments the spectral
        channel and reloads the TV.  If spectral channel exceeds the
        max, it is reset to BCHAN and the IF is incremented.  If the
        IF exceeds the maximum, it is set to BIF and the polarization
        is switched possibly with a Stokes flag change.  Corrected the
        help file and HLPTVFLG.HLP, the run-time help file.
        Moved to 31DEC10 this date.

13353.  December 10, 2010            TYSMO               Eric
        All other SY tasks changed to use Tsys rather than Tsys/Tcal
        so I changed this task too.  In so doing, I found a number of
        issues with the handling of SY clipping - mostly because TY
        has only one real column and SY has tow columns and a
        combination and all are related to each other.  These include
        (1) clipping Pdif and Psum before using them to compute Tsys,
        (2) blanking Pdif, Psum, Tsys if Pdif <= 0 or Psum < Pdif or
            either Psum of Pdif blanked (e.g. by clipping)
        (3) blanking Pdif and Psum if Tsys outside range allowed
        (4) rearrange logic in testing result after MWF smoothing
        Moved to 31DEC10 this date.

13357.  December 16, 2010             SOUSP                Eric
        Added CALCODE to the adverbs so that identical SOURCE/QUAL
        entries in the SU table may be differentiated.
        Moved to 31DEC10 December 28..

13360.  December 22, 2010          TRANS                Eric
        The new TRARow algorithm to figure out number of planes did
        not take into account the fact the images have an integer
        number of rows per disk block or an inetegr number of disk
        blocks per row.  Thus if NX = 401, the actual space used is as
        if NX = 512.  So it thought it could do more than it could and
        aborted.
        Moved to 31DEC10 this date.

13361.  December 24, 2010          CALIB                Eric
        The subroutine that applied gain normalization to the SN table
        on an IF/polarization dependent basis messed up by trying to
        use the same buffer for read and write.  Switched to 2 LUNs
        and buffers with TABSN and it still did not work.  Changed to
        straight TABIBI and TABIO and that does work.
        Moved GMODIT routine to 31DEC10 this date.

13366.  December 28, 2010            SOUSP               Eric
        SOUSP did not check for fluxes <= 0 in some IFs.  This led to
        NaNs and so I fixed it.
        Moved to 31DEC10 this date.

13367.  December 29, 2010           DBCON                Eric
        Added messages on appending tables and added SY table to list
        of those appended.
        Moved to 31DEC10 this date.

13368.  December 29, 2010        SNEDT, EDITA            Eric
        Plot scaling for SY tables was affected by an error in the
        coding.  Moved the minimum plot scaling values to a larger
        array and set them in the individual data type main routines
        in QEDIUTIL.  This means the e-13 scaling for rates is not
        affecting Pdif/<Pdif>, etc.
        Moved to 31DEC10 this date.

13371.  December 30, 2010          PCAL                  Eric
        The task kept track of source numbers as SID(source#)=cal# but
        then used SID in a form that should have been
        CID(cal#)=source#.  Added the alternative list so that
        internal use and use with the CP table would work.  CP table
        ended up with wrong values for source number.
        Moved to 31DEC10 this date.

13372.  December 30, 2010           RLDIF                 Eric
        The corection to the PD table used the same sign when
        correcting the R and L sides.  The hermitian should be used
        for L polarization.
        Moved to 31DEC10 this date.

13373.  December 31, 2010            DBCON                Eric
        Added CALCODE to the tests of how to renumber sources - it was
        losing some of the distinctions that the EVLA has put in.
        Moved CALCODE correction to 31DEC10 this date, not NX one.

13375.  December 31, 2010             RLDLY                Eric
        An array was dimensioned MAXANT and was used as if MXBASE which
        walked on things.  Fixed it - why did it seem to work?
        Moved to 31DEC10 this date.

13376.  January 3, 2011              LISTR                Eric
        The GAIN listing applied any gain renormalization prior to
        testing for magic blank.  That made magic blanks not be magic
        and so messed up the listing.  Gain normalization application
        in LISTR was dated Dec 8, 2010 and so is now added to
        31DEC10.
        Moved to 31DEC10 this date.

13380.  January 6, 2011            RLDLY                Eric
        Found an error handling the DOIFS=2 option and probably also
        the DOIFS=1 method.  There was a loop over antennas that
        should not have been run when spreading the results into all
        of the IFs except for 1 antenna each time.
        Moved to 31DEC10 this date.

13382.  January 7, 2010           FRING                 Eric
        1. FRQTAB needs to do all frequency computation in double
        precision.  With a small increment and large center frequency
        the resulting list was not accurate enough for FRING.
        2. FRING failed to test after QINIT that it got all the memory
        it wanted.  Added tests and messages about SETMAXAP.
        Moved to patch January 21.

13384.  January 18, 2011       DBCON                    Eric
        Changed DBCON to set NREC which should defend it against
        bad BUFFER(42) values.
        Moved DBCON NREC value only to patch this date.

13385.  January 18, 2011            UVCOP                Eric
        Used only the first 12 of the 16 characters of the source
        names.  EVLA tends to be profligate so this no longer works.
        Moved to patch this date.

13386.  January 18, 2011         CALIB                 Eric
        The header for the output file was not previously prepared by
        UVGET although the data for the file were.  This made it
        possible for a FREQID random parameter to appear in the output
        file with completely uninitialized values.  Changed the file
        creation to call UVGET and then modify the header as needed to
        put back compression if the output was to be compressed.
        Moved nowhere - moved to patch 24 January.

13388.  January 18, 2011          RLDIF                Eric
        2. Improve help file description of the task - it was
        obsolete.
        5. Found that the one-source, continuum method in which the
        SU, AN, and CL tables are corrected did not work.  Required
        repairs to the addressing.
        Moved these parts to patch 24 January.

13395.  January 20, 2011          OOP                  Eric
        Subroutine OUVATT in UVDATA.FOR searches for the catalog
        number of the file after it is created.  For some erroneous
        reason it searched for ISEQ=0 meaning to get the highest SEQ
        not the one that we were creating.  It then attached the
        catalog number of the highest SEQ to the object.  The next
        time the file had to be found, the wrong one was found.  This
        caused SPECR to copy the tables to the highest SEQ file rather
        than the one it had just filled with data unless that one
        happened to be the highest SEQ.  With different code sequences
        it could cause the new file itself to never be filled (except
        with 0's) and the old higher SEQ file to be overwritten!
        Moved to patch January 21, many OOP tasks must be relinked.

13398.  January 21, 2011          FRING                Eric
        The exhaustive search method suffered a serious error in which
        one of the parameters giving the number of channels per IF was
        divided by the number of IFs a second time.  This led to
        correct answers for the first IF but wrong ones for subsequent
        IFs.
        Moved to patch this date.

13401.  January 24, 2011            SWAPR                 Eric
        Ignored the DOACOR adverb - fixed to put that in common for
        UVGET.
        Moved to patch this date.

13450.  March 23, 2011            SNPLT                   Eric
        SNPLT failed to handle PC table phases correctly because at
        one critical point, the data type code is changed to special
        values just for PC tables.  When other operations on SY tables
        were added, these special values were not updated at every
        place that they were used.  Phase is in fact handle carefully
        to try to determine if -180 to 180 or 0 to 360 plotting would
        be better and the better one is chosen.
        Moved real correction to patch this date.

13481.  April 15, 2011        NX table writing           Eric
        RNXUPD wrote the new subarray number in the NX table when
        dumping records for other subarrays, i.e. when switching from
        subarray 1 to subarray 2.  This messes up CALIB and causes it
        to omit the last scan of subarray 1 in self-cal.  Fixed local
        copy of RNXUPD in SPLAT also.
        Moved to patch this date.

13482.  April 15, 2011             IMAGR                 Eric
        Had an error addressing multiple channels when doing time
        averaging in a baseline-length dependent way.  Led to smears
        of signal going out radially.
        Moved to patch this date.

13526.  June 7, 2011              IMEAN                   Eric
        DROUND was declared double precision when it returns integer.
        This seemingly worked under GNU but not under Intel!
        Moved to patch June 8.

13462.  March 31, 2011           NOIFS                 Eric
        Found an error in setting the UVW scaling parameter.
        Moved nowhere - moved to patch June 14.

13539.  June 23, 2011               CVEL                  Eric
        Programmers got confused in the init subroutine about which
        variable actually went back to the calling program as the
        error code.  The wrong one was used for many important things
        like BP file setup, causing the task to plow on in numerous
        hopeless circumstances.
        Moved to patch this date.

13541.  June 24, 2011        FITS Table read error         Eric
        The subroutine ATCONV adjusts the list of table keywords for a
        couple of effects including the presence of ISORTORD.  It did
        not adjust the list of character valued keywords so they no
        longer corresponded to the list of types, names, pointers,
        etc.  Fixed ATCONV and changed the call sequence in FITLD,
        UVLOD, IMLOD, CALRD, and TBIN.  Wht was this not noticed?
        Moved to patch this date.

13497.  May 4, 2011              FITLD                   Eric
        Changed the local parameter include to contain more of the
        parameters and put that in SUCHCK rather than declaring MAXSOU
        as only 1000 while it was 2500 elsewhere.  Changed it to 5000
        at the same time.
        Moved nowhere, to patch June 24.

13460.  July 1, 2011              UVCOP                 Eric
        In order to flag SY, TY, SN tables changed
        UVCOP     Changed NXTFLG - the SOUWAN list is prepared
                  differently by UVCOP and is always sources that are
                  wanted.  The usual flag about that said otherwise.
                  This meant that a UVCOP with SOURCES did not apply
                  any flags to UV data or to table data.
        Moved UVCOP fix to its NXTFLG to patch this date.

13490.  July 25, 2011               IMAGR                  Eric
        Changed QCLEAN:
        1. CLSCAL will now write a message whenever rescaling by
        something other than 1.0.  Previously, if the scale was
        exactly the previous one it siad nothing.
        3. CLGFIT now uses the field for which a beam was computed
        most recently to provide the beam parameters.  Previously it
        used each field even if ONEBEAM caused that field not to have
        a beam.  As a result it read the header beam value and used it
        for all planes of the image in scaling, restoring, etc.  It
        did write this bad value in the CG table but who looks?  The
        new value does get into all facets from this point.
        4. CLSCRS changed to display all rescaling not = 1.0
        Moved to patch this date.

13495.  July 29, 2011             install.pl              Eric
        Added code to recognize 64-bit Macs as MACINT.
        Moved to 31DEC10 this date (not patch).

13496.  July 29, 2011            VPLOT                   Eric
        The routine that picked up the CC models had an error if NMAPS
        was greater than 64.  A wrong variable was used in an IF
        statement so NCOMPS for field 66 was set to NMAPS and so all
        other fields were ignored.
        Moved bug fix to patch.

13502.  August 4, 2011            CLCOR               Eric
        Two significant places - opcodes 'EOPS' and 'SUND' - assumed
        that the antenna coordinate system is left handed.  These did
        NOT get corrected in the fall of 2009 as they should have.
        Moved to 31DEC10 this date.
