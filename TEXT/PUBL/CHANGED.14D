;-----------------------------------------------------------------------
;  Copyright (C) 2013-2015
;  Associated Universities, Inc. Washington DC, USA.
;
;  This program is free software; you can redistribute it and/or
;  modify it under the terms of the GNU General Public License as
;  published by the Free Software Foundation; either version 2 of
;  the License, or (at your option) any later version.
;
;  This program is distributed in the hope that it will be useful,
;  but WITHOUT ANY WARRANTY; without even the implied warranty of
;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;  GNU General Public License for more details.
;
;  You should have received a copy of the GNU General Public
;  License along with this program; if not, write to the Free
;  Software Foundation, Inc., 675 Massachusetts Ave, Cambridge,
;  MA 02139, USA.
;
;  Correspondence concerning AIPS should be addressed as follows:
;         Internet email: aipsmail@nrao.edu.
;         Postal address: AIPS Project Office
;                         National Radio Astronomy Observatory
;                         520 Edgemont Road
;                         Charlottesville, VA 22903-2475 USA
-----------------------------------------------------------------------
     This file must be used to record any changes made to the Master
version of AIPS kept in SOCORRO.  An entry is:

   line 1:   Date Program name Your name
   line 2:   What was done (may span multiple lines)
   line n-1: Where has this change been moved (e.g. 15JUL94, nowhere)
   line n:   Blank

 The details of line 1 are important since programs are used to find
 specified strings and do conversions on them.  It MUST be typed as
 follows: 1 blank, 4 digits, a period, two blanks, then the Month,
 day, comma, year, some space, a title, some more space, your name.


***********************************************************************
***********************************************************************

                 Changes while 31DEC14 is TST

***********************************************************************
***********************************************************************

14257.  December 1, 2013         Version update               Eric
        Changed $APLSUB/GETRLS.FOR. $INSUNIX/INSTEP1,
        $SYSPERL/install.pl, $SYSPERL/update.pl, $SYSPERL/ZXHLP2.PL,
        $ SYSPERL/LaCook.PL, $UPDUNIX/UPDCONTROL,
        $SYSUNIX/AIPSPATH.CSH, $SYSUNIX/AIPSPATH.SH
        to make 31DEC14 instead of 31DEC13 - also fix dates in
        install.pl.
        Moved nowhere.

14258.  December 2, 2013          DOFARS                     Eric
        The procedure had not been changed when FARS took over control
        of its output class names.  The final TRANS tasks then
        failed.
        Moved to 31DEC13 this date.

14259.  December 4, 2013          VLAMP                  Eric
        Changed it to compute central frequencies at channel
        N/2.0 + 1.0  and added comment to say what it is doing.
        Moved nowhere.

14260.  December 5, 2013           APCAL                 Eric
        Changed GC reading to understand that a GC subarray of 0 means
        all.  Changed table reading in general to understand that a
        negative error return means flagged row, not severe error.
        Moved to 31DEC13 this date.

14261.  December 5, 2013          USUBA                  Eric
        Changed the subroutine that automatically changed the
        subarray column value to use its subarray magic only on tables
        with subarray, source, time, and antenna columns and to output
        subarray = 0 for other sorts of tables.  Subarray 0 means any
        which many tasks now understand.
        Moved to 31DEC13 this date.

14262.  December 5, 2013            APCAL               Eric
        Changed it to loop over subarray if SUBARRAY <= 0.  It meant
        dealing with the insistence on deleting the old SN if it
        existed and then starting at the beginning (was overkill).
        Changed VLBACALA help file also.
        Moved nowhere.

14263.  December 6, 2013            SUBIM               Eric
        The YINC=1, ZINC=1 code was broken... by the recent upgrade.
        Moved to 31DEC13 this date.

14264.  December 6, 2013            AIPS                   Eric
        When an error in POPS occurs or a task returns a failure code,
        OERROR is called and control returns to the top most level of
        interactive input.  OERROR did not close nested RUN files
        properly or reset NUMRUN = 0.  Fixed this.
        Moved to 31DEC13 this date.

14265.  December 11, 2013            HELP                Eric
        Added help paragraphs about the CookBook and where to get the
        PostScript, pdf, and html versions.
        Moved to 31DEC13 this date.

14266.  December 11, 2013          CookBook               Eric
        Changed COOKNS and COOKNX to add a new appendix (L for low
        frequency).
        Moved nowhere.

14267.  December 11, 2013           HIIO                 Eric
        HIIO changed the history file header even when the file
        expansion failed.  This could cause the system to think the HI
        file is larger than it is, leading to persistant problems.
        Moved nowhere.

14268.  December 13, 2013          TGET file              Eric
        Changed the format of the TG file and its name - the adverbs
        will now be stored with 3 words ahead of them, 2 for the
        adverb name and 1 for its length and type.  Then a TGET will
        only change adverb values for those adverbs found in the file
        rather than being messed up by the inclusion of a new adverb.
        Changed:
        AU2     Changed code to build the TGET file data in a separate
                buffer with separate pointers and including the adverb
                names and adverb size/type.  The TG file now gets 8
                blocks per task (was 4) and the directory now gets 10
                records (was 6).  The TELL and task-data files still
                get 4 per task.
        AU2A    Added code to do TGET from the new format TG file and
                then to compare the adverbs found there with the
                current INPUTS file.  Also TGINDEX will do first the
                new format file and then the old, listing from the old
                only tasks not found in the new.
        AU3A    Updated TIMDEST code even though it is blocked.
                Corrected the code that deleted the old format task
                save file to delete the more modern format ones on
                SAVDEST.
        MV2C06TG  The old MV2C06TS file in $DOCTXT was renamed and
                edited to bring it up to date, poiting out the
                differences between the now current format and that
                which was used for quite afew years previously.
        Moved nowhere.

14269.  December 17, 2013            CVEL                Eric
        VERA apparently follows the lead of the VLBA and fringe
        rotates to the Earth center.  Change ISVLBA to detect array
        name VERA as well as VLBA and generalize the messages about
        that.
        Moved to 31DEC13 this date.

14270.  December 18, 2013          RLDLY                 Eric
        Changed code around so that REFANT=0 means loop over all
        possible REFANTs.  The top level code does a weighted average
        of all the solutions and applies that after the loop over
        antenna.
        Moved nowhere.

14271.  December 19, 2013            BLSUM              Eric
        Values of TXINC and TYINC of zero were used rather than being
        corrected to the default value 1.  This led to aborts,
        infinite loops, etc.
        Moved to 31DEC13 this date.

14272.  December 20, 2013           CookBook            Eric
        Add new Appendix L for low-frequency EVLA reductions in AIPS.
        This makes changes to chapters 0, F, I, J also.  Changed
        Recipe.tex and LaCook.mac (for figure macro in use for some
        time).
        Moved to ftp site, nowhere else (but goes to all versions).

14273.  December 24, 2013            SLFIT                Eric
        The conversion to REAL*8 in lots of places on July 8 was too
        enthusiastic and sent R*8's into a routine that requires
        R*4's.  The conversion from fit parameters to real units for
        most slices produced wrong answers.
        Moved to 31DEC13 this date.

14274.  December 24, 2013     Maximum image dimension       Eric
        Changed PMAD.INC parameter MAXIMG to match MAXCHA in PUVD.INC
        at 131072.  I hope no one tries FFTs of this size but we must
        be able to build images with the maximum number of spactral
        channels.
        Moved nowhere.

14275.  December 25, 2013          AIPSLetter              Eric
        Put the 31DEC13 AIPSLetter as LET13B .TEX, .PS, and .PDF into
        $AIPSPUBL and on the ftp site.
        Moved nowhere.

14276.  December 26, 2013          smoothing               Eric
        The 2-point smoothing routine TPTBSM tried to avoid a divide
        by zero by taking the max of 0.001 (86.4 seconds) and the time
        difference of the 2 points.  Since they might be around 1
        second this is very bad.  Fixed the code to avoid a zero
        divide explicitly or use whatever the time difference might
        be.  Affects CLCAL, SNSMO, TYSMO, CLSMO, and SNEDT.
        Moved to 31DEC13 this date.

14277.  December 27, 2013          BLSUM                   Eric
        Changed:
        1. Modernized the code including making the mask be in dynamic
        memory rather than on a scratch disk.
        2. Corrected the labeling - when the blotch was, e.g. a moment
        image, then the labeling of the spectrum implied it was in
        Jy/beam when in fact it was in Jy.
        3. Corrected the blotch setting to make sure that each vertex
        is in the image.
        4. Added the option to plot the blotch spectra in real plot
        files, with 1, 2, 3, or 4 spectra per page.
        5. Corrected the printed and plotted channel numbers to
        account for BLC.
        Moved nowhere.

14278.  January 13, 2014            PCAL                 Eric
        Found two places that referred to CATIN using UV header
        pointers that had been recomputed for the header after
        calibration.  Old data sets might have a no longer standard
        axis order and so the two might differ.  This caused it to
        lose an IF when saving the results in a pure continuum case.
        Moved tp 31DEC13 8-Aug.

14279.  January 13, 2014           DBCON                 Eric
        One delta angle for source position comparison was much larger
        than claimed in the comment - fixed it to 10 milli-asec.
        Moved nowhere.

14280.  January 13, 2014           IMAGR                  Eric
        Added the concept of UNClean boxes (areas where components are
        never found).  This is a way to block out an area in one facet
        and have that area Cleaned only in some other facet (to be
        used later in modeling for example).  Changed:
        TVUTIL    $APLOOP: added concept of UNClean windows in OTVUBX,
                  made sure that the pointer was zero everywhere Clean
                  windows pointer was zeroed, made sure that all TV
                  loading called OTVUBX if the pointer is not zero.
        QCLEAN    $QOOP: added Common variables ISUNBX, UNBOXS, and
                  UNWIN to indicate if UNboxes are used and if so how
                  many and their values.  Pick these up in the INI
                  routine and add them to routines BOXFIX and WRIBOX.
                  Changed the TV curvalue to use graphics plane 2 so
                  that UNClean boxes use plane 4 (cyan).  Added UNBOX
                  to the menu when ISUNBX is true.  Added UN-boxes to
                  the auto-boxing, histogram, pixel finding, SDI
                  Clean, and maximum finding routines.  Added local
                  version of WRIBOX to write UNClean boxes and to
                  report errors more carefully.  Added routines UNBROW
                  and UNBCOL to aid in applying UNClean boxes.
        IMAGR     $QPGOOP: drop GRCHAN as an adverb - use channel 5
                  always.  Add and use routine UWINDF to read UNClean
                  boxes from BOXFILE.  Then put the UNClean boxes if
                  any in the Clean object.
        IMAGR     $HLPFIL: drop GRCHAN and add info about U cards in
                  BOXFILE.
        BOXFILE   $HLPFIL: add same remarks more or less.
        HLPCLEAN  $HLPFIL: add UNBOX and fix the TVBOX wording.
        Moved nowhere.

14281.  January 14, 2014            BPASS                 Eric
        When SOLINT=-1 all scans and sources are averaged together.
        Under this circumstance, if there is more than one source,
        there should be no spectral index correction.  However, the
        code made no correction even if there was only one source.
        Fixed it to set the source number appropriately when there is
        one and to warn when there should be a spectral index
        correction, but it is zero.
        Moved to 31DEC13 this date.

14282.  January 14, 2014          LISTR                 Eric
        The gain scaling routine picked up the LUN of the open CL, SN,
        etc. file and then used it to try to open the source table!
        Changed it to get an LUN for the source table dynamically with
        LUNTMP.
        Moved to 31DEC13 this date.

14283.  January 15, 2014             SNPLT                 Eric
        Added OPTYPEs 'POWR' and 'PODB' to plot (1/GainAmp)^2 and
        -20 * log10 (GainAmp).  Note that GainAmp in the CL tables is
        an inverse voltage gain so the squared here puts things in
        observed power units.  These options are probably mostly to
        make plots to show the engineering staff.
        Moved nowhere.

14284.  January 16, 2014            IMAGR                 Eric
        Fixed a bug in QCLEAN that made it find no residuals to clean
        when there was a circular box and no UNClean boxes.
        Moved nowhere; updated immediately.

14285.  January 16, 2014            DBAPP               Eric
        NEW TASK: Appends one or more similar data sets to a
        pre-existing one.  It can re-number sources, but will not do
        the fancy things with antennas, subarrays, frequency IDs and
        the like that DBCON can do.  It does avoid the 2^N file
        proliferation problems encountered by DBCON however.
        Moved nowhere.

14286.  January 22, 2014             DBAPP              Eric
        Corrected a test that used the number of axes when it should
        have used the number of random parameters.
        Moved nowhere.

14287.  January 23, 2014            IMAGR               Eric
        Fixed QCLEAN - the TV menu was self-destructive when there was
        no UNClean boxes.
        Moved nowhere, updated immediately.

14288.  January 23, 2014             REWAY               Eric
        When data in a multi-source file scan had fewer valid points
        than allowed by BPARM(1), no record was written to the WT
        file.  The read back to apply these weights then failed
        because the WT file had too few records (assuming that the bad
        scans were at the end).  Changed to write the WT file when any
        data were present even if it is writing flags for the too
        little data scans.  Also changed all routines to write out a
        vis record only if it contains some valid data.
        Moved nowhere.

14289.  January 24, 2014           FITLD                  Eric
        Put in special code totrap a new keyword for VLITE named
        PRIBAND.  Added code to save the CORRELAT and PRIBAND keywords
        in the output header.  They go first to the scratch file and
        then must be copied to the output, with special scratch file
        keywords omitted.
        Moved nowhere.

14290.  January 27, 2014         MODIM, RMFIT             Eric
        Added RM thickness to the models and model fitting.  Three
        different mathematical forms may be used - sin(x)/x,
        Gaussian, and exponential.  It really seems to solve for the
        depolarization.
        Moved nowhere.

14291.  January 28, 2014            DISKU                Eric
        Changed DOALL to be the minimum size for individual file
        listing (in Mbytes) and changed the appearance of the file
        listing to give file catalog number, type, name, class, seq,
        size, and sum of extension size.  Should help identify large
        files for managing disk space.
        Moved nowhere.

14292.  January 29, 2014           DISKU                 Eric
        Added a choice to use the printer or DOCRT > 0 instead.  Will
        be useful if making long lists of large files.
        Moved nowhere.

14293.  February 1, 2014          FARS, TARS              Eric
        Changed:
        TARS     To compute the Gaussian convolution function only
                 when useful and keep track of that range.  Rearranged
                 the convolution code to do, in most cases, far less
                 work.
        FARS     To compute the Gaussian convolution function only
                 when useful and keep track of that range.  Rearranged
                 the convolution code to do, in most cases, far less
                 work.  Rearranged the component subtraction (inner
                 Clean) code to simplify (like TARS) which made it
                 work - the Clean was not doing the right thing
                 somehow (as if smoothing with a very narrow Gaussian
                 instead of the correct one) previously.  Added
                 ability to print some Cleans.
        FARS     $HLPFIL: added PRTLEV.
        Moved nowhere.

14294.  February 1, 2014         RMFIT, XGAUS, ZEMAN        Eric
        Changed:
        POPSDAT  Create new adverb RMSLIMIT - also NEWPARMS.001 and a
                 help file for the adverb.
        RMFIT    Fixed the phase to be between -90 and 90 in the PARMS
                 and thereby in the RESULT and in the display for the
                 user.  Changed the CURVAL display to use the actual
                 image values rather than the scaled values from the
                 TV memory.  Add RMSLIMIT adverb to help and Fortran
                 to specify an RMS which causes the task to stop
                 automatic fitting and return to interactive.
        XGAUS    Changed the CURVAL display to use the actual image
                 values rather than the scaled values from the TV
                 memory.  Add RMSLIMIT adverb to help and Fortran
                 to specify an RMS which causes the task to stop
                 automatic fitting and return to interactive.
        ZEMAN    Changed the CURVAL display to use the actual image
                 values rather than the scaled values from the TV
                 memory.  Add RMSLIMIT adverb to help and Fortran
                 to specify an RMS which causes the task to stop
                 automatic fitting and return to interactive.  Add
                 display of RMS so that RMSLIMIT can be set
                 meaningfully.
        Moved nowhere.

14295.  February 3, 2014       ZEMAN, XGAUS, RMFIT         Eric
        ZEMAN   Fortran: set the number of "Gaussians" to zero when
                doing the spectrum-average field which made it not
                actually fit that field.
        ZEMAN   Help: re-wrote the explain file which was never edited
                for ZEMAN.  It was basically for XGAUS before.  Added
                a note about re-starts but they are different in ZEMAN
                than in the other 2.
        XGAUS   Help: added notes about restarting with various values
                of NGAUS to simplify fitting sub-regions.
        RMFIT   Help: added notes about restarting with various values
                of NGAUS to simplify fitting sub-regions.
        Moved nowhere.

14296.  February 3, 2014            PCCOR                  Eric
        Fixed usage where it assumed that the frequencies of the pulse
        tones in R and L are identical.  Changed it to use the
        polarization-dependent values even though they are likely to
        be the same.
        Moved nowhere.

14297.  February 5, 2014     XGAUS, RMFIT, ZEMAN            Eric
        Changed all 3 tasks so that DOTV=2 says to ask the questions
        about re-guessing the initial values, marking bad, etc are
        done with a TV menu instead of the queries in the AIPS
        terminal window (which are still there on DOTV 1).  Changed
        all 3 Fortran files, 3 help files, and HLPXGAUS, HLPRMFIT, and
        HLPZEMAN also.
        This required a change to the call sequence to TVMENU, adding
        a horizontal offset from the TV edges.  That change forced a
        corresponding change to TVDMEN in TVDEVICE plus call changes
        in QEDIUTIL, QCLEAN, and tasks TVHUI, TVRGB, WIPER, FILIT,
        PLAYR, SCIMG, and SCMAP.
        Moved nowhere.

14298.  February 6, 2014     RMFIT, ZEMAN                   Eric
        Changed RMFIT to plot the initial guess for a component that will
        not be fit to the side of the plot rather than at zero.  This
        will let users see that it is nulled rather than simply zero.
        Added option SET MIN P1 to revisit all weak pixels if one
        desires.  Changed help and real-time help for this too.
        Changed ZEMAN to remove bugs that kept the TV turned off on
        DOTV=2 and caused an abort when it did call for the second new
        menu.
        Moved nowhere.

14299.  February 7, 2014          UVFND               Eric
        Added the DOSCALE option - to ormalize the fluxes by the
        fluxes in the SU table - including spectral index if desired.
        In testing it was found that channel averaging had a bad bug -
        the imaginary part of the output was the same as the real part
        giving a phase of 45 degrees and an amplitude sqrt(2) too high
        (or so).  This was not done when NCHAV <= 1.
        Moved the fix part to 31DEC13 this date.

14300.  February 8, 2014    DOBAND 2 and 4              Eric
        The code of BPGET assumed that the BP correction array was
        filled in with the earlier of the 2 times.  This was not
        correct at the start and, if the first time(s) were closer to
        the BP record of the lower time, then the BP correction array
        was not completed properly.  The values must have somehow been
        approximately correct rather than 0, from earlier work with
        the array.  Changed it to copy the early solution to the array
        or the later solution to the array in all cases.
        Moved nowhere - should this be a patch?

14301.  February 10, 2014          DOOSRO.001             Lorant
        Previously I removed a lot of clrtemps since they started to
        be differently interpreted, I think due to a change in an
        upper routine in 2013. However, one critical procedure
        (numtab) actually needed a clrtemp within a loop, which is now
        there. Added plenty of lines of debugging code to find it.
        Moved to 31DEC13 this date.

14302.  February 10, 2014             FITLD                Eric
        Changed it so that an error in reading trailing records in the
        input file does not stop the task from completing things -
        although such an error suggests that there will be issues.
        Moved nowhere.

14303.  February 11, 2014      KNTR, PCNTR                 Eric
        Changed:
        KNTR     A test when doing 3-color pictures required
                 BLC(3) < TRC(3) when the setup to that point had them
                 equal.  Changed test for axis 3.
        PCNTR    Fixed assignment of LUNs - the 3 color used LUNs =
                 ILUN(4) + 1 and 2.  But there is now an ILUN(5) so
                 changed the (4) to (5).
        TVRGB    Corrected call sequence to TVMENU - the ue of
                 constants confused me
        TVHUI    Corrected call sequence to TVMENU
        Moved KNTR, PCNTR to 31DEC13, others not needed.

14304.  February 11, 2014        PCCOR                   Eric
        PCCOR did not expect magic blank values for the cable-cal.
        But the tables have them (double precision magic blank is
        10^98) so trouble ensued.  Changed to use the last good value
        of cable-cal when blanked.
        Moved to 31DEC13 this date.

14305.  February 22, 2014            SNPLT               Eric
        Rates are scaled by frequency to mHz for plotting.  The task
        used the frequency of BIF for all IFs.  Changed it to use the
        correct frequency for each IF.
        Moved nowhere.

14306.  February 24, 2014             POSSM              Eric
        Improved the labeling of plots, particularly autocorrelation
        spectra.
        Moved nowhere.

14307.  February 25, 2014            POSSM                Eric
        Changed labeling some more - set up a 3-state integer to tell
        whether data are all parallel polarizations, cross
        polarizations, or mixed and then have 3 separate labels.
        Added code to convert STOKES = 'CROS' early enough for it to
        be used correctly (as 'XYYX', 'RLLR', 'QU').
        Moved nowhere.

14308.  February 25, 2014           SNPLT                 Eric
        Corrected the rate difference to apply the frequency
        correction with the correct IF to the separate rates before
        the differencing.
        Moved nowhere.

14309.  February 25, 2014           AVSPC                 Amy
        In one call of CHNDAT, AVSPC sent a FREQID=0 always.  This
        only caused a problem if the input data set had more than one
        FREQID.  The real FREQID was sent to CHNDAT which fixed the
        problem.
        Moved nowhere.

14310.  February 25, 2014         CHNDAT                Eric
        The fundamental subroutine CHNDAT meant to read/write FQ
        tables had a path through it which would leave the LUN open.
        Corrected this to always make sure it is closed.
        Moved nowhere.

14311.  February 26, 2014           DOOSRO                Lorant
        When VLANT runs it may create a new CL table. When it is skipped
        or doesn't need to create a new CL table, CL1 gets copied to CL2
        to have the same number of CLs hanging around for outclass UVLANT.
        When reruns happen, it wasn't checking for the possible clash.
        Included the check now.
        Moved nowhere.

14312.  February 27, 2014          SNSMO               Eric
        Changed:
        1. Pass FREQS into CLPRAT and scale each rate by the
        appropriate FREQS before summing into the work array and then
        when comparing to the clip level.  Previously it used unscaled
        rates (so in sec/sec) and compared them to a clip level
        converted to sec/sec using the header frequency.  Some modes
        added together multiple IFs not converted back to Hz (and so
        having different values solely due to frequency).
        2. In CLPAPH, changed it to find the FREQ scaled rate using
        the frequency of the IF from which it took the rate.
        Previously it used the frequency of IFBEG.
        3. In REFRAT, summed the rates in Hz using the correct
        frequencies for each IF rather than in sec/sec and made the
        reverse correction in putting the rates back.
        4. Changed the delay smoothing routine into one for multi-band
        delay and one for each IF.  The latter gets pointers to the
        real and imaginary columns so that the phase may be corrected.
        5. Added NPIECE adverb to help and code.  It is used to undo
        the delay phase correction made by FRING and redo it with the
        smoothed delays.  Added frequency difference array to account
        for the FRING scaling and the difference between the reference
        pixel and the center of each IF.
        6. SMORAT is given the frequency array so that it can sum the
        rates in Hz rather than sec/sec and then put them back
        correctly fixing the units back to sec/sec.
        7. In SMOAPH, pick up rates in Hz at the frequency of the IF
        from which the rate info is taken.  Correct the multi-band
        phase term which had the wrong sign for the second
        polarization.  This made R-L phases appear where none were
        present before.
        8. Correct spelling of CUTOFF in history file.
        Moved nowhere.

14313.  February 27, 2014         SNPLT                 Eric
        The IF frequency for the second polarization, when
        differencing polarizations, was not set properly for rates.
        This led the rate plot with STOKES='DIFF' to be the same as
        with 'RR'.
        Moved nowhere.

14314.  March 3, 2014             SPECR                  Eric
        Added option to interpolate by normal interpolation functions
        including 2 point and Median window, although the help still
        recommends the FFT approach.
        Moved nowhere.

14315.  March 3, 2014                FTFLG               Eric
        Filled empty space with zeros rather than magic blanks in the
        fast gridding routine.  Like the fix June 21, 2013 in SPFLG.
        Moved nowhere.

14316.  March 10, 2014            FITLD                  Eric
        The subroutine GETMC could fail to do the correct hash
        interpretation and so fail to find MC records that it wanted
        and which were available.  MC records separated by < 2 minutes
        triggered this issue.  Rearranged so that it searches for the
        closest MC record.  Also changed GETDEL which would have
        failed if the records were separated by <= 1 interval.
        Moved to 31DEC13 patch this date.

14317.  March 11, 2014            RLCAL                  Eric
        Corrected computing of time intervals based on SOLINT, which
        was basically all wrong.  Stopped allowing the Q and U models
        to be scaled by a flux in the SU table.  Made the task pay
        attention to NMAPS, which must be > 0 to use IN2NAME et al as
        a model.
        Moved nowhere.

14318.  March 11, 2014             PRTAB                 Eric
        When a floating format was requested but an exponential was
        required, the task used 1 too few characters, dropping the
        essential digit of the exponent.
        Moved nowhere.

14319.  March 14, 2014            BLSUM                   Eric
        The 31DEC14 upgrade to bLSUM got rid of an extra buffer, but
        the TVLOAD code was still told that the buffer was available.
        Fixed the task to tell it the correct current size of the IO
        buffer.  It only failed with really large images.  Also
        cleaned up the coding in TVLOAD to a more modern style.
        Moved nowhere.

14320.  March 14, 2014          CURVALUE                Eric
        Gave the CURVALUE verb 2 adverbs.  GRCHAN to control which
        channel is used and NCHAN to control which image plane memory
        is used (0 -> lowest channel on at current pixel).
        Changed CURVALUE,HLP, TVALUE (call sequence), TVDEVICE (call
        TVALUE with 0 for limiting channel), AU6B (pick up adverbs and
        use in call to TVALUE).  The OOP use of CURVALUE then does not
        need to change, nor does the XGAUS et al use (they have
        special versions of TVALUE anyway).
        Moved nowhere.

14321.  March 17, 2014            DSKEW                  Eric
        The routine in INTERPLATE that implements this algorithm took
        the SIN and COS of an angle in degrees rather than radians.
        This made for a rather bad result whan that angle was not
        zero.  Added comment to help file warning about higher level
        interpolations "overshooting" the input values.
        Moved interplate to 31DEC13 this date.

14322.  March 17, 2014          SHOW and TELL             Eric
        When AU2 was changed to make a TG file with adverb names as
        well as values, I did not realize that TELL used this code too
        as a "TG" file rather than a "TD" file.  Fixed AU2 for TELL to
        write the TC file like a TD file (no adverb names).
        Moved nowhere (this is a 31DEC14 error only).

14323.  March 17, 2014            BPWAY                   Eric
        NEW TASK: uses RFLAG-like approach to find rms in each channel
        as a function of time one scan at a time.  In each scan, it
        smooths the channel rmses and then applies the smoothed values
        as normalized weights.
        In doing this task noticed and fixed:
        1. ZOPEN  changed messages to handle LUNs > 99.
        2. LUNTMP changed to check both MAP and non-MAP LUNs for use
        before assigning one.
        3. RMEXT  changed call to LUNTMP to ask for a normal file LUN
        rather than a MAP (double-buffer I/O) one.
        Moved nowhere.

14324.  March 18. 2014             CENTR                    Eric
        NEW TASK: Changes the frequency reference pixel to Nchan/2+1.
        This requires re-scaling the u,v,w values so the data set must
        be copied.  Otherwise it would be only a simple header
        change.  This should help with FRING since the phase rocking
        is really about the center channel not channel 1 which now
        seems to be the usual reference channel out of the
        correlators.
        Changed DBCON so that DOPOS(2,1) > 0 => change the frequency
        reference pixel to 1 (as was currently done), otherwise change
        it to Nchan/2+1.
        Moved nowhere.

14325.  March 18, 2014            ANTAB, VLOG              Amy
        Added warning to ANTAB, VLOG and their HLP files about the
        use of *cal.vlba* files for calibration of RDBE/MARK5C data.
        *cal.vlba* files are from the VLBA legacy system and do not
        apply to RDBE/MARK5C data.  All VLBA observations starting
        Feb 1, 2014 are RDBE/MARK5C observations.  The warning in
        ANTAB will issue if the data is from after Jan 31 2014,
        from the VLBA and not for the VLA.  VLOG is designed specically
        to work on *cal.vlba* files, so the warning simply issues if
        the data if from after Jan 31 201.
        Moved nowhere.

14326.  March 19, 2014            CLCAL                   Eric
        Subroutine SNAPP used a bad subscript to get the subarray and
        so did not fill in the table of used reference antennas
        correctly.  This then caused CLCAL to fail to re-reference the
        SN tables as they were supposed to be.
        Moved to 31DEC13 this date.

14327.  March 20, 2014            DOOSRO                  Lorant
        Replaced references of getthead in combination with keyword
        containing 'ext' (in particular numtab) with the new getvers.
        Moved nowhere.

14328.  March 24, 2014        AIPS Memo 117               Eric
        Revised the wording about coordinates in CC files.  They are
        simple shifts from the reference pixel and must be corrected
        for image geometry.  Changed all 2012 red things to blue, made
        the 2104 changes red.
        Moved nowhere.

14329.  March 24, 2014            VLAMP                   Eric
        Corrected a number of minor issues - the SY table reading
        begain with record zero which is incorrect.  Changed the tests
        for the amount of extrapolation that is allowed without a
        warning.  Even then the SY table may be flagged while the CL
        is not, producing extrapolation warnings.  Changed the help
        file to explain this in greater detail.
        Moved nowhere.

14330.  March 25, 2014            SETJY                 Eric
        Velocity computations on OPTYPE ' ' or 'SPEC' in error:
        a. The reference frequency should have been the specified
           channel (APARM(1)) in reference IF NIF not the reference
           pixel in NIF.
        b. Radio formula had incorrect sign.
        c. Optical formula also had incorrect sign.
        Moved to 31DEC13 this date.

14331.  March 25, 2014            SNP2D                 Eric
        Clarified in the code and help that BCHAN and BIF apply to the
        file identified by INNAME, INCLASS, etc.  Added a phase
        correction to undo the delay correction on an IF by IF basis
        as an option.
        Moved nowhere.

14332.  March 27, 2014           SNP2D                   Eric
        Finally I think we have it right.  The output SN table needs
        to have a delay = line channel phase / line channel frequency
        where "line" refers to the channel at which the maser
        provides a useful self-cal solution.  But AIPS' DOCAL only
        corrects phase with delay between each channel and the
        reference channel.  Thus the output SN table here must also
        have a phase = ref channel freq * delay found above (all with
        2*pi and correct signs etc.).
        Moved to 31DEC13 this date

14333.  March 27, 2014            FQCENTER                Eric
        Change POPSDAT and NEWPARMS to create new adverb FQCENTER,
        change AU2A to default this adverb to +1, and add a new help
        file.  The adverb specifies that the output UV data set should
        have channel Nchan/2 + 1 as the frequency reference, rather
        than the usual 1.0.  This helps with FRING among other things
        since the delay phase slope is better represented as +- equal
        amounts about the average than a value at one end.  Added this
        adverb to the Fortran and Help files for tasks
        DIFUV   DSORC   DSTOK   REAMP   REWGT   UVCMP
        AVER    BDAPL   BPWAY   BPWGT   DAYFX   DBCON   DFQID
        DQUAL   FIXRL   FUDGE   FXTIM   HAFIX   NOIFS   PHNEG
        REIFS   REWAY   RLCOR   SWPOL   TI2HA   TYAPL   UVAVG
        UVCOP   UVFIX   UVLIN   UVLSD   UVLSF   UVMOD   VBGLU
        VPFLG   WTMOD           FXPOL   MULIF           CVEL
        Also changed
        VBCAL    Added FQCENTER, changed it to allow compressed data,
                 modernized coding some
        UVMOD    Wording in help not quite correct - FPOS is in
                 coordinates not tangent plane.
        WTMOD    Add some clarification in help.
        Moved nowhere.

14334.  March 27, 2014              SPLAT                  Eric
        SPLAT, unlike other tasks, "tidies" up the SU table (omits
        sources which have no data in the output file).  It has left
        the CL table with entries for these sources however.  Added a
        CLTIDY routine to clean up the CL table also.
        Moved nowhere.

14335.  March 31, 2014              TIORD                Eric
        Correct formats of display which also includes the visibility
        number (missing from FORMAT statement).  Clean up wording in
        help file.
        Moved Fortran corrections to 31DEC13.

14336.  March 31, 2014             BPWAY                 Eric
        Changed:
        1. Added OPTYPE 'SORC' to do one source at a time rather than
        one scan at a time.  Report when data are out of order and set
        sort order in output header.
        2. Added option to average the Stokes rms values before
        smoothing.  The routine that does this also finds the maximum
        number of WT file records in any one baseline.
        3. This max count is used to make dynamic memory for the
        smoothing, rather than assuming that any of the current
        dynamic or fixed buffers is adequate.
        4. Make sure that the INDEX arrays do not overflow (die if
        it does which is very unlikely).
        5. Fix header for actual number of vis written and compress
        file.
        6. Fix mistaken use of BUFF2 in the smoothing (it is in use
        for UV data from previous scan or source).
        Moved nowhere.

14337.  March 31, 2014            INDXIN                 Eric
        Subroutine which intializes the NX table in calibration
        routines could exit leaving the NX table open when there were
        no lines in the NX table.  Then the cal routines would fail
        with LUN already open in FTAB messages.
        Moved nowhere.

14338.  April 1, 2014           TDEPEND                 Eric
        Imaging a time-dependent source in the presence of other
        time-independent sources is a bit of a problem.  Created
        TDEPEND    $HLPFIL: general help about the issue
        TDEPEND    $RUNSYS: RUN file to compile useful procedures
        TD_SCANS   $HLPFIL: procedure to find scan breaks
        TD_SSCAN   $HLPFIL: procedure to find sub-scan breaks
        TD_STEP3   $HLPFIL: procedure to make initial data set having
                            the target source removed
        TD_STEP5   $HLPFIL: procedure to make later data sets having
                            the target source removed
        Moved nowhere.

14339.  April 2, 2014            XGAUS, RMFIT               Eric
        Discovered numerus calls to the function evaluator which had a
        bad argument, causing it to evaluate derivatives rather than
        residuals.  It is amazing that it worked so well - the symptom
        arose in XGAUS where a single variable (an FTAB pointer) got
        reste to zero most mysteriously in Intel 64-bit optimized code
        only.  Correcting this unearthed an error in RMFIT's attempt
        to make guesses - the change from 3 variables to 4 fit each
        time did not make it to one place in that code.
        Moved corrections only to 31DEC13 this date.

14340.  April 2, 2014                PRTAB                 Eric
        A very long string in a table (BANDCODE for 64 IFs = 256
        characters) was too long for temporary strings in the task.
        Limited the data string in such cases.  Unfortunately, without
        building in special knowledge of specific tables, PRTAB cannot
        know about character string arrays.
        Moved to 31DEC13 this date.

14341.  April 2, 2014           histry                 Eric
        This is a tool for AIPS programmers on Dave which lists the
        putbck history of files.  I corrected the script to handle
        files in $AIPSPUBL and such version-independent ares and also
        to find the REASONS.UPD files to grp.  The latter required
        some new link files in another area (which must be maintained
        at rollover time - note added to rollover instruction file).
        Not part of code movement.

14342.  April 3, 2014                VLBAUTIL              Amy
        Corrected messages out of VLBAEOPS, that were no longer correct
        since INFILE was removed as an input from this proceedure.
        Added deletion of downloaded file to VLBATECR, which was a
        problem for the VLBA pipeline.
        Moved nowhere.

14343.  April 3, 2014          documentation           Eric
        Updated
        HLPIT.LIS   $HLPFIL: tab completions for new tasks, adverbs,
                    procs
        APROPO      $HLPFIL/LSAPROPO.HLP - updated the Copyright, the
                    rest is updated by putbck.
        ABOUT lists $HLPFIL:  ADVERB, ANALYSIS, AP, CALIBRAT, IMAGING,
                    INTERACT, MODELING, OOP, PROCEDUR, SPECTRAL, TASK,
                    TV-APPL, UV, VLA
        Moved nowhere.

14344.  April 7, 2014            FQCENTER                Eric
        If the frequency axis is centered, the FQ table may need to be
        changed if some of the IFs have a different channel separation
        than that listed in the header.  Wrote subroutine CENTFQ to do
        this correction and changed the following tasks to implement
        this correction:
        CENTR  DIFUV  DSORC  DSTOK  REAMP  REWGT  UVCMP
        AVER   BDAPL  BPWAY  BPWGT  DAYFX  DFQID  DQUAL  FIXRL  FUDGE
        FXTIM  HAFIX  PHNEG  REWAY  RLCOR  SWPOL  TI2HA  TYAPL  UVAVG
        UVCOP  UVFIX  UVLIN  UVLSD  UVLSF  UVMOD  VBCAL  VBGLU  VPFLG
        WTMOD         MULIF         CVEL
        Changed FXPOL to drop the FQCENTER adverb - too messy.
        Tasks DBCON, NOIFS, REIFS, and SPLAT do not need changing here.
        Moved nowhere.

14345.  April 9, 2014             APCAL                 Eric
        Changed it to avoid being fooled by duplicate records in the
        GC table.  VLBAMCAL (or VLABFIX) really should be used in
        cases where this is a problem, but we muight as well fix this
        here too.
        Moved nowhere.

14346.  April 10, 2014            CookBook               Eric
        Updated as follows, files $DOCTXT/LaCook*.tex,
        $AIPSPUBL/COOK*.PS
        3      TGET file format, DISKU DOALL meaning
        5      UNClean boxes, BPWAY, TDEPEND
        6      BLSUM makes real plot files
        7      BLSUM, RMFIT & MODIM polarization thickness
        8      BLSUM, SPECR non-Fourier methods
        9      USUBA subarray=0 meaning, RLDLY loop over refants,
               DBAPP, CENTR and FQCENTER re FRING
        11     DISKU (DOALL usage)
        13     Numerous ABOUT lists
        E      RLDLY loop over refants, BPWAY, CENTR & FQCENTER,
               SNP2D
        Z      Overhaul, reduce info re Charlottesville, metion Green
               Bank
        0      updated table of contents, plots, recipes
        I, J   index updated
        COOK*PS copied to ftp area including gzip copies.
        Made html version at aips web site.
        Made and putbck pdf version $AIPSPUBL/COOKBOOK.PDF
        Moved nowhere.

14347.  April 11, 2014              LISTR               Eric
        LISTR failed to display the correct scaling when FACTOR was
        used with phases, elevations, or parallactic angles.  The
        verbose listing (DPARM(5) > 0) also did not show when numbers
        overflowed the format.  The help file needed clarification on
        the use of FACTOR (which is always used in GAIN listings when
        it is > 0).
        Moved to 31DEC13 this date.

14348.  April 15, 2014               SPFLG               Eric
        The help file was not updated last October when the DPARM(4)=2
        option was added.  This divides by the flux including a
        spectral index and is thus channel dependent while =1 uses
        IF-dependent fluxes only.
        Moved nowhere.

14349.  April 15, 2014               UVFND               Eric
        A call to SOUFIL was put in ahead of UVINIT and so the LUN
        used by SOUFIL had not been initialized.  The call was not
        needed in fact.  Moved the statements that depended on the
        call to after UVGET which calls SOUFIL.
        Moved nowhere.

14350.  April 15, 2014             SPLAT                 Eric
        The header frequency when averaging IFs with BIF greater than
        one was incorrect by the offset to BIF (added by low level
        calibration routines and then again by SPLAT).
        Should go to patch.

14351.  April 20, 2014          polarization             Eric
        Testing the (broken) ORI- mode of PCAL/DOPOL has turned up the
        following corrections:
        POLSET    Needed to pick up the phase of the reference
                  antenna, not the last antenna in the PD file.
        ORIPOL    (a) Pointer used the DTERM for BCHAN rather than
                  each channel in turn.  Other similar routines had
                  the channel loop situated so that the pointer was
                  incremented to get each channel, but this routine
                  was different.
                  (b) The values were stored at very bad addresses in
                  the correction array - baselines were separated by
                  16*NIF words rather than 32*NIF*NCHAN words.   They
                  were picked up at the correct stride leading to very
                  bad values applied to the data.
        LXYPOL    Also had the (b) issue above.
        DATPOOL   Dropped warning messages.
        PCAL      (a) In IPCALC (solves the ORI- mode), changed it to
                  handle "no data found" gently, since many channels
                  in a row may be flagged.  A message appears and an
                  answer of (0,0) is returned.
                  (b) In LPCALC (solves the simple model), changed it
                  to trap "no data found" and set 0 into the answers
                  rather than going through all the math to end up
                  with 0 anyway.
                  (c) Changed the automatic reading of the previous
                  solution from the AN or PD table into an optional
                  one.  The default is to omit that reading - bad
                  values can hurt much more than starting with the
                  assumed circular polarization.
                  (d) Corrected BIF and EIF back to the user's input
                  for writing in the history file.
        PCAL      Help: added CPARM(7) option to read initial guesses
                  from the AN or PD table or, by default, omit that.
        Moved PCAL changes only to 31DEC13 on 8-Aug (the ORI- mode was
        found not to work well so no need for such a complicated
        patch).

14352.  April 24, 2014           RLDLY, FRING            Eric
        Both has a memory-saving equivalence that changed the size of
        a COMMON after the parameter MAXIMG was raised making that
        size be different in different places in the task.  Dropped
        the equivalence.
        Moved nowhere.

14353.  April 24, 2014               XGAUS               Eric
        Changed XGAUGE (that gets initial guesses) to
        1. Require that the average of 3 adjacent points be above the
        cutoff rather than all 3 points being above.  Also allow that
        test both with and without removing the estimated baseline.
        2. There is no initial guess from the user now, so use as one
        of the guess possibilities the previous solution but with the
        peaks something like the data values at those pixels.
        3. The possible estimate that was the previous solution did
        not use the previous baseline due to "typo"-level issues.
        These issue meant that ZEMAN would occasionally find a pixel
        with no Gaussian solution where it expected one.
        Moved nowhere.

14354.  May 2, 2014              VPLOT                 Eric
        The option to plot amplitude and phase together restricted the
        X axis type to 12 (IAT time).  Dropped the restriction.  There
        may be problems when asked to plot models - we'll see.
        Moved nowhere.

14355.  May 5, 2014              IMAGR                 Eric
        Add options to plot labels and "stars" on the TV and to
        default OBOXFILE to make unique ones for each run.  Changed:
        IMAGR      Help: add LTYPE adverb, add S commands to BOXFILE,
                   have OBOXFILE = 'ENVariable:' means make a unique
                   name for this run.
        IMAGR      Add new adverb -> CLEAN, parameterize # stars
                   maximum = 100, fill in default OBOXFILE, set
                   graphics channels 5,6,7 for extra labeling, pick up
                   stars from BOXFILE -> CLEAN object
        STBOXF     New routine to parse Stars from BOXFILE.
        QCLEAN     Handle 3 extra graphics plane choices, put them in
                   TV object at each OTVLOD.
        TVUTIL     Add NSTARS, LTYPE as known parameters, in OTVLOD
                   and similar routines pick them up from the parent
                   object and call OTVLAB and OTVSTR as needed.
                   Change OTVLAB to get LTYPE from parent object if TV
                   object does not have it.  Add OTVSTR subroutine to
                   pick up parameters and pass to TVDSTR.
        TVDEVICE   New routine TVDSTR to plot those stars that fit on
                   image using graphics routine PNTPLT.
        BOXFILE    Help: add S format cards for stars.
        Moved nowhere.

14356.  May 6, 2014            IMAGR                 Eric
        Additional fiddling:
        QCLEAN     Fixed typos and values in default graphics channels
        TVDEVICE   Removed redundant lines, added call to SETLOC in
                   TVDSTR
        TVUTIL     Fixed typo causing failure of compile on SUNS in
                   OTVROF
        IMAGR      Rearranged choice of graphics channels, added
                   messages for OBOXFILE and number of stars read.
        Moved nowhere.

14357.  May 6, 2014             UVPRT                   Eric
        Another issue with the printed FREQ.  UVGET adds the FOFF(BIF)
        when it gets the "FREQ" parameter - no need to add it again.
        Moved nowhere.

14358.  May 6, 2014          SPLIT, SPLAT              Eric
        Added defenses for when the user says to average 256 channels
        and there are only 16 or to do every 256 channels when there
        are only 16.  This led to bad values in the header for
        frequency, increment, and the like.  I guess we assumed users
        would be careful with these parameters...
        Moved nowhere.

14359.  May 7, 2014             DOFIT                   Eric
        Changed FRING, KRING, and CALIB to test if the DOFIT option is
        used and, if so, to require that REFANT be spcified and that
        REFANT not be included in the to be fit list.  Errors fixed:
        1. CALIB tested GSOLV before it was set and so did not tell
        the user that certain SOLTYPEs are not allowed in the DOFIT
        option.  It did nothing with REFANT and GSOLV.
        2. FRING stopped the solution for REFANT when REFANT>0 but did
        nothing when REFANT was not speified.
        3. KRING forbad a solution for REFANT > 0 in all cases,
        whether DOFIT was used or not.  Somehow, this seems suspect.
        Moved nowhere.

14360.  May 9, 2014            DOOSRO                   Lorant
        Somewhere on the way the definition of APARM(5) in FRING (# of
        basebands to solve for) changed from quarters to thirds. Modified
        the pipeline to correct for this. Note that the explain file for
        FRING still has the old quarter description for APARM(5)=4, whereas
        the HELP (top) part of FRING.HLP has the newer definition of thirds.
        Moved nowhere.

14361.  May 14, 2014               CURVALUE              Eric
        AU6B called TBCLOS twice, the second leading to an error
        message.
        Moved nowhere.

14362.  May 15, 2014           TGET, TGINDEX            Eric
        AU2A was not properly prepared for having no old-format TG
        files.  Fixed the error handling in TGET and set a parameter
        to avoid an "already closed in FTAB" message.
        Moved nowhere.

14363.  May 15, 2014              TVHUI                 Eric
        Help: Clarify OPTYPE, used in all cases
        Fortran: It did not use the negative options when the transfer
        function was linear, but it did have different parameters set
        for slope and offset.  Thus, negative linear transfers were a
        mess in displaying intensity and hue.  In writing out the
        image, only the hue transfer is used, but that too ignored
        negative when the transfer function was linear.  In creating
        the output wedge file, it used a COPY call when FILL was
        correct - this led the 5th axis to have 5 pixels on it in my
        test version but could have done all sorts of things with
        other compilers.
        Moved nowhere.

14364.  May 20, 2014             FQCENTER              Eric
        Another unintended consequence of the addition of this option
        is that the source table contains velocities which are the
        velocities at the reference pixel.  This then requires a new
        subroutine CENTSU to correct the source velocities.  It uses
        the source table routines (SOUINI, TABSOU, and SUINI, SUREFM
        called by them) and also the FQ routine CHNDAT all of which
        were in $APLNOT.  They have all been moved to $APLSUB with
        only TABSOU getting some re-typing.
        Changed: DBCON to warn about re-running SETJY.
        Remove FQCENTER from CVEL - too complicated given the fact
        that the source velocity in the SU table is based on the
        reference frequency.
        Wrote CENTSU to correct SU table velocities to the new
        reference pixel.
        Changed CENTFQ (1) to call CENTSU, (2) to actually write the
        updated FQ table (it did 2 reads!), and (3) to do the update
        the harder way by making a new version and then copying back
        with appropriate deletions.
        Moved nowhere.

14365.  May 20, 2014          TVFLG, SPFLG              Eric
        Some places did not respond to flagged rows in the FC table
        gently, but instead made it a hard error.  UNDO does flag
        rows, so this is a serious issue.
        Moved to 31DEC13 29 May.

14366.  May 21, 2014          RMSD, CALIB              Eric
        RMSD had to be changed - the shift to a larger MAXIMG made
        some arrays exceed 2*31-1 bytes.  Changed it to limit itself
        to images no bigger than 32768 on a side.
        CALIB had some typos that blocked compilation made May 7.
        Moved nowhere.

14367.  May 22, 2014        EDITA, EDITR              Eric
        Changed QEDIUTIL for the usual table reading issue.  Error
        code < 0 => flagged not bad.
        Moved nowhere.

14368.  May 26, 2014                XGAUS                Eric
        1. Default PIXVAL -> 10^9 rather than 100*FLUX.
        2. Fitting error -1 means NITER exceeded.  Say so.
        3. Increase scratch buffer size to handle larger size
        characters (needed for memo 118).
        4. Allow menu title lines to be 2 lines long (when the TV is
        small or the characters large).
        5. Help file wording improvements, PIXVAL default.
        6. The output routines messed up the residual image header
        when not writing any parameters.  This stopped the correct
        writing of any images.
        7. A format was not wide enough when asking to enter one of
        '1', '2', ... to RETR with that number of Gaussians.
        Moved nowhere.

14369.  May 27, 2014             XGAUS                 Eric
        TSKHLP     Changed code to substitute the current value of <n>
                   fo the string <n> when displaying to the user.
        HLPXGAUS   Changed this online help to have better grammar
                   using the new <n> capability of TSKHLP.  Added a
                   new set of IMAGE definitions when the SHOW is left
                   off to save space.
        TVMENU     Changed the positioning of the menu and spacing of
                   the items.  Added test for a menu too large for the
                   display area.
        XGAUS      Changed XGAUTV to pay more attention to the size of
                   the display area.  Made the title rows use a
                   tighter format when the title row would be wider
                   than the TV.  Changed the handling of columns to go
                   to multiple ones more creatively.  This was forced
                   by trying to fit 8 components with a regular size
                   TV and double size characters.
        Moved nowhere.

14370.  May 27, 2014               DBCON               Eric
        One of the two references to the FQCENTER adverb value made 0
        true and the other made it false.  This was not a good idea
        and caused it to refuse to function in a simple case.
        Moved nowhere.

14371.  May 28, 2014              DBCON                Eric
        The UV scaling for data set 2 was based on the change in
        frequency of data set 2.  It really should have been based on
        the change from the frequency reference of data set 2 to the
        frequency reference of the output data set.  Also the logical
        DOUVM2 should be based on the frequency difference between the
        initial reference frequency of data set 2 and the final output
        frequency rather than only the change in frequency of data set
        2.
        Moved nowhere.

14372.  May 28, 2014          CLPLT, CAPLT              Eric
        These tasks extended the max/min values by a little to make
        room to see all the points, but did not do this for the user's
        DPARM(4->7) or in CLPLT for an extremum selctions of -180 to
        180.  Changed them to do the extending after application of
        the adverbs and the extremum, rather than before.  This also
        allows trapping of max = min.
        The TRIANGLE adverb help file contained obsolete information
        and was completely re-written.
        Moved nowhere.

14373.  May 28, 2014               XGAUS                 Eric
        After a HAND (entire values by hand) operation one may wish
        to take those values as an initial guess and re-try the fit.
        Add DO FIT option immediately after a HAND, but not the rest
        of the time.  Adjusted help file for this.
        Moved nowhere.

14374.  May 29, 2014       Slice plotting              Eric
        Found some issues with laebling slices:
        1. LABINI - added special code in LTYPEs 4-6,8-10 for slices
           to label with X or Y plus Z as center when slice is along
           an axis
        2. TVLAB - put the Y axis label string 1 character too far to
           the left
        3. XGAUS - help did not allow LTYPE > 6.
        4. XGAUS - add code in scaling routine to correct for actual
           number of pixels to exceed screen size.
        5. TVSLIN - added code to scale plot to fill the screen as
           much as possible and the code to correct scaling to make
           sure plot does not exceed the screen size.
        RMFIT and ZEMAN use the graphics package routines for plotting
        and so do not need these fixes.
        Moved nowhere.

14375.  May 30, 2014          IMFIT, JMFIT             Eric
        Found more problems with negatives, causing some error bars to
        be set at some stage to negatives.  This gets confused with
        the flag to avoid fitting those parameters.  This led the fit
        routines to fail to report some valid fit parameters.  I think
        it is all now under control (but I thought that before too).
        Moved nowhere.

14376.  June 2, 2014              HUINT                 Eric
        NEW TASK: This task implements the TVHUEINT verb with a TV
        display and menu approach.  It then writes an image in who
        knows what units with RGB planes and also a corresponding step
        wedge - all if requested.  Put this back although there are
        display mysteries (in TVHUEINT also) which would be nice to
        explore (Blue enhancement turns black on the TV not on the
        output image).
        Moved nowhere.

14377.  June 3, 2014            BLSUM                 Eric
        Changed DOCRT so that value 0 means no printer plot.
        Added OPTYPE='WEIG' with a clip level APARM(3) so that the sum
        is done weighted by the blotch image values, but only those >
        APARM(3).  Changed code to keep blotch image in memory along
        with the blotch selection image.
        Moved nowhere.

14378.  June 3, 2014         HUINT, TVHUEINT             Eric
        Changed subroutine HILUT in task HUINT and in the subroutine
        used by AIPS so the enhancement of the hue image will not make
        black regions on the screen where deep blue should be.  Note
        that HUINT did not make black regions in the output image,
        only in the displayed image.
        Moved nowhere.

14379.  June 4, 2014               UVFLG                  Eric
        Fixed comment in help about TAFLG.  It is OPTYPE not OPCODE.
        Moved nowhere.

14380.  June 4, 2014                IMAGR                 Eric
        The graphics overlay channel for DELBOX caused the stars to ne
        erased.  Added code to QCLEAN to cause the image to reload.
        Moved nowhere.

14381.  June 6, 2014             XGAUS                  Eric
        Changed it to allow a "hand" setting to fix parameters for the
        next plot/fit in the current spectrum.  This was non-trivial
        since the code had not had to support fixed, non-zero
        parameters in a long time.  The function routine must be fed
        in advance the full list of parameter values and must use all
        the parameters in evaluating the function, not just those
        being fit at present.  Follow up routines must preserve the
        full list of parameter values, correcting those that were fit
        but not zeroing those not fit.  For fun, also added a plot of
        the RMS when the model is plotted.  This will make it more
        reasonable to ignore the extensive printouts in the terminal
        window.  Changed XGAUS and HLPXGAUS help files accordingly.
        Moved nowhere.

14382.  June 9, 2014            INDXR, FITLD             Eric
        Added defense in GETMC and GETDEL to avoid a very unlikely
        zero divide.  That code has been there a long time.
        Moved nowhere.

14383.  June 9, 2014             CookBook                Eric
        Changed font in CookBook to palatino except the tt family was
        kept to computer modern since palatino used a light-weight
        Courier for fixed spacing fonts.  This juggled pagination and
        recipes some affecting all $DOCTXT/LaCook*.tex.  Corrected
        errors describing RFLAG in the new Low-band chapter
        LaCookL.tex.  One cannot do a tget after running it since that
        will wipe out the adverbs it just set.
        Moved the PostScript and pdf files eveywhere.

14384.  June 10, 2014               ELINT                 Eric
        Changed the limit on the number of OT table entries to 100000
        from 10000.  Also added test to detect this failure and to
        view things as an error when TABOTT returns an error.
        Moved nowhere.

14385.  June 10, 2014              IBLED                  Eric
        Put in test for menu falling off the bottom of the screen and
        added meaningful messages about CHARMULT or TV size.
        Moved nowhere.

14386.  June 12, 2014           MODSP                  Eric
        NEW TASK: A spectral-line version of MODIM designed to make a
        spectral-line cube in I and V with Zeeman splitting.  It will
        be need to test ZGAUS when I get to that one.
        Moved nowhere.

14387.  June 12, 2014              XGAUS                Eric
        Yet another silly bit of code meant that the output of images
        that were not square in the 2 celestial coordinates was likely
        to fail (if NY < NX).  The headers of the displayed images
        were also compromised.
        Moved nowhere.

14388.  June 13, 2014           MAXFIT                Eric
        Changed MAXFIT help file to add DOINVERS which says to fit for
        a maximum in the negative of the image - i.e. for a negative
        going peak.  Changed AU9 to fit in image values not absolute
        value of image values, to use DOINVERS to negate the image
        values as they are read in, to negate again the peak found,
        and to label the peak value as a Maximum, Minimum, or Image
        (for IMVAL verb).
        Moved nowhere.

14389.  June 13, 2014            DTSUM                Eric
        The task omitted the highest numbered antenna from the
        visibility matrix due to a logic error in deciding which
        antennas to print.
        Moved to 31DEC13 this date.

14390.  June 16, 2014        Coordinate labels        Eric
        Changed DIRRA and DIRCOS to use a wider search range at all
        iterations on the new, modern-style whole-sphere coordinate
        types.  Plots starting 1 pixel off the edge gave them grief
        otherwise.
        Changed ITICS and CTICS to be more forgiving about pixel
        coordinates at the edges of plots.  "Failures" by 0.01 pixels
        were too demanding, use 0.1 pixels now.  ITICS also used a
        border pixel number where an edge pixel number was needed
        (CTICS already had this fix).
        Moved nowhere.

14391.  June 19, 2014            XGAUS                 Eric
        Changed the image display to blow up small images by pixel
        replication.
        Moved nowhere.

14392.  June 19, 2014                RMFIT                Eric
        1. Fitting error -1 means NITER exceeded.  Say so.
        2. After a HAND (entire values by hand) operation one may wish
           to take those values as an initial guess and re-try the fit.
           Add DO FIT option immediately after a HAND, but not the
           rest of the time.
        3. Add this DO FIT to the help file.
        4  A typographical type error meant that images which were not
           square in the 2 celestial coordinates were likely  to fail
           on output of the residual (if NY < NX).  The headers of the
           displayed images were also compromised.
        5  Changed the image display to blow up small images by pixel
           replication.
        6. Made scratch buffers larger to handle larger characters.
        7. Corrected an error message
        8. Changed to make 3 column edit menu if it will not fit on
           the TV otherwise.  Also made multiple formats for the title
           lines depending on TV and character size.
        9. Changed menu to avoid displaying thickness or spectral
           index when we did not fit them.
        10. Fixed help file explain to have the spectral index and
           thickness parameters in the menus.
        11. Fixed typos in MODIM help file.
        Moved nowhere.

14393.  June 19, 2014                ZEMAN                Eric
        (1) Changed to plot initial guess at data points not on a
            1->1000 thing like the Gaussians.  It was step-function
            like for no good reason.  Fixed the Gaussians to use 1000
            or 1.3*Nchan, whichever is larger.
        (2) Changed NGAUS to MAXGAU
        (3) Changed the image display to blow up small images by pixel
            replication.
        Moved nowhere.

14394.  June 19, 2014            TI2HA, HA2TI            Eric
        Added the REFANT option to both.  REFANT=0 means to use the
        lower numbered antenna in EACH pair to comppute the hour angle
        while REFANT > 0 means to use REFANT always.  This should keep
        the data more closely time ordered.
        Moved nowhere.

14395.  June 23, 2014                 CLIP               Eric
        Added BPARM with (1) > 0 => flag parallel hands when one of
        cross-hands is flagged.  (2) > 0 => flagg all polarizations
        when any one is flagged.
        Moved nowhere.

14396.  June 23, 2014              IMAGR                 Eric
        Changed UVWAIT, MAKMAP, IMGMEM to handle the keywords WTNOISE
        and SUMWTIN in a consistant fashion - there was confusion
        between single and double precision.  Now all are double.
        Moved nowhere.

14397.  June 24, 2014                MODSP                Eric
        We realized that ZGAUS is not likely to be of use and have
        abandoned plans for it.  Changed MODSP to omit R-L separation
        but allow separate R and L fluxes, so users can still do what
        they might want including Zeeman-like things.
        Moved nowhere.

14398.  June 24, 2014               PCAL                  Eric
        PCAL used to quit on 10 consecutive failures.  Bad channels
        may exceed this so changed the limit to 256 consecutive
        failures.  Any one success resets the counter.
        Moved to 31DEC13 on 8-Aug.

14399.  June 25, 2014                 BLSUM               Eric
        Added the option to weight by the square of the blotch image.
        Moved nowhere.

14400.  June 26 & 27, 2014            BLAPP                   Eric
        Added a ton of messages to identify where error conditions are
        raised, which may help identify what is failing.  Also put the
        SUBARRAY input variable into the UV data object.
        June 27: added a bunch of input adverbs to the UV data object
        in case various defaults might not find data.
        Moved nowhere.

14401.  June 27, 2014                 CALIB                  Eric
        A special routine ECALC is used to solve for gains when there
        are 2 (or 1) baselines.  It did not get the phase only
        solutions to have correct (1.0) amplitudes.  Added code to
        convert the amplitudes of the gains to 1.
        Moved to 31DEC13 this date.

14402.  June 27, 2014                SNPLT                  Eric
        SNPLT did the metric scaling with the actual max and min
        rather than the intended plot max and min.  SNPLT is smart
        enough to have minimum ranges for all parameters that control
        the latter.  Changed the metric scaling to use the intended
        plot range.
        Moved nowhere.

14403.  June 27, 2014         FQCENTER, UVCOP              Eric
        The CENTFQ call was placed before the fancy table copying and
        so did not find the tables it needed to fix.  CENTSU had an
        excess close call.
        Moved nowhere.

14404.  June 30, 2014              WTMOD                   Eric
        The u,v,w scaling parameter was only set when FQCENTER was
        invoked.  The u,v,w came out zero when FQCENT <= 0.
        Moved nowhere.

14405.  June 30, 2014              FQCENTER               Eric
        Changed CENTFQ and CENTSU to check that there are FQ and SU
        tables (resp.) so that their absence is not treated as a bad
        error.
        Moved nowhere.

14406.  June 30, 2104             AIPSLetter              Eric
        LET14A has been put back in TEX, PS, and PDF forms.
        Moved widely in $AIPSPUBL.

14407.  June 30, 2014         AIPS Memo 118               Eric
        AIPSMEM118 in TEX, PS, and PDF forms has been writte.  It is
        entitled "Modeling Spectral Cubes in AIPS" and describes in
        detail XGAUS, ZEMAN, and RMFIT plus all the model creation
        routines.
        Moved widely in $AIPSPUBL.

14408.  July 1, 2014                FTFLG                 Eric
        This task did not get all the fixes given to SPFLG and it
        should have:
        1. The new in-core gridding method left zeros rather than
        blanks in the times between scans.
        2. Gridding counters can overflow (> 2 billion) so it died
        rather finishing - except that it ignored the error code and
        got in deep trouble.  Counters -> double precision, error
        codes get checked.
        3. If a source number was missing from the source table, the
        source list was at best incomplete or entirely missing.
        4. Changed GRIDFT to have the default source number (INSNUM =
        the number of a single source) in the call sequence to use in
        gridding.  Changed UVIMG to honor this addition (but with 0).
        5. FTFLG labeling worked well when the full image was
        displayed, but needed a lot of clean up to handle sub-images.
        6. Changed ftFLG to have DPARM(4)=2 mean to divide by source
        flux and do a channel-dependent spectral index adjustment of
        that flux.
        7. Some places did not respond to flagged rows in the FC table
        gently, but instead made it a hard error.  UNDO does flag
        rows, so this is a serious issue.
        8. It was missing the on-line help file entirely and the
        explain section of the regular help had menu items not in
        FTFLG (just SPFLG).
        Moved nowhere.

14409.  July 2, 2014        FTFLG, SPFLG               Eric
        Corrected bugs affecting both tasks.  The labeling of IF
        numbers was bad when the sub-image window began in after the
        first pixel of the first IF.  The flagging of data in the
        display and sometimes even in the main data file and the falg
        command file failed on sub-image windows and on displays of
        every 2nd (or more) channel due to an excess of channels times
        IFs.
        Moved nowhere.

14410.  July 3, 2014           LWPLA                Eric
        Changed the default meaning of DPARM(5) to mean force
        portrait.  Values other than 0, 2, and 3 mean to fit to paper.
        The help file already had a reference to HELP POSTSCRIPT but
        it wa given additional info including the strong suggestion
        that ones uses LWPLA to chose font size and type.  The
        positioning of character strings depends on these and it is a
        major pain to adjust all the string positions for a font
        change in the PostScript.
        Moved nowhere.

14411.  July 3, 2014             SNPLT               Eric
        Changed so that it uses the same metric scaling for all plots
        on a page (based on the first plot on the page) when plotting
        only one type.  It labels each vertical axis when plotting
        more than one type so they self-scale entirely.
        Moved nowhere.

14412.  July 6, 2014             Plotting               Eric
        Added options to control metric scaling in LTYPE adverb.
        Changed Fortran:
        METSCL   New routine to adjust metric scaling based on value
                 of LTYPE/100.
        AU5B     Add LTYPE (hundreds part) to TVWLABEL.
        GAL      Call METSCL with 103
        IRING    Call METSCL with 103
        WIPER    Add adverb LTYPE, default -7.
        Handling LTYPE differently
        AU6E     AU9B     TKLAB    TVUTIL   CLAB1    CLAB2    COMLAB
        IAXIS1   TVLAB
        SLFIT    CCNTR    CNTR     ISPEC    PROFL    RSPEC    SL2PL
        XBASL    XGAUS    XPLOT    APCAL    BPLOT    FGPLT    PFPL1
        PLCUB    PLROW
        Handling LTYPE differently and calling METSCL rather than
        METSCA directly:
        AU5D     GTICNT   LABINI   SLBINI   GTIC     PLAXES
        EVAUV    BLSUM    BPERR    GREYS    IMEAN    IMRMS    IMVIM
        KNTR     PCNTR    SERCH    TAPLT    ANBPL    CAPLT    CLPLT
        DFTPL    FRMAP    FRPLT    GCPLT    PFPL2    PFPL3    PLOTR
        POSSM    RFLAG    SNIFS    SNPLT    TARPL    UVHGM    UVPLT
        VPLOT    WETHR
        Help files updated in meaning and allowed range:
        LTYPE    WIPER    BLSUM    PLAYR    SLFIT    IMAGR    EVAUV
        BPERR    CCNTR    CNTR     GREYS    IMEAN    IMRMS    IMVIM
        ISPEC    KNTR     PCNTR    PROFL    RSPEC    SERCH    SL2PL
        TAPLT    XBASL    XGAUS    XPLOT    ANBPL    APCAL    BPLOT
        CAPLT    CLPLT    DFTPL    FGPLT    FRMAP    FRPLT    GCPLT
        OBPLT    PFPL1    PFPL2    PFPL3    PLCUB    PLOTR    PLROW
        POSSM    RFLAG    SNIFS    SNPLT    TARPL    UVHGM    UVPLT
        VPLOT    WETHR    TKGUESS  TKMODEL  TKRESID  TKSLICE  TVCUBE
        TVGUESS  TVLABEL  TVMODEL  TVMOVIE  TVRESID  TVSLICE  TVWLABEL
        Moved nowhere.

14413.  July 9, 2014    VPLOT, ANBPL, CAPLT, CLPLT        Eric
        These 4 tasks could lose track of the user's fixed plot scales
        and gradually expand them in plot row after plot row.  Added
        an array, set at the beginning, and then used to provide the
        fixed scales each time they are needed.  The adverbs are
        filled in with the actual values used since they are part of
        the plot file header and found by PLGET.
        Moved nowhere.

14414.  July 9, 2014          IMAGR, SCMAP, SCIMG          Eric
        TVUTIL used the wrong pointer to call the routines that
        handle UNClean boxes.  Apparently IMAGR had adequate adverbs
        set to keep errors away.  But SCMAP and SCIMG did not.  Fixed
        the calling of the UNClean box display to be when it is
        requested.
        Moved nowhere.

14415.  July 11, 2014        IMEAN, IMSTAT, TVSTAT         Eric
        Changed IMEAN and AU6D so that units of JY/Bxxxx and JY/Pxxxx
        would be viewed as able to give total flux in Jyxxxx.
        Changed IMEAN so that small windows will not change ACTNOISE
        and ACTMEAN keywords unless DOCAT >= 2.
        Moved nowhere.

14416.  July 11, 2014               BPASS                  Eric
        Added 2 new options to normalize with BP function amplitude
        squared (power) rather than BP amplitude (voltage).
        BPASSPRM(10) values 5 and 6 are used for ICHANSEL and all
        channels, respectively.
        Moved nowhere.

14417.  July 11, 2014              PRTSY                  Eric
        Major add-ons:
        1. In simplistic global averages, added control over what
        parts are actually printed.
        2. Added routine to average each scan with MEDIAN and then to
        display the Pdif, Psum, and Psys of (pol,IF,ant,scan) with
        various arrangements: (1) ant by scan per IF, (2) IF by scan
        per antenna, and (3) IF by antenna per scan.  The RMS from the
        medians is also available for display.
        Moved nowhere.outprt

14418.  July 11, 2014       TVMAXFIT, MAXFIT                Eric
        Fixed wording in MAXFIT inputs about DOINVERS and added that
        adverb to the procedure TVMAXFIT inputs and help file.
        Moved nowhere.

14419.  July 11, 2014           LWPLA                      Eric
        Changed ZLWIO to handle file names longer than 120 characters.
        Moved nowhere.

14420.  July 31, 2014           ANFIND                   Eric
        Added array name ATCA to the known arrays, apparently older AN
        files from the ATCA said something else....
        Moved nowhere - relink much.

14421.  July 31, 2014               UVPLT                Eric
        Option 17, baseline length projected on a particular position
        angle, failed since that number was typed as an 18 after the
        real option 18 was already selected.
        Moved nowhere.

14422.  August 4, 2014              MFPRT                Eric
        Correct the velocity computations.  They did not use the
        correct furmulae and assumed that ALTSW had not been used.
        Fixed the formulae and checked/handled the ALTSW question.
        Moved nowhere.

14423.  August 4, 2014              VLBI sampling         Eric
        Changed FXSEG to check only the first 4 characters of the CQ
        table sampling function.  HANNING was not always spelled out
        fully.
        Moved nowhere.

14424.  August 4, 2014            CALIB                   Eric
        Changed CLBPA to force solutions of (1,0) with weight SNRMIN+1
        on those antennas not being solved (DOFIT option).  Otherwise
        some antennas could end up with weight 0.
        Moved nowhere.

14425.  August 5, 2014           FITLD, FIXTM             Eric
        Added REFDATE to both tasks.  In FIXTM, if REFDATE is ahead of
        the header obs date, then the times will be increased and the
        header changed to REFDATE (or even earliere if very negative
        times occurred in the data set).  In FITLD, the internal
        reference date will be changed to REFDATE.  If that date is
        not before or equal the internal reference date in the IDI
        file, some warning messages will appear and the data will not
        be loaded.
        Moved nowhere.

14426.  August 7, 2014             GETDATE                Eric
        New verb: GETDATE returns THEDATE in 4 different string
        formats using the FORMAT adverb.  changed POPSDAT, NEWPARMS,
        AU7B, and help files for THEDATE and GETDATE.
        Moved nowhere.

14427.  August 8, 2014          SAD, IMMOD               Eric
        Upgrade history file:
        SAD   - more digits on number sources line
        IMMOD - now up to 9 comps, before limit was 4.  Add line about
                INLIST.
        Moved nowhere.

14428.  August 8, 2014            TYSMO                 Eric
        Added option to smooth and clip the Pgain's as well.  This is
        needed since there are dropped SY values for some IFs in some
        correlator configurations, but usually plenty of good data in
        each scan to correct the missing points.
        Moved nowhere.

14429.  August 8, 2014              PCAL                 Eric
        The data averaging over time code was written seemingly by
        someone (not me!!) who does not understand real data.  It
        assumed that all samples had 4 valid correlations (RR, RL, LR,
        LL) and that a straight average would be better than a
        weighted one.  If the RL and LR were flagged a lot compared to
        either one of RR and LL, then the source polarization would
        appear reduced by this (bad) averaging method, assuming the
        flagged RL and LR values were not crazy.  The weight sums
        included all weights which could have been negative sometimes
        or zero, so any weighting done woth those sums would have been
        questionable at best.
        Moved to 31DEC13 this date.

14430.  August 19, 2014       TVFLG, SPFLG, FTFLG             Eric
        Added the option to flag a range of IFs (when there are > 2
        IFs).  This changes the FC file format, makes interactive
        flagging rather trickier, and a variety of other issues.
        Interactive flagging now draws pink lines only within the
        confines of the data.
        Changed the help and on-line help files concerning the
        SWITCH ALL-IF FLAG option.
        Moved nowhere.

14431.  August 20/21, 2014              TYSMO                 Eric
        The flagging code had bad errors - flagging RR on LL flags,
        not checking for LL good, and messing up the polarization
        selection of flags (not using the one that applied to the
        current flag).
        Added flagging of PostGains (not moved to 31DEC13).
        Moved bug fixes to 31DEC13 21-Aug.

14432.  August 21, 2014              SNPLT                  Eric
        Fixed the code to plot XY polarization tables correctly
        labeled.
        Moved nowhere.

14433,  August 22, 2014          capitalization             Eric
        Changed TKLAB, TVLAB, CLAB1 to capitalize Ascension and CLAB2
        to use upper and lower case like the other 3.
        Moved nowhere.

14434,  August 22, 2014            POSTSCRIPT               Eric
        Added to this general help file an attempt to describe how to
        put two PostScript files together containing the image and
        step wedge initially produce by HUINT (followed by KNTR and
        LWPLA).
        Moved npwhere.

14435.  August 22, 2014          SNEDT, EDITA              Eric
        Changed QEDIUTIL to add the Post-detector gains to functions
        using the SY table.  It is plotted and used in editing just
        like the Pdif and Psum.  Only other noticable change was to
        recompute the Tsys (Psys) after smoothing the Psum and Pdif.
        Changed help files SNEDT, EDITA, HLPEDISY and HLPEDISS to show
        the new options.
        Moved nowhere.

14436,  August 25, 2014           POSSM                  Eric
        The code that computed the correlation functions, XCF and ACF,
        ignored the existence of polarizations greater than one.
        Added a loop over polarizationand polarization in the
        addressing.  Dropped the backwards passage through the loop
        since the code used an intermediate variable to handle the
        increase in the size of the data (twice as many points, real
        only).  Doubled the size of the two buffers involved.
        Moved nowhere.

14437.  August 26, 2014         SAD, IMFIT, JMFIT           Eric
        Added adverb EFACTOR to the tasks so that the deconvolution is
        tried at the 27 possible EFACTOR * (-1. 0. 1) times the
        uncertainties in the major axis, minor axis, and position
        angle.  Default EFACTOR is 1.3 - previously the code used a
        hard-wired EFACTOR = 1.  Also added code to make a decision
        about whether the component is probaly resolved, probably
        unresolved, or somewhere in between and to display this
        comclusion for the user.  Changed wording in the explain
        sections of the help files about the error computation (giving
        details of the Condon-based method) and about the
        deconvolution and the resolved/unresolved issue.
        Changed POPSDAT.HLP, NEWPARMS.001 for the new adverb and
        created a new help file.
        Moved nowhere.

14438,  August 26, 2014            CLPLT                   Eric
        Corrected error bars.  The very old code assumed that the
        weights were the uncertainties.  They are in fact one over the
        uncertainty squared (when they are at all meaningful).  Also
        added a print (to a file only) option and warnings in the help
        on DOERRB.
        Moved nowhere.

14439,  August 26, 2014             CAPLT               Eric
        Inherited the error bar code of CLPLT: Changed averaged sigmas
        to 1/sqrt(weight) and changed the error computation which
        really was for phase not amplitude.  Added DOEBAR warnings
        about weights being in proper units.
        Moved nowhere.

14440,  August 29, 2014            DRNX.INC               Eric
        Changed the include file to allow 10000 scans (nearly 3 hours
        of 1-second scans)!  For OTF.
        Moved nowhere.

14441.  September 2, 2014         OTF issues               Eric
        Changed LISTR (SCAN option) to allow up to 10000 source names.
        Changed PUVD.INC to raise XSTBSZ to 10000 from 2500.  Means an
        awful lot of re-compilations and link edits.
        Moved nowhere.

14442.  September 3, 2014       IMFIT, JMFIT               Eric
        Changed IMFIT and JMFIT to use the primary beam corrected
        total flux and the primary beam and bandwidth smearing
        corrected peak flux in the "is it resolved" question.  Changed
        the help files (and SAD help file) to point out that the
        deonvolution is done with the bandwidth-smearing corrected
        Clean beam and the the relative flux tests are done woth the
        corrected fluxes (if such corrections are requested).
        Moved nowhere.

14443.  September 3. 2014       VLBI TY tables                Eric
        TABTY      Changed so that values in the table between 998.5
                   and 999.5 are returned as magic blanks.   999 was
                   used as an invalid signal by some VLB systems.
        QEDIUTIL   Changed EDGTTY and EDG1TY to blank values within
                   0.1 of 999.  (Affects SNEDT, EDITA, EDITR)
        SNPLT      In SNPDAT, test Tsys and Tant values for 999 and
                   blank.
        SNIFS      As SNPLT.
        LISTR      In GAINAV, check Tsys and Tant for 999 and maike
                   blank.
        TYSMO      Test on 999 in clip and smooth routines, two places
                   each one.
        Moved nowhere.

14444.  September 3, 2014        Spectral indices            Eric
        Changed:
        FNDSPX    Change call sequence to ask NTERM and return SPIX
                  array (1) Flux at 1 GHz, (2) spectral index, and, if
                  NTERM=2, (3) curvature.
        SPFLG     Change to have DPARM(4) = 3 +> use curvature and
                  change the call sequence of FNDSPXplus add code to
                  apply curvature when fit.
        FTFLG     As SPFLG.
        UVPLT     Change to have DOSCALE = 3 => fit and use the full
                  flux at 1 GHz, spectral index, and curvature, Change
                  the call to FNDSPX and add code to apply curvature
                  when fit successfully.
        CLIP      As UVPLT.
        UVFND     As UVPLT.
        BPASS     Add adverb DOSCALE to control usage of spectral
                  index - < 0 -> none, =2 fit for curvature when
                  fitting, 0 or 1 fit only spectral index if fit on
                  "unknown" sources.
        CPASS     Add adverb DOSCALE to control usage of spectral
                  index - < 0 -> none, =2 fit for curvature when
                  fitting, 0 or 1 fit only spectral index if fit on
                  "unknown" sources.  Add call to FNDSPX which was not
                  present in an otherwise good spectral index routine.
        BLCHN     Add adverb DOSCALE as in BPASS to control fitting.
        PCAL      Serious changes: Add DOSCALE to control spectral
                  index usage.  Drop simplistic fitting of spectral
                  index.  Add subroutine PSOSPX to find spectral
                  parameters of it is a "known" source and subroutine
                  PNDSPX to fit "unknown" sources.  (FNDSPX is
                  overkill since frequencies and fluxes are already
                  known in PCAL.)
        Changed help files for each of these tasks to add adverb or
        new meanings if the spectral index control was already there.
        Moved nowhere.

14445.  September 5, 2014        BPASS, CPASS             Eric
        Both had a prohibition against linear polarization stating
        that it assumed that RR/LL was coming from cal routines but
        DOPOL was false.  Since one gets XX/YY from cal routines
        this is at best silly.
        Moved nowhere.

14446.  September 7, 2014             TYAPL                Eric
        Invent plan to have VLA.EFFICIENCIES file in $AIPSIONS
        eventually and change TYAPL to read it.  By default, it will
        use the list of frequency-dependent, but antenna and
        polarization independent values it has always used.
        GETBND      Take subroutine from INDXR and VLAMP, change to
                    handle frequencies in Hz or GHz.  Adjust call
                    sequences to cover the full range of usage
        FNDEFF      Take subroutine from TYAPL.  Rewritten to use old
                    values only in the absence of a text file.  Read
                    user's CALIN if available and looks likely to be
                    correct, else use the standard one in $AIPSIONS:
        INDXR       Give up GETBND routine and adjust call sequences.
        VLAMP       Give up local versions of FNDEFF and GETBND,
                    Adjust call sequences and size of VEFF.
        TYAPL       Add CALIN adverb for efficiencies file.  Change
                    the efficiencies values to include polarization
                    and antenna dependence.  Call GETBND to find band
                    to use in FNDEFF.
        Moved nowhere.

14447.  September 8, 2014             IMFIT               Eric
        The call to the fitting routine to fit for the image rms was
        flawed with many parameters not being set to correct values.
        Eventually found them all.  The error code returned is much
        more complex than was thought as well.
        Moved nowhere.

14448.  September 8, 2014            ACCOR                Eric
        Added FLAGVER adverb and changed the IO to read via UVGET
        rather than more directly so that the flags can be applied.
        Moved nowhere.

14449.  September 11, 2014          TVFLG, SPFLG           Eric
        Added protection of the current valid header when trying to
        TV load a new plane.  If there was no valid data, then the
        header was messed up but the program went on happily until it
        tried to use that header (i.e. flagging the still displayed
        plane).
        Moved to 31DEC13 Sept 12.

14450.  September 11, 2014        ANTAB                Eric
        Increase local index table arrays.  Forbid multiple subarray
        data - the input text files do not know about that.
        Moved nowhere.

14451.  September 12, 2014         BPASS              Eric
        Increased all dynamic memory allocations by 1 kiloword.  They
        were too tight and the memory pointers could get corrupted.
        Moved to 31DEC13 Sept 12.

14452.  September 15, 2014            MODIM                Eric
        This task overlooked the possibility that real images with an
        FQID axis would be used!  Fixed that oversight.
        Moved nowhere.

14453.  September 15, 2014          BPASS                Eric
        The task correctly identifies linear polarization as Stokes 5
        and 6 (in abs value) but then did not handle arrays that go
        from 1 to 2 only in a proper fashion.  Fixed numerous places
        for this.
        Moved nowhere.

14454.  September 16, 2014            PRTAB                Eric
        Changed handling of defaults for NCOUNT, BDROP, and EDROP.
        If all 3 are <= 0 or NCOUNT <= 0 and EDROP < BDROP, then
        all values in a table element will be printed.  If
        EDROP >= BDROP and BDROP > 1, NCOUNT will be set to at least
        1 so that things like time, antenna, subarray, etc get
        displayed.  Dropped upper limit on DOFLAG in the inputs and
        clarified the defaults in the help.
        Moved nowhere.

14455.  September 16, 2014          DOBAND                Eric
        DATBND essentially forbad BP calibration of XX/YY data.
        Changed one character to treat XX/YY in the same manner as
        RR/LL.
        Moved nowhere.

14456.  September 16, 2014           SNPLT                Eric
        Added OPTYPEs PDGN and PSGN to plot Pdif and Psum divided by
        (4096 * Pgain * Pgain).  Psum and Pdif are recorded with a
        scaling by Pgain and this undoes that (relevant when the Post
        gains are changed from scan to scan).
        Moved nowhere.

14457.  September 17, 2014     XX/YY models                Eric
        Fixed GETCTL so that it can handle an Ipol model with XX/YY uv
        data.
        Moved nowhere.

14458.  September 17, 2014        SNPLT                   Eric
        Fixed the addressing in the new options 'PDGN', 'PSGN'.
        Moved nowhere.

14459.  September 22, 2014         PRTSY                  Eric
        Corrected logic handling TIMERANG since records got out of
        sync.  Changed it to print the center of scans rather than
        some approximation affected by breaks between scans.
        Corrected handling of scans not selected by SOURCES.  Added
        option to do the median average over source and optionally to
        divide one source into the others.
        Moved nowhere.

14460.  September 23, 2014          TVFLG, SPFLG           Eric
        The gridding routines in GRIDTB, TVFLG, SPFLG, and FTFLG set
        up the Stokes of the work file as RR/LL or RL/LR or I but did
        not honor XX/YY.  This made the many preparations to label
        XX/YY in the rest of the tasks useless.  Made the gridder much
        smarter and dropped some non-functional NStokes=4 things in
        FTFLG.
        Moved nowhere.

14461.  September 24, 2014           flagging XX/YY        Eric
        The flagging routines used the Stokes values, so XX/YY fell
        off of the 4-valued Stokes flag array and used the next flag
        table entry (if any) instead.  Fixed DATFLG plus tasks UVCOP,
        TYAPL, PRTSY, SPLAT, VLAMP, and RFLAG, all of which applied
        flagging to data and/or tables.
        Moved nowhere.

14462.  September 24, 2014         Stokes strings          Eric
        AXSTRN   Add XX, YY, XY, YX
        FLGSTK   Add RRLL, RLLR, XX, YY, XY, YX, XXYY, XYYX, CROS
                 and improve examination of type of data Stokes versus
                 strings.
        SETSTK   Only use is to set the STOKES adverb to select the
                 single polarization (even if input adverb calls for >
                 1) - added XX/YY.
        PRTIM    Added XX, YY to list
        UVPRT    Adjusts STOKES input and sets info re columns to
                 print - added XX/YY
        Moved nowhere.

14463.  September 26, 2014           CLCOR                Eric
        Added OPCODE = 'POGN' for gain polynomials that are in power
        rather than voltage units.  Added this to help and added
        emphasis on 'GAIN' that it is voltage units (in help and also
        history).
        Moved nowhere.

14464.  September 29, 2014         PRTSY                  Eric
        Changed the SORC OPCODE to allow normalizing by IF and/or
        antenna as well as by source.  Added an EFFS opcode to do SORC
        but then read an efficiencies file and write a new one based
        on the ratio between 2 sources wrt some reference antenna
        whose effciencies we believe.
        Moved nowhere.

14465.  September 29, 2014            BSCAN               Eric
        Added INVERS.  If > 0, then require scans to have at least 1
        PC table record.  Also added the count of PC table records to
        break ties between scans (if any).
        Moved nowhere.

14466.  September 30, 2014        MC tables                Eric
        Changed the time forgiveness to plus or minu 5.1 minutes.
        This should help with the new MC tables that have longer
        intervals.
        Moved to 31DEC13 this date.

14467.  September 30, 2014       XGAUS, RMFIT, ZEMAN      Eric
        The first 2 of these required the user to supply at least 6
        more pixels on the spectral axis than the number of parameters
        being fit (and RMFIT assumed DOSPIX for all components).
        Changed this to require only 1 more pixel and to count the
        parameters correctly in RMFIT.  All tasks failed to set error
        codes when the spectral axis was either too large or too
        small.  This meant that they did not do some essential things
        but then went on running.
        Moved nowhere.

14468.  October 1, 2014               APCAL                Eric
        Changed APCAL in two ways:
        1. The spllover routine has used the VLBA 7mm spillover for
        everything.  Added better spillover models for S band and for
        the average band (other than 7mm).  APARM(3)=2 allows one to
        have the previous form of the correction if one needs it for
        continuity.
        2. It was noticed that Tsys appears to vary with "IF" by
        rather more than one would expect.  Added an option
        (APARM(6) > 0), to "normalize" the Tsys's to the average Tsys
        by averaging over time the ratio of Tsys(IF,t) to the average
        over IF at that time t.  The normalizing factors found are
        displayed as a function of iF and polarization.
        Moved nowhere.

14469.  October 2, 2014        FTFLG, SPFLG, TVFLG        Eric
        Added the concept of overlapping "pieces" into which the time
        range is divided when the number of times divided by the
        smoothing time does not fit on the TV screen.  The menus get
        the option LOAD NEXT PIECE to load the next piece in sequence
        when the number of pieces is greater than 1.  This adjusts
        the window appropriately and does a LOAD.  The number of
        pieces and their size are reset whenever ENTER SMOOTH TIME is
        used.  Changed Fortran, hep files, and real-time help files.
        Also corrected the axis labeling code to avoid trying to write
        characters off of the screen (on OFF WINDOW + LOAD).
        Moved nowhere.

14470.  October 2, 2014             APCAL               Eric
        Added APARM(7) to give IF to use for normalization rather than
        the average.  Also added tests for 999 -> blanked and tests
        for TS > 0 before using the value.
        Moved nowhere.

14471.  October 6, 2014           Doc files               Eric
        Updated the tab completion file HLPIT.LIS and general ABOUT
        help files: ADVERB, ANALYSIS, CALIBRAT, EDITING, GENERAL,
        INTERACT, MODELING, POLARIZA, POPS, SPECTRAL, TASK,
        TV-APPL, TV, UV, and VERB.
        Moved nowhere.

14472.  October 10, 2014          CookBook                Eric
        Changed chapters:
        4   Add TVFLG new menu item (load next piece), IF range
            flagging, new figure to show new menu, FTFLG mentioned and
            RFLAG
        5   Add mention FTFLG, IMAGR axis labeling, stars, and unique
            OBOXFILE option.
        6   Rewrite hue-intensity paragraphs adding HUINT.  Say more
            about LTYPE.  Memo 118.
        7   BLSUM WEIG option, MODSP, Memo 118
        8   Add HUINT, add ref to AIPS Memo 118 with XGAUS et al.
        9   CLCOR 'GAIN', BPASSP(10)->6, ANTAB before USUBA, APCAL new
            options
        13  Update all changed ABOUT files
        C   Change BPASSP(5) from 0 to -1, (10) to 6 in both cases.
        E   Pgain in TYSMO and EDITA and new SNPLT OPCODEs.  Spectral
            index curvature now can be fit automagically.
        Table of contents and index files 0, I, J also updated.
        Recipe.tex also rearranged as needed.
        Moved nowhere.

14473.  October 14, 2014                CLIP              Eric
        Corrected the usual omission of XX/YY polarization from the
        case statement setting up the clip parameters.  Also changed
        ACLIP.
        Moved nowhere.

14474.  October 14, 2014              CLCOR               Eric
        Corrected formats for POGN and GAIN which caused it to die
        before doing the correction.
        Moved nowhere.

14475.  October 14, 2014             APCAL                Eric
        Rearranged code so that there is no error updating header in
        catalog when there is an odd number of antennas being
        plotted.
        Moved nowhere.

14476.  October 16, 2014            UVFLG               Eric
        the shadowing and elevation routines reduced the computation
        time by a factor of 350 by redoing the needed computations
        only when the time in the data actually changes.
        Unfirtunately a change was defined as >= 1 second.  With
        truncations etc data that are 1 second will not always trigger
        a recomputation.  This led the last record in some scans tp be
        omitted from the flags.  Changed the time extension from 100
        to 90 millisec and made the time changed test the same.
        Moved nowhere.

14477.  October 16, 2014                 APCAL            Eric
        Changed code so that it continues computing if the plot
        option is turned off (DOTV 1 initially, button D hit on page
        full).  Previously it just closed down.
        Moved nowhere.

14478.  October 16, 2014           VLBARUN                Amy
        VLBA pipeline.  The major changes from VLBAPIPE are:
           -- removed all reference to tapes
           -- added ionosphere and EOP corrections
           -- added many sensible defaults (CLINT, REFANT, SOLINT
               INTERPOL, TIMERANGE for instr phase can scans etc.)
           -- put in levels of plotting
           -- allow plots to be written to disk, converted to .gif
              and put in an html file for easy viewing
           -- autoboxing in IMAGR
           -- optional e-mail message stating when pipeline is done
        Moved nowhere.

14479.  October 17, 2014           SPFLG                Eric
        The fast-gridding path through the code did not implement the
        spectral curvature and did bad things when that mode was
        requested.
        Moved nowhere.

14480.  October 17, 2014            KNTR                Eric
        Panel labels LABEL=2 did not give the metric scaling.  Changed
        it to use AXSTRN with the relative coordinate value.  Changed
        AXSTRN to use more adequate formats and kHz as well as Hz and
        MHz.
        Moved nowhere.

14481.  October 17, 2014              LISTR              Eric
        Found numerous uses of ICOR0 that did not include XX/YY
        polarizations, leaving a variety of curious labeling of our
        new P band stuff.
        Moved nowhere.

14482.  October 20, 2014              POSSM               Eric
        Fixed Stokes labeling for X/Y in the bandpass and other
        similar subroutines.  (UV data were already correctly
        labeled.)
        Moved nowhere.

14483.  October 21, 2014           ACSCL                 Eric
        NEW TASK: ACSCL is a version of ACCOR but with many more
        adverbs.  ACCOR adjusts the amplitude scale so that
        autocorrelations (prior to APCAL) remain at 1.0 despite issues
        with bandpass normalization and the like.  In fact, ACCOR may
        be omitted in the processing and replaced, after FRING and
        BPASS, with ACSCL.  Note that ACSCL requires DOCAL and DOBAND
        >= 1.  Added comment about ACSCL in BPASS help at BPASSP(10)
        and BPASSP(4).  Brought BPASSPRM help file up to date.
        Moved nowhere.

14484.  October 22, 2014         Misc.                   Eric
        Changed:
        1. GCPLT    help file inputs section not correct on use
        2. IMFIT    add SNR display on peak intensity or corrected one
                    if the peak has to differentiate between header
                    and channel clean beams
        3. JMFIT    as IMFIT.
        Moved nowhere.

14485.  October 23, 2014            KRING               Eric
        The logic associated with adverb DOFIT was defective causing
        it to fail.  A missing CALL to MSGWRT made that failure even
        more mysterious.
        Moved nowhere.

14486.  October 23, 2014            FRING et al         Eric
        Include file GAIN.INC parameterized its arrays as 2*MAXANT but
        at least FRING used them up to 3 * max antenna number.  So
        long as antenna numbers are less than about 60 this should
        still work (I hope).  LOFAR data has antenna numbers higher
        than 60 and FRING failed.
        Moved nowhere.

14487.  October 24, 2014            MFITSET             Eric
        NEW VERB: Changed AU5, POPSDAT, NEWPARMS and write new help
        file for a verb to set essential adverbs for JMFIT and IMFIT
        from the TV (name adverbs, BLC, TRC, NGAUS, initial guesses).
        Moved nowhere.

14488.  October 31, 2014         TVFLG, SPFLG             Eric
        Added LOAD LAST PIECE option as well to Fortran, help, and
        run-time help for TVFLG, SPFLG, and FTFLG.
        Moved nowhere.

14489.  November 5, 2014          MFITSET                 Eric
        Changed AU5 and the help file to add the option to plot the
        Gaussians as they are set.
        Moved nowhere.

14490.  November 5, 2014            TVSAD                 Eric
        NEW TASK: SAD with TV interactivity to adjust initial guesses,
        island windows, and judge whether one believes the answer.
        Adjusted the TITLE and menu relative position a little in
        TVMENU.
        Moved nowhere.

14491.  November 5, 2014            SAD                 Eric
        Adjusted some formats and made a fix to avoid RMS computation
        failure due to a central, one box, spike in the histogram.
        Moved nowhere.

14492.  November 25, 2014      INP, INPUTS             Eric
        Added adverb DOPRINT which, if <= -2, will suppress the page
        full stops in interactive mode.  Batch and RUN modes already
        ignore page full.  Changed AU1A to implemet this and the 2
        help files.
        Moved nowhere.

14493.  November 25, 2014            SNPLT               Eric
        Changed the SUM plotting to use the user's requested SYMBOL.
        Moved nowhere.

14494.  November 26, 2014           TVSAD                 Eric
        Corrected:
        1. 2 strings that were too short
        2. Plot routine for Gaussians and set Gaussian position angle
           by 90 degrees due to internal form of the position angle in
           most of SAD (not final output).
        3. Subtract the Gaussian over a wider range of rows in making
           the resdiual.
        4. Added the Gaussian number in the center of each Gaussian
           on the cyan graphics overlay
        5. Added the option(s) to REDO individual Gaussians, leaving
           the rest unchanged.
        Moved nowhere.

14495.  November 26, 2014        ABOUT lists             Eric
        Updated the TAB complletion file HLPIT.LIS.
        Updated the ABOUT help files for ANALYSIS, CALIBRAT, INTERACT,
        MODELING, POPS, RUN, TASK, TV, UTILITY, UV, VERB, and VLBI.
        Moved nowhere.

14496.  November 27, 2014          CookBook           Eric/Amy
        Changed chapters 6 and 7 to add MFITSET and TVSAD, chapters 9
        and C to add VLBARUN, plus ABOUT lists, table of contents and
        index.
        Moved nowhere.

14497.  November 27, 2014            TVSAD            Eric
        Added display of ellipses for the Gaussians as one is setting
        them (in graphics plane 5).  Once set, 5 is cleared and the
        ellipses are plotted in plane 4.  Involved making an ellipse
        drawing subroutine to do the work from wherever it is needed.
        Moved nowhere.

***********************************************************************
***********************************************************************

                 Changes while 31DEC14 is NEW

***********************************************************************
***********************************************************************

14499.  December 4, 2014        SAD, TVSAD                Eric
        Changed:
        SAD:     Subtract Gaussian over wider area, TVSAD suggested
                 that the previous setting really did not go far
                 enough.
        TVSAD:   1. Add CURVALUE option to both menus.
                 2. Have CURVALUE run when setting the Gaussian
                 parameters.
                 3. Allow up to 8 (parameterized) Gaussians in any one
                 island (only under user command).
        Also TVSAD and HLPTVSAD help files edited.
        Moved to 31DEC14 this date.

14500.  December 6, 2014            TVSAD                 Eric
        Corrected the menu placement which should not expand if the
        character size expands (and it was too far in in any case).
        Moved to 31DEC14 this date.

14501.  December 11, 2014          Misc               Eric
        Changed
        1. KWIKHD to understand XX/YY polarization
        2. SAD to subtract components over a much wider range of rows
        3. TVSAD as SAD
        Moved to 31DEC14 this date.

14502.  December 11, 2014        AIPS Memo 119        Eric
        AIPS Memo 119, describing the use of the new TVSAD task, has
        been put in $AIPSPUBL in PS (very large), PS.gz, and PDF
        forms.
        $AIPSPUBL is in all releases.

14503.  December 11, 2014             UVSUB              Eric
        removed simple prohibition to allow XX/YY to be modeled with I
        models.
        Moved to 31DEC14 this date.

14504.  December 11, 2014             CENTFQ             Eric
        Changed this subroutine, called by numerous tasks, to
        adjust the FQ table for centering the frequency reference
        channel.  The routine did not consider that the column numbers
        and pointers might differ from the input to the output files.
        But if an old FQ with no bandcode comes in a new one with
        blank bandcode will go out.  So sepearte numbers/pointers for
        the two files are required.
        Moved to 31DEC14 this date.

14506.  December 12, 2014             CLIP              Eric
        The type of clip level to use for V was compromised by a typo.
        Should work now.
        Moved to 31DEC14 this date.

14507.  December 15, 2014            HUINT               Eric
        Add remarks about HUINT to help files for TVHUI and TVHUEINT.
        Also corrected typo in AIPS Memo 119.
        Moved to 31DEC14 this date.

14508.  December 15, 2014        INPUTS                 Eric
        Setting the page full suppression at DOPRINT=-2 hits too many
        other uses - so changed it to <= -9.  Changed AU1A and help
        files for INPUTS and INP.
        Moved to 31DEC14 this date.

14509.  December 18, 2014           CORFQ                Eric
        Changed it so that FACTOR < 0 causes the uvw to be scaled but
        not the header and antenna-table header frequencies.  This can
        be used to undo the unfortunate re-scaling of holography
        "u,v,w"'s in almost all AIPS tasks.
        Moved to 31DEC14 this date.

14510.  December 18, 2014           UVHOL                Eric
        Added adverb DPARM to specify the max weight, amplitude, and
        u,v for the display.  The self-scale routine remains present
        if DPARM(1) < 0 but is skipped unless requested.  Corrected
        the display of channel and frequency to use the correct
        average channel and frequency computed with the average
        channel and BIF.
        Moved to 31DEC14 this date.

14513.  December 30, 2014         SNPLT                Eric
        Test on outside plot range not on correct plot types (tested
        REAL) and type 24, not the PC phase.
        Moved to 31DEC14 this date.

***********************************************************************
***********************************************************************

                 Changes while 31DEC14 is NEW & FROZEN

***********************************************************************
***********************************************************************

14516.  January 2, 2015             DOFARS                Eric
        Changed the help file to emphasize things about BLC and TRC.
        Values 1,2,4,5,6,7 are applied in TRANS, BLC(3), TRC(3) are
        applied in the FARS step.  Dropped OUT2NAME et al from inputs
        and help and DOFARS.001 - they were left over from earlier
        versions of FARS.
        Moved to 31DEC14 this date.

14517.  January 8, 2015          DOFARS                 Eric
        I messed up the proc (close quotes issue).
        Moved to 31DEC14 this date.

14518.  January 13, 2015        RMFIT                    Eric
        Task needs to copy FQ table (if any) to output residual images
        but not the model fit images.
        Moved to 31DEC14 this date.

14519.  January 13, 2015         VLBAUTIL/VLBATECR         Amy
        When VLBATECR calculated which files it needed to download it did not
        handle observations that went over the new year correctly.  Fixed.
        Moved to 31DEC14 Jan 19.

14522.  January 16, 2015            VLBARUN               Amy
        Fixed two small gotchas in VLBARUN.  If a user starts aips
        with "notv" then then default TVCHAN=1 is invalid, this caused
        KNTR to die which then caused VLBARUN to die; changed TVCHAN=0.
        Second if the command "convert" does not exist on system and
        OUTFILE is set (i.e., the user wants output plots in a html file)
        VLBARUN would run, but no plots would be produced and the html
        file would be useless.  Changed VLBARUN to check if OUTFILE was
        set that "convert" exists, and not to run if it does not.  Also
        undated HLP file to say that "convert" is required for those
        features.
        Moved to 31DEC14 Jan 19.

14523.  January 16, 2014            FTFLG                 Eric
        Some vestiges of the way SPFLG handles baselines remained in
        the code and they were not correct for FTFLG.  It led the
        output flag table to be incorrect when one or all baselines to
        one antenna were specified in the ANTENNAS and BASELINE
        adverb.
        Moved to 31DEC14 this date.

14525.  January 20, 2015          BPASS                   Eric
        One array was dimensioned 500 and should have been MXBASE.
        ALMA with 36 antennas breaks this badly.  The history routine
        listing antennas also had a typo bug and was not general and
        so failed in this case.
        Moved to 31DEC14 this date.

14533.  January 29, 2015            MORIF               Eric
        There was a bug in the handling of BP-like tables that made a
        mess of the results.  Bug was in REIFS but did not hurt there.
        Moved bug fix to 31DEC14 this date.

14540.  February 11, 2015           TYSMO                 Eric
        the clip parameters (APARMs) were not applied unless the MWF
        cutoff parameters (CPARM(6-9)) were set.  Corrected this to
        apply the APARMs with or without the CPARMs.
        Moved to 31DEC14 this date.

14546.  February 18, 2015          XAS                   Eric
        Character writing into grey-scale memories used a background
        of 1 which means that the characters could disappear with some
        LUTs.  Changed it to zero in XAS and in $YGEN/YCHRW.
        Moved to 31DEC14 20 May.

14550.  February 21, 2015         bandpass              Eric
        The low level, VLB routine DETRAT was still in left-hand
        antenna coordinates.  This was known to the bandpass
        application routine BPASET but not elsewhere, particularly
        BPASS.  Therefore BPASS made solutions which were not good
        when applied to the calibration data at least for
        high-frequency, narrow-channel data.  Changed DETRAT to be
        right handed and BPASET to go along with this.  Changed some
        vestigial bits in BPASS that had no effect.
        Moved to 31DEC14 this date.

14581.  April 23, 2015              UVINIT   (!!!!)        Eric
        UV data sets are always supposed to be larger by 4 kilobytes
        than they actually  have to be.  But we have encountered some
        that are exactly the right size for some reason.  In that
        case, if the data set is small enough to fit in the first IO
        buffer, there should be no read into the  second buffer.
        The loop thatstarted the first 1-2 reads skipped the second if
        the count was < 0, but my reading of the code said that the
        count would never be < 0 for the first buffer but could be
        zero.  Changed the LT to a LE.
        Moved to patch and 31DEC13 (for Huib).

14578.  April 21, 2015   START_AIPS, TVSERVERS    Josh Malone/Eric
        Changed ^/tmp to ^/\(private/\)*tmp in both scripts to account
        for the new usage in Mac OS 10.10.3  (Yosemite).
        With the correction Mac yosemite is friendly again to simple
        aips commands with no TV= options.
        Moved to 31DEC14 24 April.

14598.  May 19, 2015         Cal routines                Eric
        GAININ    Computed wavelength as if the reference pixel in
                  frequency is always 1.  It is now usually Nchan/2+1
                  making problems with dispersion and polarization
                  calibrations.
        DATCAL    Required both antennas to have non-zero dispersion
                  to apply the correction.  This leaves out all
                  baselines to the reference antenna.
        Moved to 31DEC14 this date.

14600.  May 20, 2015               XAS                   Eric
        Test for Mac's odd DISPLAY variables dir /tmp but not
        /private/tmp which is now used.  Added the latter so that
        shared memory will be used on Macs.
        Moved to 31DEC14 this date.

14604.  June 17, 2015             KRING                 Eric
        This version of KRING does not work all that well.  But it
        cannot work when the help file has fewer adverbs than the
        Fortran.  Put the 31DEC15 help file back to correct this; the
        31DEC15 changes to the Fortran are to extensive for a patch.
        Moved from 31DEC15 this date.

14607.  June 22, 2015                 IMAGR               Eric
        The code that did the baseline-length time averaging copied
        too few spectral channels worth of data to the output buffer
        in the final dump of all remaining baselines (by the number of
        random parameters).
        Moved to 31DEC14 this date.

14660.  August 14, 2015           PCAL                 Eric
        When doing models (at least), the task failed to notice when a
        channel was fully flagged and died later.  Changed so that the
        initial data copying would notice this problem.  I suspect
        that the route through the task for solving for a model
        noticed the absence of data later and handled it.  Also fixed
        unused labels and, with global equivalences, some mismatches.
        Moved to patch this date.

14669.  August 22, 2015           SETJY               Eric
        One routine had 3 different references to format 1000.  Merged
        two of them and made a separate format for the other.  Raised
        MAXSOU to 5000.
        Moved to patch this date.

14682.  September 3, 2015       SAD, TVSAD              Eric
        The creation of the ST table caused the new MF table to
        disappear from the header.  Changed to use the correct header
        version in the STINI call.
        Moved to patch 7 Sept.

14687.  September 14, 2015          PCAL                Eric
        The SPECTRAL false mode was broken - it did not handle the
        end-of-file as a normal confition but as an error.
        Moved correction only to 31DEC14 this date.

