AIPSUPD - COMRPL /home/AIPS/31DEC17/Q/SUB/NOTST/ALGMEM.FOR
AIPSUPD - failed!
AIPSUPD - first 125 lines of /home/AIPS/31DEC17/LNX64/PREP/ALGMEM.LOG follow
COMRPL    : Date       Fri Jan 19 14:31:51 MST 2018
PP        : Preprocess /home/AIPS/31DEC17/Q/SUB/NOTST/ALGMEM.FOR
PP        : into       /home/AIPS/31DEC17/LNX64/PREP/ALGMEM.f
TEST VERSION OF PP
FC        : Date       Fri Jan 19 14:31:51 MST 2018
FC        : Interpret  FC NOPURGE  \
FC        :            /home/AIPS/31DEC17/LNX64/PREP/ALGMEM.f
FC        : as         LIST=FALSE PURGE=FALSE
FC        : plus       /usr/local/compilers/gcc-6/bin/gfortran -c -fno-automatic -Wunused -Wuninitialized -Wmaybe-uninitialized -finit-local-zero -m64 -fimplicit-none -O2 \
FC        :            /home/AIPS/31DEC17/LNX64/PREP/ALGMEM.f
/home/AIPS/31DEC17/LNX64/PREP/ALGMEM.f:533:15:

       IF (FIELD.GT.1) UUU = 1.0
               1
Error: Symbol 'field' at (1) has no IMPLICIT type
FC        : Compile of /home/AIPS/31DEC17/LNX64/PREP/ALGMEM.f
FC        : ends with fatal error(s)!

    1:      SUBROUTINE ALGMEM (DISKI, CNOSCI, DISKO, CNOSCO, CATR, JBUFSZ,
    2:     *   MODSTA, MODEND, BUFF1, BUFF2, BUFF3, IRET)
    3:C-----------------------------------------------------------------------
    4:C! Interpolates model visibility from a grid and subtracts from uv data.
    5:C# UV Modeling AP-appl
    6:C-----------------------------------------------------------------------
    7:C;  Copyright (C) 2008-2009, 2012, 2014-2016, 2018
    8:C;  Associated Universities, Inc. Washington DC, USA.
    9:C;
   10:C;  This program is free software; you can redistribute it and/or
   11:C;  modify it under the terms of the GNU General Public License as
   12:C;  published by the Free Software Foundation; either version 2 of
   13:C;  the License, or (at your option) any later version.
   14:C;
   15:C;  This program is distributed in the hope that it will be useful,
   16:C;  but WITHOUT ANY WARRANTY; without even the implied warranty of
   17:C;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   18:C;  GNU General Public License for more details.
   19:C;
   20:C;  You should have received a copy of the GNU General Public
   21:C;  License along with this program; if not, write to the Free
   22:C;  Software Foundation, Inc., 675 Massachusetts Ave, Cambridge,
   23:C;  MA 02139, USA.
   24:C;
   25:C;  Correspondence concerning AIPS should be addressed as follows:
   26:C;         Internet email: aipsmail@nrao.edu.
   27:C;         Postal address: AIPS Project Office
   28:C;                         National Radio Astronomy Observatory
   29:C;                         520 Edgemont Road
   30:C;                         Charlottesville, VA 22903-2475 USA
   31:C-----------------------------------------------------------------------
   32:C   ALGMEM interpolates model visibility data from a grid and subtracts
   33:C   it from the observed visibilities.  UV data may be in any sort order
   34:C   Assumes CC grids already in AP memory and described by DMOD.INC.
   35:C   Inputs:
   36:C      SCRGRD   I       /CFILES/ file number for grid file.
   37:C      SCRWRK   I       /CFILES/ file number for work file
   38:C      DISKI    I       Input file disk number for catalogd files,
   39:C                       .LE. 0 => /CFILES/ scratch file.
   40:C      CNOSCI   I       Input file catalog slot number or /CFILES/
   41:C                       scratch file number.
   42:C      DISKO    I       Output file disk number for catalogd files,
   43:C                       .LE. 0 => /CFILES/ scratch file.
   44:C      CNOSCO   I       Output file catalog slot number or /CFILES/
   45:C                       scratch file number.
   46:C      CATR     R(256)  UV data catalog header record.
   47:C      LOGRID   I       AP location of CC grid (row -5)
   48:C      JBUFSZ   I       Size in bytes of buffers. Dimension of
   49:C                       BUFF1,2,3  must be at least 4096 words.
   50:C      MODSTA   I       First model to use
   51:C      MODEND   I       Last model to use
   52:C   Inputs: from commons
   53:C      LREC     I       length in words of vis record.
   54:C      NVIS     I       number of vis records
   55:C      FREQG    D(*)    Frequencies of IF and channels in same order
   56:C                       as occurs in the data.
   57:C   Output:
   58:C      BUFF1    R(*)    Working buffer
   59:C      BUFF2    R(*)    Working buffer
   60:C      BUFF3    R(*)    Working buffer
   61:C      IRET     I       Return code, 0 => ok, otherwise not.
   62:C   The AP grid file must contain the gridded UV model for this pass.
   63:C   The UV points are read in and the model is subtracted from them.
   64:C-----------------------------------------------------------------------
   65:      INTEGER   DISKI, CNOSCI, DISKO, CNOSCO, JBUFSZ, MODSTA, MODEND,
   66:     *   IRET
   67:      REAL      BUFF1(*), BUFF2(*), BUFF3(*)
   68:C                                       MINT   = Interpol. support size.
   69:      INTEGER   MINT
   70:      PARAMETER (MINT=11)
   71:      INTEGER   VISRED, NIOUT, IDISK, ICNOSC, INDS(3), NX, NY, ILENBU,
   72:     *   IU, U, IVIS, I, NIO, LENBU, M, MO2, CX, VIS, UV, LLREC,
   73:     *   MM, CNJPTR, WORK, INDEX, LROW, FLAG, NS, APSIZE, MAXREC, CNT,
   74:     *   IFACT, ITEMP1, ITEMP2, INPTR, OUTPTR, JNPTR, KNPTR, LNPTR,
   75:     *   NPOINT, JNCS, J, K, EXCESS, JNCF, LRPARM, ROWSIZ, IDATA, MAXU,
   76:     *   EROW, ERRCNT, IXTEMP(3), MSGSAV, HIC, LOC, UVWP, IFIELD, IM,
   77:     *   LOGRID, CHANEL, NCHAN, SOFF, VISC, UVSAVE, UCOUNT, UTARG
   78:      LOGICAL   DOROT, DOFLAG, ONEFRQ
   79:      REAL      FACT2(4), CATR(256), ZSCLV, ZSCLW, ZSCLU, SCALU, SCALV,
   80:     *   FRSTU, UUMAX, VVMAX, UIN, VIN, UUU, RMAT(3,3), DMAT(3,3),
   81:     *   PMAT(3,3)
   82:      DOUBLE PRECISION GFACT, XRA, XDEC, FFRAC
   83:      CHARACTER CSTOK*1
   84:C     INCLUDE 'INCS:PUVD.INC'
   85:C                                                          Include PUVD
   86:C-----------------------------------------------------------------------
   87:C-----------------------------------------------------------------------
   88:C                                       Parameters for uv data
   89:      INTEGER   MAXANT,  MXBASE,  MAXIF, MAXFLD, MAXAFL, MAXCHA, MAXCIF,
   90:     *   MAXSMO, MAXCID, MAXFQ
   91:C                                       MAXANT = Max. no. antennas.
   92:      PARAMETER (MAXANT=90)
   93:C                                       MXBASE = max. no. baselines
   94:      PARAMETER (MXBASE= ((MAXANT*(MAXANT+1))/2))
   95:C                                       MAXIF=max. no. IFs.
   96:      PARAMETER (MAXIF=90)
   97:C                                       MAXFLD=max. no fields
   98:      PARAMETER (MAXFLD=4096)
   99:C                                       MAXAFL=max. no fields in adverbs
  100:      PARAMETER (MAXAFL=64)
  101:C                                       MAXCHA=max. no. freq. channels.
  102:      PARAMETER (MAXCHA=132096)
  103:C                                       MAXCIF = max. product of no.
  104:C                                       channels times no. IFs times
  105:C                                       no. polarizations
  106:      PARAMETER (MAXCIF=132096)
  107:C                                       MAXSMO = max freq smoothing
AIPSUPD - UPDCOMRPL failed, NOT doing any COMLNK's!
