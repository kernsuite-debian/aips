@@
Frequency offset table     FQdssvv
 
 
A. Overview
 
   The FQ extension table for a uv data set contains relevant information
about the IFs in the raw uv data file.  For these purposes an IF consists
of the output from an IF at the telescope which can be arbitrarily
spaced in frequency from other such IFs.  Examples are the A-C and B-D
IFs of the VLA and the output of independent video converters in VLBI
recorders.  Individual, regularly spaced frequency or delay channels derived
from the correlation of such IFs are not themselves considered IFs.
If an FQ table is present it is possible for a uv data file to contain
multiple frequency and multiple bandwidth data. The uv data can carry a
FRQSEL random parameter, this points to a row in the FQ table which contains
the frequency information needed to define the frequency-like parameters
associated with a particular FRQSEL number.

Note: The FQ table replaces and extends the functionality provided by the
old CH table. At some point in the future CH tables will no longer be
written by AIPS, although we will still maintain the ability to read them.

Names: The file name is FQdsssvv where d is disk number, sss=catalog
number and vv = version number.
 
B.  File structure.

     The logical records (table rows) consist of all the frequency-like
information for all the IF's associated with a given FRQSEL number.
There are as many table rows as there are FRQSEL numbers in the data.

     The file header record contains the following KEYWORD
    Keyword     Code        Description
    --------    ----       --------------------------------------------
     NO_IF       I          The number of IF's (IF-pairs in VLA
                            nomenclature)
 
    Table entries:
 
    Title               Units  code       Description
   ----------          ------- ----  -----------------------------------
     FRQSEL                    1I    The FRQSEL number in the uv data
     IF FREQ             Hz    *D    Frequency offset from ref. freq.
                                     defined in catalogue header.
                                     True = Ref + Offset (See Note 1)
     CH WIDTH            Hz    *R    The bandwidth of an individual
                                     frequency (spectral) channel
     TOTAL BANDWIDTH     Hz    *R    The total bandwidth of an IF,
                                     usually is CH WIDTH * # channels
     SIDEBAND                  *I    Sideband of each IF
                                     -1 => 0 video freq. is high freq. end
                                      1 => 0 video freq. is low freq. end
 
C. User notes.

  The "code" column is element_count + basic type code.
basic type codes: D=Double precision, E=single precision,
   A=character, J=long integer, L=logical, I=short integer, X=bit.

     Note 1. IF FREQ, CH WIDTH, TOTAL BANDWIDTH and SIDEBAND are arrays
whose dimensions are given by the header keywoed NO_IF.

     The true frequency of the observations for a given FRQSEL number
are the signed sums of the reference frequency in the subarray antenna
(AN) file, the peculiar source doppler offset from the source table
(SU file) and the IF frequency offset from this file. There is also the
capability to add a small time variable frequency offset (i.e. to deal
with Doppler tracking od a spectral line source) by adding the
DOPOFF column from the calibration (CL) table.
 
D.  Routines to write FQ files:
     FQINI and TABFQ.
     AIPS utility routine CHNDAT will read or create/write these tables;
CHNCOP will copy all or a subset of the table. They have been modified to
deal with both CH and FQ tables, although eventually CH tables will die
out.
Also see chapter 14 of "Going AIPS" for a detailed description of routines
to access tables files.
 
E.  Routines to access FQ files:
     Same as D.
 
