# List of subroutines requiring special optimization.
#-----------------------------------------------------------------------
#;  Copyright (C) 1995-2001, 2003, 2005-2006, 2008-2009, 2015, 2017
#;  Associated Universities, Inc. Washington DC, USA.
#;
#;  This program is free software; you can redistribute it and/or
#;  modify it under the terms of the GNU General Public License as
#;  published by the Free Software Foundation; either version 2 of
#;  the License, or (at your option) any later version.
#;
#;  This program is distributed in the hope that it will be useful,
#;  but WITHOUT ANY WARRANTY; without even the implied warranty of
#;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#;  GNU General Public License for more details.
#;
#;  You should have received a copy of the GNU General Public
#;  License along with this program; if not, write to the Free
#;  Software Foundation, Inc., 675 Massachusetts Ave, Cambridge,
#;  MA 02139, USA.
#;
#;  Correspondence concerning AIPS should be addressed as follows:
#;         Internet email: aipsmail@nrao.edu.
#;         Postal address: AIPS Project Office
#;                         National Radio Astronomy Observatory
#;                         520 Edgemont Road
#;                         Charlottesville, VA 22903-2475 USA
#-----------------------------------------------------------------------
#
# --------------------------------------------------------------------
#  Files         Architecture    Optimization   Debugging
   BLAPP              SUN3             3           0
   BLAPP              SUN4             3           0
   BLAPP              SOL              3           0
   BLAPP              SUL              3           0
   BLAPP              SGI              2           0
   BLAPP              ALL              6           0
   CLCOR              ALL              1           0
   CONV2              ALL              2           0
   DATCAL             ALL              1           0
   DATPOL             ALL              0           0
   DATBND             ALL              2           0
   BPASET             LNX64            0           0
   POPSRD             ALL              0           0
   KRING              MACINT           0           0
   OMFIT              MACINT           0           0
   CLCAL              MACINT           0           0
   APGPS              MACINT           0           0
   UVHOL              ALL              0           0
#  some non-NRAO MAC laptops fail so let's try this
   VLANT              MACINT           0           0
#  gfortran 4.8+ fails on APCLN some (2015-July again in 2017)
   APCLN              LNX64            0           0
#
#  Intel 64-bit did not work on some computers, okay on others!
#
   ZSTRTA             LNX64            0           0
#
#  Do not optimize DLAMCH: won't work if some instructions are reordered
#
   DLAMCH             ALL              0           0
#
# Most versions of Linux/gcc have problems if FILL is optimized.
# The symptom is tasks freezing, e.g. FITTP or FITLD.
#
   FILL               LINUX            0           0
#
#   GNU gcc 3.2.2 messes up PRJMAT and IOBSRC
#
   IOBSRC             LINUX            0           0
   PRJMAT             LINUX            0           0
   GRIDTB             ALL              2           0
   GRIDTC             ALL              2           0
   GTBWRT             ALL              2           0
#
#  This (GTPARM/HP) may not be needed as long as is used on f77
#  GTPARM             HP               0           0
   RLOCAT             HP               1           0
   AIPS               HP               1           0
   AIPSB              HP               1           0
   AIPSC              HP               1           0
   ZUVPAK             HP               1           0
   ZUVXPN             HP               1           0
   DECBIT             HP               1           0
   USUBA              HP               1           0
   RLOCAT             HP2              1           0
   AIPS               HP2              1           0
   AIPSB              HP2              1           0
   AIPSC              HP2              1           0
   ZUVPAK             HP2              1           0
   ZUVXPN             HP2              1           0
   DECBIT             HP2              1           0
   USUBA              HP2              1           0
   FRING              HP2              1           0
#
#  ConvexOS 10.1, Fortran version 8.0 gives this error:
#       CONVEX FC VERSION V8.0
#       CONVEX FSKEL VERSION V8.0
#       CONVEX ERRMSGF VERSION V8.0.0.0
#       fc: /usr/convex/fskel was terminated by signal `SIGILL'
#  unless you have this for IMSEL:
#
   IMSEL              CVEX             1           0
#
#  JMFIT does not work under AIX with the xlf 3.2 compiler when optimized
#  Likewise FITTP.  Thanks to Ralph Gaume for the report.
#
   JMFIT              IBM              0           0
   FITTP              IBM              0           0
#
#  FITTP appears to generate bogus floating invalid complaints on Alphas
#  if optimized too much
#
   FITTP              ALPHA            0           0
#
#  Version 7.30 of the MIPSpro compiler does something nasty to FITLD
#  at optimization level 2 on SGIs
#
   FITLD              SGI              1           0
   GINITL             SUL              0           0
#
#  For unknown reasons, POPSGN won't work if KWICK and MASSGN are
#  compiled with any optimization
#
   KWICK              LINUX            0           0
   MASSGN             LINUX            0           0
   LISTR              ALL              2           0
   DECBIT             ALL              0           0
#
#  MODFIT seems to confuse Intel compilers on Linux and MAC
#
   MODFIT             ALL              0           0
#
#  The IBM Optimiser can't hack OMFIT
#
   OMFIT              IBM              0           0
   PCAL               ALL              0           0
   PLNGET             ALL              2           0
   PLNPUT             ALL              2           0
   PREFFT             ALL              2           0
   REVERSE            ALL              2           0
#
#  Do not optimize SLAMCH: won't work if some instructions are reordered
#
   SLAMCH             ALL              0           0
   SPFOAD             ALL              2           0
   STFUN              ALL              2           0
   SWFOUR             ALL              2           0
   TVFOAD             ALL              2           0
   UTESS              ALL              2           0
   VM                 ALL              2           0
   VTESS              ALL              2           0
   ZBYTFL             ALL              2           0
#
#  SPARC FORTRAN 4.2 has problems with the following at OPT3 (at least
#  when targeted to the v8+ SPARC instruction set)
#
   UVPREP             SOL              2           0
   UVPREP             SUL              2           0
#
#  Intel version 9.0 messes this one up
#
   TABKEY             LINUX            0           0
   PCCOR              ALL              0           0
#
#  GNU 3.4 sometimes has problems
#
   CL2HF              LINUX            1           0
   CL2HF              LNX64            1           0
#
#  Directory    Architecture    Optimization    Debugging

   $APLNOT            ALL              2           0
#
#  OPT3 is now safe on the SGIs.
#  Well, maybe not quite.  OPT3 seems to mess up on DECBIT; nasty side
#  effect is for TVLOD to do nothing except utter "tv problem".
   DECBIT             SGI              0           0
#  OPT4 should add support for explicit directives for parallel
#  execution where available under IRIX.
#
   $QNOT              SGI              3           0
   $QOOP              SGI              3           0
   $QSUB              SGI              3           0
   $QPSAP             SGI              4           0
   $QSGI              SGI              4           0
#
   $QNOT              ALL              6           0
   $QOOP              ALL              6           0
   $QSUB              ALL              6           0
   $QPSAP             ALL              6           0
   $QVEX              ALL              6           0
#
#  Default for all AIPS (Default must be last in list)
#  It's probably safe to use -O3 ($OPT3 in LDOPTS, FDEFAULT.SH) here...
#
   DEFAULT            SOL              3           0
   DEFAULT            SUL              3           0
   DEFAULT            ALL              2           0
#
# This file is used by the script FCLEVEL.SH to determine the
# optimization and debug level for AIPS subroutines and tasks.  The
# FCLEVEL.SH script reads through this script until the first matching
# File name or Directory and architecture is found.  Note that ALL
# matches any CPU type, so CPU specific instructions MUST proceed ALL
# architecture specifications.  Also note that the DEFAULT specification
# must be at the end of the files list.
#
# This whole scheme is probably due for an overhaul.  The overhead it
# imposes on the scripts is considerable.


