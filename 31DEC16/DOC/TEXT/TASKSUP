                   TASKSUP

               Applications tasks in [.APL]
                 ( X => not-standard routines)


APCLN    VLA (AP)  Does restartable deconvolution with Clark algorithm
ACLN     Appl      Does actual cleaning
ADDMAP   util      Adds maps, gets histogram of results, uses AP
APDFFT   util      Calls FFT routines
BMSHOV   util      Loads a limited portion of the beam into AP
BMSHP    util      Fits a gaussian to central portion of the beam
CLNHIS   HI util   Builds and adds to history file for Clean map
DECIDE   Appl      Determines map lim and size of dirty beam patch
DISPTV   TV disp   Puts inner 512 x 512 residual map on TV
FILES    IO util   Locates files, floats beam, creates clean files
GETIN    Appl      Gets input parms, inits commons
GRIDER   Appl      FTs clean comps, multiplies by transfer func
HISTOB   util      Determines largest external sidelobes as function
                   of beam patch size
MAPPAK   Appl      Finds map points > lim, places them in AP
RESTOR   Appl      Restores clean comps (convolved by Cl. beam)
CMPCRM   util      Load clean comps into AP for FT to UV plane
INGAUS   Util      Creates arrays in Ap for ellip. gaussian restore

 
APMAP  X VLA map   Produces maps from visibility data (export tapes)
MAPINI   Appl      Init commons, get parms
VISRD    Appl      Read in vis tape, sort within records
IRND     Util      Rounds floating to nearest integer
SORT     Sort      In core shell sort
MERGE    Sort      Merges blocks of pre-sorted data
DIEMAP   Appl      Destroy scratch files, close down message
UVDISP   Display   Shows UV distribution on the TV screen
DSKFFT   ............
FILL1    ...........
XPOSE    ...........
EMPTY1   ...........
FILL2    ...........
EMPTY2    .........
GREG     Util      Convert Julian date to calendar characters
DPARM    Appl      Interprets input parms into commons
MAPOUT   Appl      Correct FFT output for FT conv function and
                   write catalogued map files
MAPHIS   Appl      Write HI file for maps
CONGRD   Appl      Applies uniform weighting via UNIF, apply taper,
                   convolve to grid using AP routines
CONVFN   Math      Tabulates convolving functions
GRDTAB   Math      Computes FT of convolving functions
GRDFLT   Appl      Sets default values for convolving functions
UNIF     Appl      Computes & applies uniform weighting to data weights
DWORD  X Util      Converts 2 I*2's to REal*8

 
ASCAL  X UV cal.   Calibrates UV data using model, phase closure
SCLPRM   Appl      Gets parms and verifies
SCFIND   Appl      Finds scan boundaries
CNV      Appl      Extracts data from buffer
GTVMOD   Appl      Gets visibility of model
GETMOD   Appl      Gets list of point components of model from CC file
SOLVE    Appl      Controls: read data, get gains, write gain file rec
SOLVE2   Appl      Gets particular gain solution
VISCOR   Appl      Applies gains to old UV data writing new UV file
GAINPL   Appl      Plot gain solutions to plot file
GNPL2    Appl      Plot ind. point with extrema of solution
ADDEXT   util      Add extension file to catalogued UV file
FLAG     Appl      Flags data to far out from solution
GEDIT    Appl      Flags correlator solutions which are wild
GCALC    Appl      Least-squares fits data to a gain solution
GCALC1   Appl      Alternate gain solution method


CCMOD  X VLA map   Inits clean component file as uniform disk or Gauss
SFACT    util      Determine scaling of points to force integral to 1.0

 
CCTP   X VLA uv    Writes clean components for non-AIPS selfcal pgm

 
CITCC  X VLB map   Writes AIPS clean components to file for CalTech VLB
                   package


CLIP   X UV edit   Flags all UV fluxes > specified maximum.
FUDGIN   appl      Gets input parms, creates output file if needed
SENDUV   IO        Provides appl with UV input, writes UV output
FUGHIS   Hist util Copies, updates history file
DIDDLE   Appl      Flags excess fluxes


CNTR     Plot      Writes contour plot with labels to plot file

 
CNVRT    Map util  Converts images between floating & integer


COMB     Map util  Combines maps in various ways
COMBIN   appl      Interpret input parms, open input files, create
                   scratch file
PCOMBN   appl      Prepares defaults, message describing operation
COMBN    appl      Does combination for single pixel pair
COMSC    util      Creates catalogued file scaling from scratch file
COMBHI   appl      Creates and fills new history file
 
 
CONVL  X appl      Convolves an image with a gaussian or another image.
CONINI   util subr Gets inputs, creates output file, general init.
FILES    util subr Float input images, creates scratch files.
CONVOL   util subr Convolves two images.
CONMUL   util subr Multiplies FT of two images.
CONGAU   AP   subr Computes FT of gaussian function.
CONHIS   hist subr Copies, writes history.
 

CORER  X UV util   Calculates uv correlator based statistics
FUDGIN   UV subr   Gets inputs.
SENDUV   UV subr   Gets UV data point
CORSUM   UV subr   Summed correlator statistics
CRSTAT   UV subr   Determines correlator statistics

 
CORFQ  X UV util   Corrects for incorrect obs. freq.
 
 
CONVL  X WaWa task Convolves a map with some function
FOPEN    Appl      Opens a file
FREDIO   Appl      Performs wait-mode map IO operation
FCLOSE   util      Closes a file
SNCR     util      Creates a unique scratch file
DIECLN   util      Close down operations
FR8P4    util      Converts real*8 to pseudo I*4
AP2DFT   Appl      Set up FFT real <-> complex Hermitian
PASS1    Appl      First pass of FFT - row read, transform
PASS2    Appl      2nd pass: scatter read complete transpose, col FFT
CONVOL   Appl      Convolve an image with a gaussian


CORAV  X UV task   Average all data for each correlator in UV data base


DBCON  X UV task   Concatinate two uv databases.
DBCIN       util   Init. commons, get parms, mark input files.
FRMAT       util   Check compatibility, determine output format,
                   create output file, and prepare to copy data.
DBCOPY      util   Copy data bases to output file.
HISANT      HI util Copy history and antenna files.
 
 
EXFND    VLA tape  Reports contents of uv-data tape, lists possible
                   bad data
XVISRD   I/O       Reads the data, performs main functions
PEXFND   parms     Interprets user parameters to program parms

 
EXIND    VLA tape  Reports contents of export uv-data tape
VISRD    I/O       Reads tape, counts records, does reports
 
 
EXPND  X Tape      Copies EXPORT tape, one source per file.
UVPARM   util      Read inputs, position tapes.
VISCOP   appl.     Copy tape dividing into separate files.
HEADER   util.     Write RUN, ANTE, SOUR records to tape.

 
FITTP    Tape      Writes FITS format map tapes from disk images
FITINI   appl      Gets parms, opens tape
FITHCN   appl      Map header & HI file make FITS header record(s)
FITDCN   appl      Map data file makes FITS data records
FITCHM   util      Move 80-char records to buffer after clear nulls
FITSNC   util      Correct for inhibit bits, apply SNCUT
NXTMAP   util      Opens next map from catalogue(s)
FITEXT   appl      Writes TABLES data after FITS image

 
FUDGE    UV util   Paraform task for handling UV data 1 sample at a time
FUDGIN   Appl      Gets input parms, creates output file if needed
SENDUV   IO        Reads sample, sends to appl routine, writes output
FUGHIS   Hist util Copies history file & updates it
DIDDLE   Appl      Dummy appl here


GEOMA  X Map Task  Translate, scale, and rotate an image
GEOAXE   Appl      Compute axes for header of new image
GEOSUB   Appl      Computes the new image
IEVERT   Util      Computes weights for Everett interpolation
SETCOF   Util      Computes quantities needed by IEVERT
BINOM    Util      Computes binomial coefficients for SETCOF
XYGEOM   Appl      Computes transformed coordinates for GEOSUB


GREYS    Plot      Writes gray-scale image with labels to plot file
                   Optionally, also writes overlayed contours
GRYPRM   Appl      Gets input parameters
GLAB     Plot util Writes axes and labels for gray scale plots

 
IBMTP    VLA tape  Writes an IBM map format tape
UNCNV    appl      Converts standard header to IBM "DEC"-map header
DSCALE   util      Rescales integer buffer preserving inhibit bits

IMFIT  X general   Fits 2-D gaussian components to an image
GFTGP    input     Interprets model parms for IMFIT
GFTMSG   message   Prints some error messages for IMFIT algorithm
GFTDCN   output    Handles output formatting, deconvol for IMFIT
FCN      model     Calculates 2-D model and derivatives for IMFIT
IMPLOT   plot      Lists the map, model and residual on lpt
BMVAL    deconv    Deconvolves beam and gets error estimates

 
IMEAN    General   Finds mean, rms, and extrema of image subarray
HISTO    Plot      Writes plot of histogram to open plot file
HLAB     Plot      Writes labels on histogram plot

 
IMLOD    General   Reads FITS or IBM map tapes, catalogues maps found 
                   in AIPS's map format
MLINI    appl      Initializes parameters, finds out what kind tape
DECDAT   data      Moves pixel values from tape to disk IBM format
DECHDR   format    Converts IBM map format to internal format headers
DECHIS   history   Writes into history file info from IBM map header
FITDAT   data      Converts pixel values tape to disk FITS format
FITHDR   format    Converts FITS header to internal format header
FITHIS   history   Writes into history file info from FITS header
MLDEF    appl      Fills into headers defaulted parameters
MLTAPE   tape util Reads map header tape record, interprets via TPHEAD
MLTABL   data      Reads TABLES records from FITS tape, creates the
                   appropriate extension files

 
LSCAL  X UV cal.   Calibrates UV data using model, phase closure
                   Special version: very large "in core" arrays for VAX
SCLPRM   Appl      Gets parms and verifies
SCFIND   Appl      Finds scan boundaries
CNV      Appl      Extracts data from buffer
GTVMOD   Appl      Gets visibility of model
GETMOD   Appl      Gets list of point components of model from CC file
SOLVE    Appl      Controls: read data, get gains, write gain file rec
SOLVE2   Appl      Gets particular gain solution
VISCOR   Appl      Applies gains to old UV data writing new UV file
GAINPL   Appl      Plot gain solutions to plot file
GNPL2    Appl      Plot ind. point with extrema of solution
ADDEXT   util      Add extension file to catalogued UV file
FLAG     Appl      Flags data to far out from solution
GEDIT    Appl      Flags correlator solutions which are wild
GCALC    Appl      Least-squares fits data to a gain solution
GCALC1   Appl      Alternate gain solution method


MCUBE    Map util  Builds a 3-dim image from 2-dim images
CHKMAP   util      Checks headers to see if 2-d belongs in 3-dim
LUPAX    util      Lines up axis parms to fit in the 2-dim


NTERP  X Map       Puts interpolated subimage on TV screen
INDISP   tv disp   Shows input image top left part of TV
INT3     Math      Spline interpolates image in AP
VBVAL0   Math
VBVAL1   Math      Like VBVAL0, but calls VFC routine
INTERV   Util      Locates position of X in array of X's
BSPLVB   Math      Computes value of B-splines at X given knot seq.
BANFAC   Math      Returns Lu-factorization of banded matrix
BANSLV   Math      Solves for X in banded matrix A * X = B eq.
SPLINT   Math      Produces B-spline coefficients given knots, values
BSPLPP   Math      Converts B representation of spline to PP repr.
VPVAL0
VPVAL1   Math      AP-using version of VPVAL0
IUS      util      Converts floating to largest lower unsigned integer
SUI      util      Floats unsigned integer

 
OLDUV  X UV task   Write export tape from old integer UV data base
UVPARM   util      Reads input parms
VISOUT   Util      Writes tape from catalogued file
UVPGET   util      Gets pointers to UV data base (I*2 version)


PBCOR  X Map cor   Corrects image for primary beam of single dishes
CRADEC   Util      Converts sexagesimal angle to degrees
PBATT    Appl      Determines correction at separation DIST from center
PBHI     Hist      Copies old history and adds parameters


PCNTR    Plot      Makes plot file with contours and/or polariz. lines
PLAB     appl      Add length of poline message to plot file
POLDRW   appl      Read I,P,A maps; draw polarization lines to file

 
PROFL    Plot      Makes plot file of map profiles (2-dimensional)
PFAXIS   appl      Draws and labels axes
PFSCAL   appl      Calculate scale factors for projective geometry
PFXY     appl      Compute projected 2-D coord of input 3-D position
PFDRAW   appl      Draw profile lines: read data, call PFLINE
PFLINE   appl      Draw visible portion of projected line segment
PFTICS   appl      Write tick marks and tick labels
PFCHAR   appl      Generate vector commands for characters

 
PRTAN  X UV util   Prints contents of an "antenna" extension file 


PRTCC  X VLA map   Prints contents of clean components files

 
PRTIM    Display   Prints pixel values and header on line printer
PHEAD    appl      Prints header info for display
PLINE    appl      Prints line of pixel values

 
PRTPL    Display   Interprets plot files to display on dot-matrix print
GRYRAN   util      Sets bit array on if random # < input number (0 - 1)
PRBMCR   io util   Creates scratch file for bit map
PRCHAR   plot util Character generator writes to bit map
PRSBIT   plot util Sets specified bits, does IO to bit map file
PRTDRW   appl      Reads & interprets plot file, calls plot routines
PRTVEC   plot util Sets bits to represent lines in bit map file
PRFINT   appl      Init scratch file incl 2 long vertical lines (if
                   border command in record 1 of plot file)

 
PRTTP    Util      Print contents of tape (all data types ok)
PRTPIN   appl      Starts task, opens & rewinds tape,...
PRTPHD   util      Reads tape header & determines type of data
PRTPLI   util      Handles actual printing w paging, titles, etc.
PRTEXP   appl      Reads and indexes VLA Export UV data files
PRTIBM   appl      Reads and indexes IBM "DEC" map format files
PRTFIT   appl      Reads and indexes all FITS files


PRTUV    UV appl   Print parts of catalogued UV data file


REGLR  X UV appl   Maximum entropy-like mapping/deconvolution
CGM      Appl      Computes gradiants, gets latest solution, -> TV
OBJ      Appl      
SMF5
ERR2     Appl      Compute CHI-square error func & its gradient
FOPEN    util      Open a file
FREDIO   util      Wait-mode map IO
FCLOSE   util      Close file
SNCR     util      Create a unique scratch file
DIECLN   util      File close down operations
FR8P4    util      Real*8 coverted to Pseudo I*4
TVDISP   TV util   Displays current results on TV
AP2DFT   Appl      Set up FFT: real <-> Complex Hermitian
PASS1    FFT util  First pass FFT: rows, partial transpose
PASS2    FFT util  2nd pass FFT: rest transpose, columns
TVMAX    TV util   Does histogram of image using AP
COMPIN   Appl      Add clean components from original map to massaged
                   output map
CONVOL   Appl      Convolve image with a gaussian


RGBMP  X Appl      Creates RGB map from input map's weighted planes.
SETUP    Appl      Get parameters, handle defaults, open files.
ADDWT    Appl      Add weighted 3rd planes of input map to new map.
HISTRY   Appl      Copy, write history for new map.
FIXFAC   Appl      Calculate weighting factor for each input plane.


SL2PL    Plot      Makes plot file of slices
SPINIT   Plot      Gets slice parms, calls axis label routines
SPSLPL   Plot      Plots slice data to plot file
SLABEL   Plot      Plots special slice labeling
SPGMPL   Plot      Plots model fit of slice to plot file
SPRSPL   Plot      Plots residual of slice model fit to slice file


SLFIT    Appl      Fits gaussians to one-dim slices
GAUINI   appl      Gets task parms, gets slice parms
GFUNC    math      Calculates function or Jacobian
GAUFIN   appl      Writes answers, computes errors to user/file
 

SLICE    Map       Computes 1-dimensional slice of image to ext. file
VECWIN   util      Interprets BLC,TRC for vectors (BLC > TRC is ok)
SLTWO    appl      Does slice on 2-dimensional input
SLTHRE   appl      STUBBED: to do slice in 3 dimensions

 
SUBIM   General   Create map that is subimage of another map
 

SUMIM    General   Averages a sequence of maps


TKPL     Display   Interprets plot files to display on TEK4012 graphics
TEKDRW   appl      Reads & interprets plot file, calls plot routines

 
TRANS    Map util  Does 7-dim matrix transpose with subimaging
TRAINI   util      Does inits, gets parms, opens and creates maps
TRAROW   appl      Does row-swapping incl subimaging, find max.min
TRAXPO   appl      Does x with y transpose a plane at a time


TVPL     Display   Interprets plot files onto IIS TV display
IISDRW   appl      Reads & interprets plot files, calls TV routines
YIMGIO   util      Reads/writes line of gray/graphic data to TV

 
UVCOP  X UV appl   Copies a selected timerange of a UV database
FUDGIN   Appl      Get input parameters
SENDUV   UV IO     Read vis rec, call DIDDLE, write vis rec
FUGHIS   Hist      Copy history file, add info
DIDDLE   Appl      Flag data outside timerange


UVDIS  X Appl.     Display Fourier Transform of an image
FOPEN    util      Open a file
FREDIO   util      Wait-mode map IO
FCLOSE   util      Close a file
SNCR     util      Create a scratch file w unique name
DIECLN   util      Close down operations
TVDISP   util      Put image on TV
FR8P4    util      Convert Real*8 to Pseudo I*4
AP2DFT   FFT util  Control FFT: real <-> complex Hermitian
PASS1    FFT util  First pass FFT: rows, partial transpose
PASS2    FFT util  2nd pass: rest of transpose, columns
UVHIST   Appl      Histogram of UV plane
MAPFFT   Appl      Get map, float it, FFT it
CMXCOM   Appl      Combine 2 complex images: +, -, x, divide
AMPMAP   Appl      Write out map of amplitudes


UVEXP  X VLA map   Writes UV data base to EXPORT tape.
UVPARM   Appl      Gets inputs
VISOUT   Appl      Scales and writes data to tape.
MAXFND   Appl      Finds max. u,v,w amplitude and weight.
   
 
UVFLG    UV appl   Flag bad correlators "manually"


UVFND    UV appl   Looks for possibly bad data in UV disk data bases
FNDUIN   appl      Inits task, opens files
FNDUPR   appl      Reads data, prints those meeting criteria


UVLOD    VLA uv    Creates catalogued uv file on disk from export tape
UVPARM   appl      Read, interpret input parms, start build cat block
VISIN    appl      Read data tape, write into cat block and uv file
UVHIS    Appl      Writes history file for UV disk file
UVFHDR   Appl      UV FITS header to internal header: STUBBED
UVFHIS   Appl      UV FITS header to history file: STUBBED
UVFDAT   APPL      UV FITS data to disk file: STUBBED

 
UVMAP  X VLA map   Produces maps from visibility data on disk
MAPINI   Appl      Init commons, get parms
DPARM    Appl      Interprets input parms into commons
VISRD    Appl      Read in vis data and convert form for rest pgm
UVDISP   Display   Shows UV distribution on the TV screen
MAPOUT   Appl      Correct FFT output for FT conv function and
                   write catalogued map files
MAPHIS   Appl      Write HI file for maps
CONGRD   Appl      Applies uniform weighting via UNIF, apply taper,
                   convolve to grid using AP routines
CONVFN   Math      Tabulates convolving functions
GRDTAB   Math      Computes FT of convolving functions
GRDFLT   Appl      Sets default values for convolving functions
UNIF     Appl      Computes & applies uniform weighting to data weights
 

UVPLT    UV plot   Create plot file of 1 UV parm vs another
UVPIN    Appl      Get parms, open input file
SCAL     Appl      Read UV data to figure out range on X, Y axes
PLTUV    Appl      Create and do the plot
XYSCAL   Appl      Find max, min; convert to scaling factors
WANTED   Appl      Determine if current vis is valid & selected
FNDXY    Appl      Extract X, Y values from current vis record


UVSRT    VLA uv    Creates new, resorted uv file from another uv file
UVSRIN   appl      Interpret user parms, create new file if needed
INSORT   util?     Read input file, presorts data to scratch file
UVOUT    appl      Copy scratch to cat file, removing sort keys
ICSORT   util      In core 2-key sort of data


UVSUB  ? VLA uv    Subtracts a source model from uv data.
UVSBIN   appl      Gets inputs and creates output file.
VISSUB   appl      Subtracts model from data.
SUBHIS   appl      Copies and updates history file


ZERO   X UV test   Zeros a UV data base
FUDGIN   Appl      Get input parameters
SENDUV   UV IO     Read vis rec, call DIDDLE, write vis rec
FUGHIS   Hist      Copy history file, add info
DIDDLE   Appl      Set all visibilities to zero



                Tasks in [.AIPS] (POPS-like and Service routines)



AIPS     Main pgm  Main POPS interactive program
GTLINE   Pops      Main Pops calling routine to read, compile, execute
INTERP   Pops      Executes compiled code: links, stacks #s, calls
                   VERBS and QUICK

 
AIPSB    Bat main  Main POPS program for processing batch jobs
BATSET   Bat util  Does start up of batch, closes old jobs, starts new
GTLINB   Pops      Batch version of GTLINE
INTERB   Pops      Version of INTERP for batch (calls VERBSB)

 
AIPSC    Bat main  POPS program for checking text of batch jobs
CHSTRT   Bat util  Performs start up ops for Checker
CHSTOP   Bat util  Performs close down ops for Checker
CU2      Bat util  Version of AU2 to test validity of task GO
CU3A     Bat util  Version of AU3A does PREAD calls required for
                   double checking global destroys
GTLINC   Pops      Checker version of GTLINE
INTERC   Pops      Version of INTERP for checker (calls VERBSC)

 
BATER    Bat util  Stand alone program to prepare & submit jobs to
                   be processed by batch AIPS
BATGTL   Bat util  Causes read, compile, execute in BATER
BATINI   Bat util  Inititializes commons, symbol table in BATER
BATINT   Bat util  Executes verbs in BATER
BATPOL   Bat util  Parses and compiles input in BATER
CUA      Bat util  Version of AUA to submit jobs in BATER
CUB      Bat util  Version of AUB to prepare jobs in BATER
 

EXPTAP   Service   Write tape with AIPS source code, inputs, ... in a
                   fixed-blocked format
BLKIO    util      Moves block to buffer, does IO when needed
WEOF     util      Writes last block and an EOF
GETINC   util      Gets name of include file from card image


FILAIP   Service   Creates & inits full set of AIPS files


FILINI   Service   Creates, destroys, initializes standard files
 

FIXCAT   Service   Manual removal of catalogue entries


FIXFIL   Service   Manual alteration of values in a file


POPSGN   Pops      Stand alone program to compile initial vocabulary
ERROR    appl      Calls error message routines OERROR, ZKDUMP
INTERG   Pops      Version of INTERP for VLAGEN (no VERBS call)

 
PRTACC   Managmnt  Print lists and summaries of AIPS accounting file


PRNTMN   Service   Prints selected portions of the AIPS manual either
                   direct to printer or to tape
PRNTIT   Util      Counts lines/pages, calls for output operation
BLKIO    Util      Moves block to output tape buffer, does IO if full
GETINC   Util      Gets include file name from card image


RDFITS   Service   Reads, indexes, tape movements on FITS-like tapes


SETPAR   Service   Sets values in file used by ZDCHIN for system parms
QUEST    user intr Asks user questions, reads answers

 
ZSTRTA   Service   Starts up next available version of AIPS
ZENDBT   Mod. task Stops a functioning batch processor task

