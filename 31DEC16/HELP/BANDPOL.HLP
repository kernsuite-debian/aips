; BANDPOL
;---------------------------------------------------------------
;! specifies polarizations of individual IFs
;# ADVERB VLBI POLARIZATION
;;  Copyright (C) 2000
;;  Associated Universities, Inc. Washington DC, USA.
;;
;;  This program is free software; you can redistribute it and/or
;;  modify it under the terms of the GNU General Public License as
;;  published by the Free Software Foundation; either version 2 of
;;  the License, or (at your option) any later version.
;;
;;  This program is distributed in the hope that it will be useful,
;;  but WITHOUT ANY WARRANTY; without even the implied warranty of
;;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;;  GNU General Public License for more details.
;;
;;  You should have received a copy of the GNU General Public
;;  License along with this program; if not, write to the Free
;;  Software Foundation, Inc., 675 Massachusetts Ave, Cambridge,
;;  MA 02139, USA.
;;
;;  Correspondence concerning AIPS should be addressed as follows:
;;         Internet email: aipsmail@nrao.edu.
;;         Postal address: AIPS Project Office
;;                         National Radio Astronomy Observatory
;;                         520 Edgemont Road
;;                         Charlottesville, VA 22903-2475 USA
;-----------------------------------------------------------------------
;---------------------------------------------------------------
BANDPOL   LLLLLLLLLLLLUUUUUUUUUUUU CCCCCCCCCCCCCCCCCCCCCCCCCCCCC
----------------------------------------------------------------
BANDPOL
Type: Adverb (String*8)
Use:  To specify the polarization of each IF in a UV data file
      where the polarizations have not been labeled correctly
      in the file header.

Format: In its simplest form the value is a string of Rs and Ls
        or Xs and Ys in which the i-th character denotes the
        polarization of the i-th IF. So

        BANDPOL = 'RLRLRL  '

        would specify that the IF numbers 1, 3, and 5 are RR
        while IF numbers 2, 4, and 6 are LL.

        In general, the value of BANDPOL is a sequence of
        polarization groups. Each polarization group consists
        of either a single letter (R, L, X, or Y) or a sequence
        of the letters R, L, X, and Y enclosed in parentheses
        and preceded by an optional repeat count. The repeat
        count may be a decimal number or an asterisk. If the
        repeat count is omitted it is taken to be 1. An asterisk
        means that the following group should be repeated
        forever.

        BANDPOL is interpreted as follows. First every
        polarization group with a repeat count is replaced
        by n copies of itself where n is the repeat count.
        Secondly, all parentheses are removed from the string.
        Finally, the resulting string is trimmed to a length
        equal to the number of IFs in the file to be processed
        and each character is taken to denote the polarization
        of the corresponding IF.

        Some examples should make this clear.

        '3(RL)   '   IFs 1, 3, and 5 are RR
                     IFs 2, 4, and 6 are LL

        '*(LR)   '   IFs 1, 3, 5, ... are LL
                     IFs 2, 4, 6, ... are RR

        '7XY     '   IFs 1, 2, 3, ..., 7 are XX
                     IF 8 is YY

Null value:  '        '
        Taken to be equivalent to '*(RL) ', that is all odd-
        numbered IFs are RR and all even numbered IFs are LL.

Tasks:
    FXPOL........Corrects VLBA polarization assignments
----------------------------------------------------------------
