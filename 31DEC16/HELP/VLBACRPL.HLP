; VLBACRPL
;---------------------------------------------------------------
;! Plots crosscorrelations
;# PROCEDURE VLBI UTILITY PLOT
;-----------------------------------------------------------------------
;;  Copyright (C) 2001-2002; 2006
;;  Associated Universities, Inc. Washington DC, USA.
;;
;;  This program is free software; you can redistribute it and/or
;;  modify it under the terms of the GNU General Public License as
;;  published by the Free Software Foundation; either version 2 of
;;  the License, or (at your option) any later version.
;;
;;  This program is distributed in the hope that it will be useful,
;;  but WITHOUT ANY WARRANTY; without even the implied warranty of
;;  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;;  GNU General Public License for more details.
;;
;;  You should have received a copy of the GNU General Public
;;  License along with this program; if not, write to the Free
;;  Software Foundation, Inc., 675 Massachusetts Ave, Cambridge,
;;  MA 02139, USA.
;;
;;  Correspondence concerning AIPS should be addressed as follows:
;;         Internet email: aipsmail@nrao.edu.
;;         Postal address: AIPS Project Office
;;                         National Radio Astronomy Observatory
;;                         520 Edgemont Road
;;                         Charlottesville, VA 22903-2475 USA
;-----------------------------------------------------------------------
;---------------------------------------------------------------
VLBACRPL  LLLLLLLLLLLLUUUUUUUUUUUU CCCCCCCCCCCCCCCCCCCCCCCCCCCCC
VLBACRPL: Procedure to plot cross power spectrum
INNAME                             Input UV file name (name)
INCLASS                            Input UV file name (class)
INSEQ             0.0     9999.0   Input UV file name (seq. #)
INDISK            0.0        9.0   Input UV file disk unit #
SOURCES                            Sources to plot
TIMERANG                           Time range of a calibrator
                                    1-4 = start day,hr,min,sec
                                    5-8 = end   day,hr,min,sec
SUBARRAY          0.0     1000.0   Subarray, 0=>1
REFANT             0.0      20.0   Reference antenna; 0=> 1
STOKES                             Stokes' parameters to plot
GAINUSE                            CL table to use; 0=>highest
                                     < 0 => no cal. applied
SOLINT                             >0 defines averaging time
                                   for each plot.  If -1 and
                                   an NX table exists, will
                                   do scan averages.
DOTV           -1.0         1.0    =1 plot to TV, <=0 make plot
                                     file
----------------------------------------------------------------
VLBACRPL
Type: Procedure
Use:  VLBACRPL plots cross-power spectrum to the AIPS TV
      calibrated with the CL table states in GAINUSE.
      Type RUN VLBAUTIL to make the VLBACRPL procedure
      available.

Adverbs:
  INNAME.....Input UV file name (name).      Standard defaults.
  INCLASS....Input UV file name (class).     Standard defaults.
  INSEQ......Input UV file name (seq. #).    0 => highest.
  INDISK.....Disk drive # of input UV file.  0 => any.
  SOURCES....Sources to plot.  If any names begins with a '-'
             all sources listed are deselected (i.e. all others
             are).
  TIMERANG...Time range to plot. In order:
             Start day, hour, min. sec,
             End day, hour, min. sec. Days relative to
             reference date.
  SUBARRAY...Subarray number to select. 0=>1.
  REFANT.....Reference antenna, 0 => the first in the antenna list
  STOKES.....The desired Stokes type of the output data:
             'I','V','Q','U','IQU','IQUV','IV','RR','LL','RL',
             'LR','HALF' (=RR,LL), 'FULL' (=RR,LL,RL,LR)
             blank = 'I'
  GAINUSE....Number of CL table that you wish to be applied in the
             plotting.
             0 => highest; < 0 => no calibration applied.
  SOLINT.....If SOLINT > 0 then the user can make multiple plots per
             pass of POSSM. All other parameters will be obeyed. POSSM
             will start at TIMERANGE, make a plot covering the range
             TIMERANGE + SOLINT, etc.  The units of SOLINT are minutes.
             If SOLINT = -1 then POSSM will make scan averages starting
             at scan nearest to the start time specified in TIMERANGE
             and finishing at the scan end closest in time to the stop
             time specified in TIMERANGE. If TIMERANGE is all zero then
             every scan will be averaged and plotted. This function is
             predicated, of course, on there being an NX table in order
             to determine the scan boundaries.  The data must be in time
             order for SOLINT not 0.
  DOTV.......> 0 => plot directly on the TV device, otherwise make a
             plot file for later display on one or more devices
             (including the TV if desired).
----------------------------------------------------------------
VLBACRPL:           Procedure to plot the crosspower spectrum
Documenter:         Amy Mioduszewski
Related Programs:   VLBAUTIL, POSSM, VLBASNPL

To check the calibration, this should be done often during the
calibration process.  Particularly after correcting the instrumental
phases (VLBAPCOR) and fringe fitting (VLBAKRNG, VLBAFRNG, VLBAKRGP
or VLBAFRGP).  It is  useful to see how the phases change with
every step of the process.

Steps in VLBACRPL:

Runs POSSM, plotting the cross-power spectrum, using:
BASELINE = REFANT, 0;
APARM 0, 1, 0, 0, -180, 180, 0, 0, 1, 0; NPLOT= 9 or
# of antennas, whichever is smaller.
